function hz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ZM={exports:{}},qv={},e$={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=Symbol.for("react.element"),fz=Symbol.for("react.portal"),pz=Symbol.for("react.fragment"),mz=Symbol.for("react.strict_mode"),gz=Symbol.for("react.profiler"),yz=Symbol.for("react.provider"),vz=Symbol.for("react.context"),xz=Symbol.for("react.forward_ref"),bz=Symbol.for("react.suspense"),wz=Symbol.for("react.memo"),_z=Symbol.for("react.lazy"),ZI=Symbol.iterator;function Sz(t){return t===null||typeof t!="object"?null:(t=ZI&&t[ZI]||t["@@iterator"],typeof t=="function"?t:null)}var t$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n$=Object.assign,r$={};function Eu(t,e,n){this.props=t,this.context=e,this.refs=r$,this.updater=n||t$}Eu.prototype.isReactComponent={};Eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i$(){}i$.prototype=Eu.prototype;function pT(t,e,n){this.props=t,this.context=e,this.refs=r$,this.updater=n||t$}var mT=pT.prototype=new i$;mT.constructor=pT;n$(mT,Eu.prototype);mT.isPureReactComponent=!0;var eN=Array.isArray,s$=Object.prototype.hasOwnProperty,gT={current:null},a$={key:!0,ref:!0,__self:!0,__source:!0};function o$(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)s$.call(e,r)&&!a$.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Qf,type:t,key:s,ref:a,props:i,_owner:gT.current}}function Tz(t,e){return{$$typeof:Qf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qf}function Ez(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tN=/\/+/g;function lb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ez(""+t.key):e.toString(36)}function Km(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Qf:case fz:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+lb(a,0):r,eN(i)?(n="",t!=null&&(n=t.replace(tN,"$&/")+"/"),Km(i,e,n,"",function(c){return c})):i!=null&&(yT(i)&&(i=Tz(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(tN,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",eN(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+lb(s,o);a+=Km(s,e,n,l,i)}else if(l=Sz(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+lb(s,o++),a+=Km(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zp(t,e,n){if(t==null)return t;var r=[],i=0;return Km(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Az(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},Gm={transition:null},Pz={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Gm,ReactCurrentOwner:gT};function l$(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Zp,forEach:function(t,e,n){Zp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zp(t,function(){e++}),e},toArray:function(t){return Zp(t,function(e){return e})||[]},only:function(t){if(!yT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Eu;Ce.Fragment=pz;Ce.Profiler=gz;Ce.PureComponent=pT;Ce.StrictMode=mz;Ce.Suspense=bz;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pz;Ce.act=l$;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=n$({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=gT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)s$.call(e,l)&&!a$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Qf,type:t.type,key:i,ref:s,props:r,_owner:a}};Ce.createContext=function(t){return t={$$typeof:vz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yz,_context:t},t.Consumer=t};Ce.createElement=o$;Ce.createFactory=function(t){var e=o$.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:xz,render:t}};Ce.isValidElement=yT;Ce.lazy=function(t){return{$$typeof:_z,_payload:{_status:-1,_result:t},_init:Az}};Ce.memo=function(t,e){return{$$typeof:wz,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Gm.transition;Gm.transition={};try{t()}finally{Gm.transition=e}};Ce.unstable_act=l$;Ce.useCallback=function(t,e){return Bn.current.useCallback(t,e)};Ce.useContext=function(t){return Bn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Bn.current.useEffect(t,e)};Ce.useId=function(){return Bn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Bn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};Ce.useRef=function(t){return Bn.current.useRef(t)};Ce.useState=function(t){return Bn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Bn.current.useTransition()};Ce.version="18.3.1";e$.exports=Ce;var j=e$.exports;const $=qe(j),Iz=hz({__proto__:null,default:$},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nz=j,kz=Symbol.for("react.element"),Oz=Symbol.for("react.fragment"),jz=Object.prototype.hasOwnProperty,Cz=Nz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rz={key:!0,ref:!0,__self:!0,__source:!0};function c$(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)jz.call(e,r)&&!Rz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kz,type:t,key:s,ref:a,props:i,_owner:Cz.current}}qv.Fragment=Oz;qv.jsx=c$;qv.jsxs=c$;ZM.exports=qv;var u=ZM.exports,Uw={},u$={exports:{}},_r={},d$={exports:{}},h$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,q){var X=L.length;L.push(q);e:for(;0<X;){var te=X-1>>>1,Z=L[te];if(0<i(Z,q))L[te]=q,L[X]=Z,X=te;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],X=L.pop();if(X!==q){L[0]=X;e:for(var te=0,Z=L.length,ne=Z>>>1;te<ne;){var G=2*(te+1)-1,W=L[G],ce=G+1,me=L[ce];if(0>i(W,X))ce<Z&&0>i(me,W)?(L[te]=me,L[ce]=X,te=ce):(L[te]=W,L[G]=X,te=G);else if(ce<Z&&0>i(me,X))L[te]=me,L[ce]=X,te=ce;else break e}}return q}function i(L,q){var X=L.sortIndex-q.sortIndex;return X!==0?X:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=L)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function A(L){if(y=!1,x(L),!g)if(n(l)!==null)g=!0,H(T);else{var q=n(c);q!==null&&Y(A,q.startTime-L)}}function T(L,q){g=!1,y&&(y=!1,w(S),S=-1),m=!0;var X=f;try{for(x(q),h=n(l);h!==null&&(!(h.expirationTime>q)||L&&!O());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var Z=te(h.expirationTime<=q);q=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),x(q)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var G=n(c);G!==null&&Y(A,G.startTime-q),ne=!1}return ne}finally{h=null,f=X,m=!1}}var P=!1,E=null,S=-1,I=5,k=-1;function O(){return!(t.unstable_now()-k<I)}function C(){if(E!==null){var L=t.unstable_now();k=L;var q=!0;try{q=E(!0,L)}finally{q?R():(P=!1,E=null)}}else P=!1}var R;if(typeof b=="function")R=function(){b(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=C,R=function(){B.postMessage(null)}}else R=function(){v(C,0)};function H(L){E=L,P||(P=!0,R())}function Y(L,q){S=v(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var X=f;f=q;try{return L()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=f;f=L;try{return q()}finally{f=X}},t.unstable_scheduleCallback=function(L,q,X){var te=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,L={id:d++,callback:q,priorityLevel:L,startTime:X,expirationTime:Z,sortIndex:-1},X>te?(L.sortIndex=X,e(c,L),n(l)===null&&L===n(c)&&(y?(w(S),S=-1):y=!0,Y(A,X-te))):(L.sortIndex=Z,e(l,L),g||m||(g=!0,H(T))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var q=f;return function(){var X=f;f=q;try{return L.apply(this,arguments)}finally{f=X}}}})(h$);d$.exports=h$;var Dz=d$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mz=j,yr=Dz;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f$=new Set,Nh={};function ml(t,e){Nc(t,e),Nc(t+"Capture",e)}function Nc(t,e){for(Nh[t]=e,t=0;t<e.length;t++)f$.add(e[t])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zw=Object.prototype.hasOwnProperty,$z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nN={},rN={};function Lz(t){return zw.call(rN,t)?!0:zw.call(nN,t)?!1:$z.test(t)?rN[t]=!0:(nN[t]=!0,!1)}function Vz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fz(t,e,n,r){if(e===null||typeof e>"u"||Vz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var vT=/[\-:]([a-z])/g;function xT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vT,xT);on[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vT,xT);on[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vT,xT);on[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function bT(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fz(e,n,i,r)&&(n=null),r||i===null?Lz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ss=Mz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,em=Symbol.for("react.element"),Yl=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),wT=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),p$=Symbol.for("react.provider"),m$=Symbol.for("react.context"),_T=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Hw=Symbol.for("react.suspense_list"),ST=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),g$=Symbol.for("react.offscreen"),iN=Symbol.iterator;function ud(t){return t===null||typeof t!="object"?null:(t=iN&&t[iN]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,cb;function Md(t){if(cb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cb=e&&e[1]||""}return`
`+cb+t}var ub=!1;function db(t,e){if(!t||ub)return"";ub=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ub=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Md(t):""}function Bz(t){switch(t.tag){case 5:return Md(t.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return t=db(t.type,!1),t;case 11:return t=db(t.type.render,!1),t;case 1:return t=db(t.type,!0),t;default:return""}}function Kw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xl:return"Fragment";case Yl:return"Portal";case Ww:return"Profiler";case wT:return"StrictMode";case qw:return"Suspense";case Hw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m$:return(t.displayName||"Context")+".Consumer";case p$:return(t._context.displayName||"Context")+".Provider";case _T:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ST:return e=t.displayName||null,e!==null?e:Kw(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return Kw(t(e))}catch{}}return null}function Uz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kw(e);case 8:return e===wT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zz(t){var e=y$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tm(t){t._valueTracker||(t._valueTracker=zz(t))}function v$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ig(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gw(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x$(t,e){e=e.checked,e!=null&&bT(t,"checked",e,!1)}function Yw(t,e){x$(t,e);var n=Ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xw(t,e.type,Ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xw(t,e,n){(e!=="number"||Ig(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $d=Array.isArray;function gc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if($d(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ta(n)}}function b$(t,e){var n=Ta(e.value),r=Ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nm,_$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nm=nm||document.createElement("div"),nm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wz=["Webkit","ms","Moz","O"];Object.keys(Xd).forEach(function(t){Wz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xd[e]=Xd[t]})});function S$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xd.hasOwnProperty(t)&&Xd[t]?(""+e).trim():e+"px"}function T$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=S$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qz=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zw(t,e){if(e){if(qz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function e1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t1=null;function TT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var n1=null,yc=null,vc=null;function cN(t){if(t=ep(t)){if(typeof n1!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Xv(e),n1(t.stateNode,t.type,e))}}function E$(t){yc?vc?vc.push(t):vc=[t]:yc=t}function A$(){if(yc){var t=yc,e=vc;if(vc=yc=null,cN(t),e)for(t=0;t<e.length;t++)cN(e[t])}}function P$(t,e){return t(e)}function I$(){}var hb=!1;function N$(t,e,n){if(hb)return t(e,n);hb=!0;try{return P$(t,e,n)}finally{hb=!1,(yc!==null||vc!==null)&&(I$(),A$())}}function Oh(t,e){var n=t.stateNode;if(n===null)return null;var r=Xv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var r1=!1;if(cs)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){r1=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{r1=!1}function Hz(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Qd=!1,Ng=null,kg=!1,i1=null,Kz={onError:function(t){Qd=!0,Ng=t}};function Gz(t,e,n,r,i,s,a,o,l){Qd=!1,Ng=null,Hz.apply(Kz,arguments)}function Yz(t,e,n,r,i,s,a,o,l){if(Gz.apply(this,arguments),Qd){if(Qd){var c=Ng;Qd=!1,Ng=null}else throw Error(ie(198));kg||(kg=!0,i1=c)}}function gl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uN(t){if(gl(t)!==t)throw Error(ie(188))}function Xz(t){var e=t.alternate;if(!e){if(e=gl(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return uN(i),t;if(s===r)return uN(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function O$(t){return t=Xz(t),t!==null?j$(t):null}function j$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j$(t);if(e!==null)return e;t=t.sibling}return null}var C$=yr.unstable_scheduleCallback,dN=yr.unstable_cancelCallback,Qz=yr.unstable_shouldYield,Jz=yr.unstable_requestPaint,It=yr.unstable_now,Zz=yr.unstable_getCurrentPriorityLevel,ET=yr.unstable_ImmediatePriority,R$=yr.unstable_UserBlockingPriority,Og=yr.unstable_NormalPriority,e7=yr.unstable_LowPriority,D$=yr.unstable_IdlePriority,Hv=null,_i=null;function t7(t){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(Hv,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:i7,n7=Math.log,r7=Math.LN2;function i7(t){return t>>>=0,t===0?32:31-(n7(t)/r7|0)|0}var rm=64,im=4194304;function Ld(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Ld(o):(s&=a,s!==0&&(r=Ld(s)))}else a=n&~i,a!==0?r=Ld(a):s!==0&&(r=Ld(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-li(e),i=1<<n,r|=t[n],e&=~i;return r}function s7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-li(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=s7(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function s1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M$(){var t=rm;return rm<<=1,!(rm&4194240)&&(rm=64),t}function fb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=n}function o7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-li(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function AT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-li(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function $$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L$,PT,V$,F$,B$,a1=!1,sm=[],la=null,ca=null,ua=null,jh=new Map,Ch=new Map,Ys=[],l7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hN(t,e){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(e.pointerId)}}function hd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ep(e),e!==null&&PT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function c7(t,e,n,r,i){switch(e){case"focusin":return la=hd(la,t,e,n,r,i),!0;case"dragenter":return ca=hd(ca,t,e,n,r,i),!0;case"mouseover":return ua=hd(ua,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return jh.set(s,hd(jh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ch.set(s,hd(Ch.get(s)||null,t,e,n,r,i)),!0}return!1}function U$(t){var e=wo(t.target);if(e!==null){var n=gl(e);if(n!==null){if(e=n.tag,e===13){if(e=k$(n),e!==null){t.blockedOn=e,B$(t.priority,function(){V$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ym(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=o1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);t1=r,n.target.dispatchEvent(r),t1=null}else return e=ep(n),e!==null&&PT(e),t.blockedOn=n,!1;e.shift()}return!0}function fN(t,e,n){Ym(t)&&n.delete(e)}function u7(){a1=!1,la!==null&&Ym(la)&&(la=null),ca!==null&&Ym(ca)&&(ca=null),ua!==null&&Ym(ua)&&(ua=null),jh.forEach(fN),Ch.forEach(fN)}function fd(t,e){t.blockedOn===e&&(t.blockedOn=null,a1||(a1=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,u7)))}function Rh(t){function e(i){return fd(i,t)}if(0<sm.length){fd(sm[0],t);for(var n=1;n<sm.length;n++){var r=sm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(la!==null&&fd(la,t),ca!==null&&fd(ca,t),ua!==null&&fd(ua,t),jh.forEach(e),Ch.forEach(e),n=0;n<Ys.length;n++)r=Ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)U$(n),n.blockedOn===null&&Ys.shift()}var xc=Ss.ReactCurrentBatchConfig,Cg=!0;function d7(t,e,n,r){var i=Ge,s=xc.transition;xc.transition=null;try{Ge=1,IT(t,e,n,r)}finally{Ge=i,xc.transition=s}}function h7(t,e,n,r){var i=Ge,s=xc.transition;xc.transition=null;try{Ge=4,IT(t,e,n,r)}finally{Ge=i,xc.transition=s}}function IT(t,e,n,r){if(Cg){var i=o1(t,e,n,r);if(i===null)Sb(t,e,r,Rg,n),hN(t,r);else if(c7(i,t,e,n,r))r.stopPropagation();else if(hN(t,r),e&4&&-1<l7.indexOf(t)){for(;i!==null;){var s=ep(i);if(s!==null&&L$(s),s=o1(t,e,n,r),s===null&&Sb(t,e,r,Rg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sb(t,e,r,null,n)}}var Rg=null;function o1(t,e,n,r){if(Rg=null,t=TT(r),t=wo(t),t!==null)if(e=gl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rg=t,null}function z$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zz()){case ET:return 1;case R$:return 4;case Og:case e7:return 16;case D$:return 536870912;default:return 16}default:return 16}}var ra=null,NT=null,Xm=null;function W$(){if(Xm)return Xm;var t,e=NT,n=e.length,r,i="value"in ra?ra.value:ra.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Xm=i.slice(t,1<r?1-r:void 0)}function Qm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function am(){return!0}function pN(){return!1}function Sr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?am:pN,this.isPropagationStopped=pN,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),e}var Au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kT=Sr(Au),Zf=_t({},Au,{view:0,detail:0}),f7=Sr(Zf),pb,mb,pd,Kv=_t({},Zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pd&&(pd&&t.type==="mousemove"?(pb=t.screenX-pd.screenX,mb=t.screenY-pd.screenY):mb=pb=0,pd=t),pb)},movementY:function(t){return"movementY"in t?t.movementY:mb}}),mN=Sr(Kv),p7=_t({},Kv,{dataTransfer:0}),m7=Sr(p7),g7=_t({},Zf,{relatedTarget:0}),gb=Sr(g7),y7=_t({},Au,{animationName:0,elapsedTime:0,pseudoElement:0}),v7=Sr(y7),x7=_t({},Au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b7=Sr(x7),w7=_t({},Au,{data:0}),gN=Sr(w7),_7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T7[t])?!!e[t]:!1}function OT(){return E7}var A7=_t({},Zf,{key:function(t){if(t.key){var e=_7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OT,charCode:function(t){return t.type==="keypress"?Qm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P7=Sr(A7),I7=_t({},Kv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yN=Sr(I7),N7=_t({},Zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OT}),k7=Sr(N7),O7=_t({},Au,{propertyName:0,elapsedTime:0,pseudoElement:0}),j7=Sr(O7),C7=_t({},Kv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R7=Sr(C7),D7=[9,13,27,32],jT=cs&&"CompositionEvent"in window,Jd=null;cs&&"documentMode"in document&&(Jd=document.documentMode);var M7=cs&&"TextEvent"in window&&!Jd,q$=cs&&(!jT||Jd&&8<Jd&&11>=Jd),vN=String.fromCharCode(32),xN=!1;function H$(t,e){switch(t){case"keyup":return D7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ql=!1;function $7(t,e){switch(t){case"compositionend":return K$(e);case"keypress":return e.which!==32?null:(xN=!0,vN);case"textInput":return t=e.data,t===vN&&xN?null:t;default:return null}}function L7(t,e){if(Ql)return t==="compositionend"||!jT&&H$(t,e)?(t=W$(),Xm=NT=ra=null,Ql=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q$&&e.locale!=="ko"?null:e.data;default:return null}}var V7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V7[t.type]:e==="textarea"}function G$(t,e,n,r){E$(r),e=Dg(e,"onChange"),0<e.length&&(n=new kT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zd=null,Dh=null;function F7(t){sL(t,0)}function Gv(t){var e=ec(t);if(v$(e))return t}function B7(t,e){if(t==="change")return e}var Y$=!1;if(cs){var yb;if(cs){var vb="oninput"in document;if(!vb){var wN=document.createElement("div");wN.setAttribute("oninput","return;"),vb=typeof wN.oninput=="function"}yb=vb}else yb=!1;Y$=yb&&(!document.documentMode||9<document.documentMode)}function _N(){Zd&&(Zd.detachEvent("onpropertychange",X$),Dh=Zd=null)}function X$(t){if(t.propertyName==="value"&&Gv(Dh)){var e=[];G$(e,Dh,t,TT(t)),N$(F7,e)}}function U7(t,e,n){t==="focusin"?(_N(),Zd=e,Dh=n,Zd.attachEvent("onpropertychange",X$)):t==="focusout"&&_N()}function z7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gv(Dh)}function W7(t,e){if(t==="click")return Gv(e)}function q7(t,e){if(t==="input"||t==="change")return Gv(e)}function H7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:H7;function Mh(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zw.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function SN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TN(t,e){var n=SN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SN(n)}}function Q$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J$(){for(var t=window,e=Ig();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ig(t.document)}return e}function CT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K7(t){var e=J$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q$(n.ownerDocument.documentElement,n)){if(r!==null&&CT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TN(n,s);var a=TN(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G7=cs&&"documentMode"in document&&11>=document.documentMode,Jl=null,l1=null,eh=null,c1=!1;function EN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;c1||Jl==null||Jl!==Ig(r)||(r=Jl,"selectionStart"in r&&CT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eh&&Mh(eh,r)||(eh=r,r=Dg(l1,"onSelect"),0<r.length&&(e=new kT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jl)))}function om(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zl={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},xb={},Z$={};cs&&(Z$=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Yv(t){if(xb[t])return xb[t];if(!Zl[t])return t;var e=Zl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z$)return xb[t]=e[n];return t}var eL=Yv("animationend"),tL=Yv("animationiteration"),nL=Yv("animationstart"),rL=Yv("transitionend"),iL=new Map,AN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(t,e){iL.set(t,e),ml(e,[t])}for(var bb=0;bb<AN.length;bb++){var wb=AN[bb],Y7=wb.toLowerCase(),X7=wb[0].toUpperCase()+wb.slice(1);Ra(Y7,"on"+X7)}Ra(eL,"onAnimationEnd");Ra(tL,"onAnimationIteration");Ra(nL,"onAnimationStart");Ra("dblclick","onDoubleClick");Ra("focusin","onFocus");Ra("focusout","onBlur");Ra(rL,"onTransitionEnd");Nc("onMouseEnter",["mouseout","mouseover"]);Nc("onMouseLeave",["mouseout","mouseover"]);Nc("onPointerEnter",["pointerout","pointerover"]);Nc("onPointerLeave",["pointerout","pointerover"]);ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vd));function PN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Yz(r,e,void 0,t),t.currentTarget=null}function sL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;PN(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;PN(i,o,c),s=l}}}if(kg)throw t=i1,kg=!1,i1=null,t}function lt(t,e){var n=e[p1];n===void 0&&(n=e[p1]=new Set);var r=t+"__bubble";n.has(r)||(aL(e,t,2,!1),n.add(r))}function _b(t,e,n){var r=0;e&&(r|=4),aL(n,t,r,e)}var lm="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[lm]){t[lm]=!0,f$.forEach(function(n){n!=="selectionchange"&&(Q7.has(n)||_b(n,!1,t),_b(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lm]||(e[lm]=!0,_b("selectionchange",!1,e))}}function aL(t,e,n,r){switch(z$(e)){case 1:var i=d7;break;case 4:i=h7;break;default:i=IT}n=i.bind(null,e,n,t),i=void 0,!r1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sb(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=wo(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}N$(function(){var c=s,d=TT(n),h=[];e:{var f=iL.get(t);if(f!==void 0){var m=kT,g=t;switch(t){case"keypress":if(Qm(n)===0)break e;case"keydown":case"keyup":m=P7;break;case"focusin":g="focus",m=gb;break;case"focusout":g="blur",m=gb;break;case"beforeblur":case"afterblur":m=gb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=m7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=k7;break;case eL:case tL:case nL:m=v7;break;case rL:m=j7;break;case"scroll":m=f7;break;case"wheel":m=R7;break;case"copy":case"cut":case"paste":m=b7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yN}var y=(e&4)!==0,v=!y&&t==="scroll",w=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,x;b!==null;){x=b;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,w!==null&&(A=Oh(b,w),A!=null&&y.push(Lh(b,A,x)))),v)break;b=b.return}0<y.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==t1&&(g=n.relatedTarget||n.fromElement)&&(wo(g)||g[us]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?wo(g):null,g!==null&&(v=gl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=mN,A="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=yN,A="onPointerLeave",w="onPointerEnter",b="pointer"),v=m==null?f:ec(m),x=g==null?f:ec(g),f=new y(A,b+"leave",m,n,d),f.target=v,f.relatedTarget=x,A=null,wo(d)===c&&(y=new y(w,b+"enter",g,n,d),y.target=x,y.relatedTarget=v,A=y),v=A,m&&g)t:{for(y=m,w=g,b=0,x=y;x;x=Cl(x))b++;for(x=0,A=w;A;A=Cl(A))x++;for(;0<b-x;)y=Cl(y),b--;for(;0<x-b;)w=Cl(w),x--;for(;b--;){if(y===w||w!==null&&y===w.alternate)break t;y=Cl(y),w=Cl(w)}y=null}else y=null;m!==null&&IN(h,f,m,y,!1),g!==null&&v!==null&&IN(h,v,g,y,!0)}}e:{if(f=c?ec(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=B7;else if(bN(f))if(Y$)T=q7;else{T=z7;var P=U7}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=W7);if(T&&(T=T(t,c))){G$(h,T,n,d);break e}P&&P(t,f,c),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Xw(f,"number",f.value)}switch(P=c?ec(c):window,t){case"focusin":(bN(P)||P.contentEditable==="true")&&(Jl=P,l1=c,eh=null);break;case"focusout":eh=l1=Jl=null;break;case"mousedown":c1=!0;break;case"contextmenu":case"mouseup":case"dragend":c1=!1,EN(h,n,d);break;case"selectionchange":if(G7)break;case"keydown":case"keyup":EN(h,n,d)}var E;if(jT)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ql?H$(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(q$&&n.locale!=="ko"&&(Ql||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ql&&(E=W$()):(ra=d,NT="value"in ra?ra.value:ra.textContent,Ql=!0)),P=Dg(c,S),0<P.length&&(S=new gN(S,t,null,n,d),h.push({event:S,listeners:P}),E?S.data=E:(E=K$(n),E!==null&&(S.data=E)))),(E=M7?$7(t,n):L7(t,n))&&(c=Dg(c,"onBeforeInput"),0<c.length&&(d=new gN("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}sL(h,e)})}function Lh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oh(t,n),s!=null&&r.unshift(Lh(t,s,i)),s=Oh(t,e),s!=null&&r.push(Lh(t,s,i))),t=t.return}return r}function Cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function IN(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Oh(n,s),l!=null&&a.unshift(Lh(n,l,o))):i||(l=Oh(n,s),l!=null&&a.push(Lh(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var J7=/\r\n?/g,Z7=/\u0000|\uFFFD/g;function NN(t){return(typeof t=="string"?t:""+t).replace(J7,`
`).replace(Z7,"")}function cm(t,e,n){if(e=NN(e),NN(t)!==e&&n)throw Error(ie(425))}function Mg(){}var u1=null,d1=null;function h1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f1=typeof setTimeout=="function"?setTimeout:void 0,eW=typeof clearTimeout=="function"?clearTimeout:void 0,kN=typeof Promise=="function"?Promise:void 0,tW=typeof queueMicrotask=="function"?queueMicrotask:typeof kN<"u"?function(t){return kN.resolve(null).then(t).catch(nW)}:f1;function nW(t){setTimeout(function(){throw t})}function Tb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rh(e)}function da(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ON(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),vi="__reactFiber$"+Pu,Vh="__reactProps$"+Pu,us="__reactContainer$"+Pu,p1="__reactEvents$"+Pu,rW="__reactListeners$"+Pu,iW="__reactHandles$"+Pu;function wo(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[us]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ON(t);t!==null;){if(n=t[vi])return n;t=ON(t)}return e}t=n,n=t.parentNode}return null}function ep(t){return t=t[vi]||t[us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ec(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Xv(t){return t[Vh]||null}var m1=[],tc=-1;function Da(t){return{current:t}}function dt(t){0>tc||(t.current=m1[tc],m1[tc]=null,tc--)}function rt(t,e){tc++,m1[tc]=t.current,t.current=e}var Ea={},An=Da(Ea),Gn=Da(!1),zo=Ea;function kc(t,e){var n=t.type.contextTypes;if(!n)return Ea;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(t){return t=t.childContextTypes,t!=null}function $g(){dt(Gn),dt(An)}function jN(t,e,n){if(An.current!==Ea)throw Error(ie(168));rt(An,e),rt(Gn,n)}function oL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,Uz(t)||"Unknown",i));return _t({},n,r)}function Lg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ea,zo=An.current,rt(An,t),rt(Gn,Gn.current),!0}function CN(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=oL(t,e,zo),r.__reactInternalMemoizedMergedChildContext=t,dt(Gn),dt(An),rt(An,t)):dt(Gn),rt(Gn,n)}var Wi=null,Qv=!1,Eb=!1;function lL(t){Wi===null?Wi=[t]:Wi.push(t)}function sW(t){Qv=!0,lL(t)}function Ma(){if(!Eb&&Wi!==null){Eb=!0;var t=0,e=Ge;try{var n=Wi;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wi=null,Qv=!1}catch(i){throw Wi!==null&&(Wi=Wi.slice(t+1)),C$(ET,Ma),i}finally{Ge=e,Eb=!1}}return null}var nc=[],rc=0,Vg=null,Fg=0,kr=[],Or=0,Wo=null,Hi=1,Ki="";function io(t,e){nc[rc++]=Fg,nc[rc++]=Vg,Vg=t,Fg=e}function cL(t,e,n){kr[Or++]=Hi,kr[Or++]=Ki,kr[Or++]=Wo,Wo=t;var r=Hi;t=Ki;var i=32-li(r)-1;r&=~(1<<i),n+=1;var s=32-li(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Hi=1<<32-li(e)+i|n<<i|r,Ki=s+t}else Hi=1<<s|n<<i|r,Ki=t}function RT(t){t.return!==null&&(io(t,1),cL(t,1,0))}function DT(t){for(;t===Vg;)Vg=nc[--rc],nc[rc]=null,Fg=nc[--rc],nc[rc]=null;for(;t===Wo;)Wo=kr[--Or],kr[Or]=null,Ki=kr[--Or],kr[Or]=null,Hi=kr[--Or],kr[Or]=null}var hr=null,ur=null,ft=!1,ii=null;function uL(t,e){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,ur=da(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wo!==null?{id:Hi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hr=t,ur=null,!0):!1;default:return!1}}function g1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function y1(t){if(ft){var e=ur;if(e){var n=e;if(!RN(t,e)){if(g1(t))throw Error(ie(418));e=da(n.nextSibling);var r=hr;e&&RN(t,e)?uL(r,n):(t.flags=t.flags&-4097|2,ft=!1,hr=t)}}else{if(g1(t))throw Error(ie(418));t.flags=t.flags&-4097|2,ft=!1,hr=t}}}function DN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function um(t){if(t!==hr)return!1;if(!ft)return DN(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!h1(t.type,t.memoizedProps)),e&&(e=ur)){if(g1(t))throw dL(),Error(ie(418));for(;e;)uL(t,e),e=da(e.nextSibling)}if(DN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ur=da(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ur=null}}else ur=hr?da(t.stateNode.nextSibling):null;return!0}function dL(){for(var t=ur;t;)t=da(t.nextSibling)}function Oc(){ur=hr=null,ft=!1}function MT(t){ii===null?ii=[t]:ii.push(t)}var aW=Ss.ReactCurrentBatchConfig;function md(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function dm(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MN(t){var e=t._init;return e(t._payload)}function hL(t){function e(w,b){if(t){var x=w.deletions;x===null?(w.deletions=[b],w.flags|=16):x.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=ma(w,b),w.index=0,w.sibling=null,w}function s(w,b,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<b?(w.flags|=2,b):x):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,b,x,A){return b===null||b.tag!==6?(b=jb(x,w.mode,A),b.return=w,b):(b=i(b,x),b.return=w,b)}function l(w,b,x,A){var T=x.type;return T===Xl?d(w,b,x.props.children,A,x.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qs&&MN(T)===b.type)?(A=i(b,x.props),A.ref=md(w,b,x),A.return=w,A):(A=ig(x.type,x.key,x.props,null,w.mode,A),A.ref=md(w,b,x),A.return=w,A)}function c(w,b,x,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Cb(x,w.mode,A),b.return=w,b):(b=i(b,x.children||[]),b.return=w,b)}function d(w,b,x,A,T){return b===null||b.tag!==7?(b=Ro(x,w.mode,A,T),b.return=w,b):(b=i(b,x),b.return=w,b)}function h(w,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jb(""+b,w.mode,x),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case em:return x=ig(b.type,b.key,b.props,null,w.mode,x),x.ref=md(w,null,b),x.return=w,x;case Yl:return b=Cb(b,w.mode,x),b.return=w,b;case qs:var A=b._init;return h(w,A(b._payload),x)}if($d(b)||ud(b))return b=Ro(b,w.mode,x,null),b.return=w,b;dm(w,b)}return null}function f(w,b,x,A){var T=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:o(w,b,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case em:return x.key===T?l(w,b,x,A):null;case Yl:return x.key===T?c(w,b,x,A):null;case qs:return T=x._init,f(w,b,T(x._payload),A)}if($d(x)||ud(x))return T!==null?null:d(w,b,x,A,null);dm(w,x)}return null}function m(w,b,x,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(x)||null,o(b,w,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case em:return w=w.get(A.key===null?x:A.key)||null,l(b,w,A,T);case Yl:return w=w.get(A.key===null?x:A.key)||null,c(b,w,A,T);case qs:var P=A._init;return m(w,b,x,P(A._payload),T)}if($d(A)||ud(A))return w=w.get(x)||null,d(b,w,A,T,null);dm(b,A)}return null}function g(w,b,x,A){for(var T=null,P=null,E=b,S=b=0,I=null;E!==null&&S<x.length;S++){E.index>S?(I=E,E=null):I=E.sibling;var k=f(w,E,x[S],A);if(k===null){E===null&&(E=I);break}t&&E&&k.alternate===null&&e(w,E),b=s(k,b,S),P===null?T=k:P.sibling=k,P=k,E=I}if(S===x.length)return n(w,E),ft&&io(w,S),T;if(E===null){for(;S<x.length;S++)E=h(w,x[S],A),E!==null&&(b=s(E,b,S),P===null?T=E:P.sibling=E,P=E);return ft&&io(w,S),T}for(E=r(w,E);S<x.length;S++)I=m(E,w,S,x[S],A),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?S:I.key),b=s(I,b,S),P===null?T=I:P.sibling=I,P=I);return t&&E.forEach(function(O){return e(w,O)}),ft&&io(w,S),T}function y(w,b,x,A){var T=ud(x);if(typeof T!="function")throw Error(ie(150));if(x=T.call(x),x==null)throw Error(ie(151));for(var P=T=null,E=b,S=b=0,I=null,k=x.next();E!==null&&!k.done;S++,k=x.next()){E.index>S?(I=E,E=null):I=E.sibling;var O=f(w,E,k.value,A);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(w,E),b=s(O,b,S),P===null?T=O:P.sibling=O,P=O,E=I}if(k.done)return n(w,E),ft&&io(w,S),T;if(E===null){for(;!k.done;S++,k=x.next())k=h(w,k.value,A),k!==null&&(b=s(k,b,S),P===null?T=k:P.sibling=k,P=k);return ft&&io(w,S),T}for(E=r(w,E);!k.done;S++,k=x.next())k=m(E,w,S,k.value,A),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?S:k.key),b=s(k,b,S),P===null?T=k:P.sibling=k,P=k);return t&&E.forEach(function(C){return e(w,C)}),ft&&io(w,S),T}function v(w,b,x,A){if(typeof x=="object"&&x!==null&&x.type===Xl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case em:e:{for(var T=x.key,P=b;P!==null;){if(P.key===T){if(T=x.type,T===Xl){if(P.tag===7){n(w,P.sibling),b=i(P,x.props.children),b.return=w,w=b;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qs&&MN(T)===P.type){n(w,P.sibling),b=i(P,x.props),b.ref=md(w,P,x),b.return=w,w=b;break e}n(w,P);break}else e(w,P);P=P.sibling}x.type===Xl?(b=Ro(x.props.children,w.mode,A,x.key),b.return=w,w=b):(A=ig(x.type,x.key,x.props,null,w.mode,A),A.ref=md(w,b,x),A.return=w,w=A)}return a(w);case Yl:e:{for(P=x.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(w,b.sibling),b=i(b,x.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Cb(x,w.mode,A),b.return=w,w=b}return a(w);case qs:return P=x._init,v(w,b,P(x._payload),A)}if($d(x))return g(w,b,x,A);if(ud(x))return y(w,b,x,A);dm(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,x),b.return=w,w=b):(n(w,b),b=jb(x,w.mode,A),b.return=w,w=b),a(w)):n(w,b)}return v}var jc=hL(!0),fL=hL(!1),Bg=Da(null),Ug=null,ic=null,$T=null;function LT(){$T=ic=Ug=null}function VT(t){var e=Bg.current;dt(Bg),t._currentValue=e}function v1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bc(t,e){Ug=t,$T=ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qn=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if($T!==t)if(t={context:t,memoizedValue:e,next:null},ic===null){if(Ug===null)throw Error(ie(308));ic=t,Ug.dependencies={lanes:0,firstContext:t}}else ic=ic.next=t;return e}var _o=null;function FT(t){_o===null?_o=[t]:_o.push(t)}function pL(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,FT(e)):(n.next=i.next,i.next=n),e.interleaved=n,ds(t,r)}function ds(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hs=!1;function BT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ha(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ds(t,n)}return i=r.interleaved,i===null?(e.next=e,FT(r)):(e.next=i.next,i.next=e),r.interleaved=e,ds(t,n)}function Jm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AT(t,n)}}function $N(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zg(t,e,n,r){var i=t.updateQueue;Hs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,m=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(f=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=_t({},h,f);break e;case 2:Hs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ho|=a,t.lanes=a,t.memoizedState=h}}function LN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var tp={},Si=Da(tp),Fh=Da(tp),Bh=Da(tp);function So(t){if(t===tp)throw Error(ie(174));return t}function UT(t,e){switch(rt(Bh,e),rt(Fh,t),rt(Si,tp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jw(e,t)}dt(Si),rt(Si,e)}function Cc(){dt(Si),dt(Fh),dt(Bh)}function gL(t){So(Bh.current);var e=So(Si.current),n=Jw(e,t.type);e!==n&&(rt(Fh,t),rt(Si,n))}function zT(t){Fh.current===t&&(dt(Si),dt(Fh))}var yt=Da(0);function Wg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ab=[];function WT(){for(var t=0;t<Ab.length;t++)Ab[t]._workInProgressVersionPrimary=null;Ab.length=0}var Zm=Ss.ReactCurrentDispatcher,Pb=Ss.ReactCurrentBatchConfig,qo=0,bt=null,Lt=null,Kt=null,qg=!1,th=!1,Uh=0,oW=0;function fn(){throw Error(ie(321))}function qT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hi(t[n],e[n]))return!1;return!0}function HT(t,e,n,r,i,s){if(qo=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zm.current=t===null||t.memoizedState===null?dW:hW,t=n(r,i),th){s=0;do{if(th=!1,Uh=0,25<=s)throw Error(ie(301));s+=1,Kt=Lt=null,e.updateQueue=null,Zm.current=fW,t=n(r,i)}while(th)}if(Zm.current=Hg,e=Lt!==null&&Lt.next!==null,qo=0,Kt=Lt=bt=null,qg=!1,e)throw Error(ie(300));return t}function KT(){var t=Uh!==0;return Uh=0,t}function gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?bt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Ur(){if(Lt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Kt===null?bt.memoizedState:Kt.next;if(e!==null)Kt=e,Lt=t;else{if(t===null)throw Error(ie(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Kt===null?bt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function zh(t,e){return typeof e=="function"?e(t):e}function Ib(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((qo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,bt.lanes|=d,Ho|=d}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,hi(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,Ho|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nb(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hi(s,e.memoizedState)||(qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yL(){}function vL(t,e){var n=bt,r=Ur(),i=e(),s=!hi(r.memoizedState,i);if(s&&(r.memoizedState=i,qn=!0),r=r.queue,GT(wL.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Wh(9,bL.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(ie(349));qo&30||xL(n,e,i)}return i}function xL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bL(t,e,n,r){e.value=n,e.getSnapshot=r,_L(e)&&SL(t)}function wL(t,e,n){return n(function(){_L(e)&&SL(t)})}function _L(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hi(t,n)}catch{return!0}}function SL(t){var e=ds(t,1);e!==null&&ci(e,t,1,-1)}function VN(t){var e=gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:t},e.queue=t,t=t.dispatch=uW.bind(null,bt,t),[e.memoizedState,t]}function Wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TL(){return Ur().memoizedState}function eg(t,e,n,r){var i=gi();bt.flags|=t,i.memoizedState=Wh(1|e,n,void 0,r===void 0?null:r)}function Jv(t,e,n,r){var i=Ur();r=r===void 0?null:r;var s=void 0;if(Lt!==null){var a=Lt.memoizedState;if(s=a.destroy,r!==null&&qT(r,a.deps)){i.memoizedState=Wh(e,n,s,r);return}}bt.flags|=t,i.memoizedState=Wh(1|e,n,s,r)}function FN(t,e){return eg(8390656,8,t,e)}function GT(t,e){return Jv(2048,8,t,e)}function EL(t,e){return Jv(4,2,t,e)}function AL(t,e){return Jv(4,4,t,e)}function PL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IL(t,e,n){return n=n!=null?n.concat([t]):null,Jv(4,4,PL.bind(null,e,t),n)}function YT(){}function NL(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kL(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OL(t,e,n){return qo&21?(hi(n,e)||(n=M$(),bt.lanes|=n,Ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qn=!0),t.memoizedState=n)}function lW(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Pb.transition;Pb.transition={};try{t(!1),e()}finally{Ge=n,Pb.transition=r}}function jL(){return Ur().memoizedState}function cW(t,e,n){var r=pa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CL(t))RL(e,n);else if(n=pL(t,e,n,r),n!==null){var i=Ln();ci(n,t,r,i),DL(n,e,r)}}function uW(t,e,n){var r=pa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CL(t))RL(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,hi(o,a)){var l=e.interleaved;l===null?(i.next=i,FT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pL(t,e,i,r),n!==null&&(i=Ln(),ci(n,t,r,i),DL(n,e,r))}}function CL(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function RL(t,e){th=qg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AT(t,n)}}var Hg={readContext:Br,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},dW={readContext:Br,useCallback:function(t,e){return gi().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:FN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,eg(4194308,4,PL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eg(4194308,4,t,e)},useInsertionEffect:function(t,e){return eg(4,2,t,e)},useMemo:function(t,e){var n=gi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cW.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=gi();return t={current:t},e.memoizedState=t},useState:VN,useDebugValue:YT,useDeferredValue:function(t){return gi().memoizedState=t},useTransition:function(){var t=VN(!1),e=t[0];return t=lW.bind(null,t[1]),gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,i=gi();if(ft){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Xt===null)throw Error(ie(349));qo&30||xL(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,FN(wL.bind(null,r,s,t),[t]),r.flags|=2048,Wh(9,bL.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gi(),e=Xt.identifierPrefix;if(ft){var n=Ki,r=Hi;n=(r&~(1<<32-li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hW={readContext:Br,useCallback:NL,useContext:Br,useEffect:GT,useImperativeHandle:IL,useInsertionEffect:EL,useLayoutEffect:AL,useMemo:kL,useReducer:Ib,useRef:TL,useState:function(){return Ib(zh)},useDebugValue:YT,useDeferredValue:function(t){var e=Ur();return OL(e,Lt.memoizedState,t)},useTransition:function(){var t=Ib(zh)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:yL,useSyncExternalStore:vL,useId:jL,unstable_isNewReconciler:!1},fW={readContext:Br,useCallback:NL,useContext:Br,useEffect:GT,useImperativeHandle:IL,useInsertionEffect:EL,useLayoutEffect:AL,useMemo:kL,useReducer:Nb,useRef:TL,useState:function(){return Nb(zh)},useDebugValue:YT,useDeferredValue:function(t){var e=Ur();return Lt===null?e.memoizedState=t:OL(e,Lt.memoizedState,t)},useTransition:function(){var t=Nb(zh)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:yL,useSyncExternalStore:vL,useId:jL,unstable_isNewReconciler:!1};function Zr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function x1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zv={isMounted:function(t){return(t=t._reactInternals)?gl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=pa(t),s=ts(r,i);s.payload=e,n!=null&&(s.callback=n),e=ha(t,s,i),e!==null&&(ci(e,t,i,r),Jm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=pa(t),s=ts(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ha(t,s,i),e!==null&&(ci(e,t,i,r),Jm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=pa(t),i=ts(n,r);i.tag=2,e!=null&&(i.callback=e),e=ha(t,i,r),e!==null&&(ci(e,t,r,n),Jm(e,t,r))}};function BN(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Mh(n,r)||!Mh(i,s):!0}function ML(t,e,n){var r=!1,i=Ea,s=e.contextType;return typeof s=="object"&&s!==null?s=Br(s):(i=Yn(e)?zo:An.current,r=e.contextTypes,s=(r=r!=null)?kc(t,i):Ea),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function UN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zv.enqueueReplaceState(e,e.state,null)}function b1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},BT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Br(s):(s=Yn(e)?zo:An.current,i.context=kc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(x1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zv.enqueueReplaceState(i,i.state,null),zg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rc(t,e){try{var n="",r=e;do n+=Bz(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function kb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function w1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pW=typeof WeakMap=="function"?WeakMap:Map;function $L(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gg||(Gg=!0,O1=r),w1(t,e)},n}function LL(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){w1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){w1(t,e),typeof r!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IW.bind(null,t,e,n),e.then(t,t))}function WN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,ha(n,e,1))),n.lanes|=1),t)}var mW=Ss.ReactCurrentOwner,qn=!1;function On(t,e,n,r){e.child=t===null?fL(e,null,n,r):jc(e,t.child,n,r)}function HN(t,e,n,r,i){n=n.render;var s=e.ref;return bc(e,i),r=HT(t,e,n,r,s,i),n=KT(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hs(t,e,i)):(ft&&n&&RT(e),e.flags|=1,On(t,e,r,i),e.child)}function KN(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VL(t,e,s,r,i)):(t=ig(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mh,n(a,r)&&t.ref===e.ref)return hs(t,e,i)}return e.flags|=1,t=ma(s,r),t.ref=e.ref,t.return=e,e.child=t}function VL(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Mh(s,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qn=!0);else return e.lanes=t.lanes,hs(t,e,i)}return _1(t,e,n,r,i)}function FL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(ac,ir),ir|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(ac,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(ac,ir),ir|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(ac,ir),ir|=r;return On(t,e,i,n),e.child}function BL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _1(t,e,n,r,i){var s=Yn(n)?zo:An.current;return s=kc(e,s),bc(e,i),n=HT(t,e,n,r,s,i),r=KT(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hs(t,e,i)):(ft&&r&&RT(e),e.flags|=1,On(t,e,n,i),e.child)}function GN(t,e,n,r,i){if(Yn(n)){var s=!0;Lg(e)}else s=!1;if(bc(e,i),e.stateNode===null)tg(t,e),ML(e,n,r),b1(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Br(c):(c=Yn(n)?zo:An.current,c=kc(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&UN(e,a,r,c),Hs=!1;var f=e.memoizedState;a.state=f,zg(e,r,a,i),l=e.memoizedState,o!==r||f!==l||Gn.current||Hs?(typeof d=="function"&&(x1(e,n,d,r),l=e.memoizedState),(o=Hs||BN(e,n,o,r,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,mL(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Zr(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=Yn(n)?zo:An.current,l=kc(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&UN(e,a,r,l),Hs=!1,f=e.memoizedState,a.state=f,zg(e,r,a,i);var g=e.memoizedState;o!==h||f!==g||Gn.current||Hs?(typeof m=="function"&&(x1(e,n,m,r),g=e.memoizedState),(c=Hs||BN(e,n,c,r,f,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return S1(t,e,n,r,s,i)}function S1(t,e,n,r,i,s){BL(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&CN(e,n,!1),hs(t,e,s);r=e.stateNode,mW.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=jc(e,t.child,null,s),e.child=jc(e,null,o,s)):On(t,e,o,s),e.memoizedState=r.state,i&&CN(e,n,!0),e.child}function UL(t){var e=t.stateNode;e.pendingContext?jN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jN(t,e.context,!1),UT(t,e.containerInfo)}function YN(t,e,n,r,i){return Oc(),MT(i),e.flags|=256,On(t,e,n,r),e.child}var T1={dehydrated:null,treeContext:null,retryLane:0};function E1(t){return{baseLanes:t,cachePool:null,transitions:null}}function zL(t,e,n){var r=e.pendingProps,i=yt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(yt,i&1),t===null)return y1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=n0(a,r,0,null),t=Ro(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=E1(n),e.memoizedState=T1,t):XT(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return gW(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ma(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ma(o,s):(s=Ro(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?E1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=T1,r}return s=t.child,t=s.sibling,r=ma(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function XT(t,e){return e=n0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hm(t,e,n,r){return r!==null&&MT(r),jc(e,t.child,null,n),t=XT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gW(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=kb(Error(ie(422))),hm(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=n0({mode:"visible",children:r.children},i,0,null),s=Ro(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&jc(e,t.child,null,a),e.child.memoizedState=E1(a),e.memoizedState=T1,s);if(!(e.mode&1))return hm(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ie(419)),r=kb(s,r,void 0),hm(t,e,a,r)}if(o=(a&t.childLanes)!==0,qn||o){if(r=Xt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ds(t,i),ci(r,t,i,-1))}return nE(),r=kb(Error(ie(421))),hm(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ur=da(i.nextSibling),hr=e,ft=!0,ii=null,t!==null&&(kr[Or++]=Hi,kr[Or++]=Ki,kr[Or++]=Wo,Hi=t.id,Ki=t.overflow,Wo=e),e=XT(e,r.children),e.flags|=4096,e)}function XN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),v1(t.return,e,n)}function Ob(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(On(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XN(t,n,e);else if(t.tag===19)XN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ob(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ob(e,!0,n,null,s);break;case"together":Ob(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=ma(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ma(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yW(t,e,n){switch(e.tag){case 3:UL(e),Oc();break;case 5:gL(e);break;case 1:Yn(e.type)&&Lg(e);break;case 4:UT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Bg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?zL(t,e,n):(rt(yt,yt.current&1),t=hs(t,e,n),t!==null?t.sibling:null);rt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,FL(t,e,n)}return hs(t,e,n)}var qL,A1,HL,KL;qL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A1=function(){};HL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,So(Si.current);var s=null;switch(n){case"input":i=Gw(t,i),r=Gw(t,r),s=[];break;case"select":i=_t({},i,{value:void 0}),r=_t({},r,{value:void 0}),s=[];break;case"textarea":i=Qw(t,i),r=Qw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mg)}Zw(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&lt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};KL=function(t,e,n,r){n!==r&&(e.flags|=4)};function gd(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vW(t,e,n){var r=e.pendingProps;switch(DT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Yn(e.type)&&$g(),pn(e),null;case 3:return r=e.stateNode,Cc(),dt(Gn),dt(An),WT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(um(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(R1(ii),ii=null))),A1(t,e),pn(e),null;case 5:zT(e);var i=So(Bh.current);if(n=e.type,t!==null&&e.stateNode!=null)HL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return pn(e),null}if(t=So(Si.current),um(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vi]=e,r[Vh]=s,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<Vd.length;i++)lt(Vd[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":sN(r,s),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},lt("invalid",r);break;case"textarea":oN(r,s),lt("invalid",r)}Zw(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&cm(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&cm(r.textContent,o,t),i=["children",""+o]):Nh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&lt("scroll",r)}switch(n){case"input":tm(r),aN(r,s,!0);break;case"textarea":tm(r),lN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[vi]=e,t[Vh]=r,qL(t,e,!1,!1),e.stateNode=t;e:{switch(a=e1(n,r),n){case"dialog":lt("cancel",t),lt("close",t),i=r;break;case"iframe":case"object":case"embed":lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vd.length;i++)lt(Vd[i],t);i=r;break;case"source":lt("error",t),i=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=r;break;case"details":lt("toggle",t),i=r;break;case"input":sN(t,r),i=Gw(t,r),lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_t({},r,{value:void 0}),lt("invalid",t);break;case"textarea":oN(t,r),i=Qw(t,r),lt("invalid",t);break;default:i=r}Zw(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?T$(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_$(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kh(t,l):typeof l=="number"&&kh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lt("scroll",t):l!=null&&bT(t,s,l,a))}switch(n){case"input":tm(t),aN(t,r,!1);break;case"textarea":tm(t),lN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gc(t,!!r.multiple,s,!1):r.defaultValue!=null&&gc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)KL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=So(Bh.current),So(Si.current),um(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(s=r.nodeValue!==n)&&(t=hr,t!==null))switch(t.tag){case 3:cm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return pn(e),null;case 13:if(dt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&ur!==null&&e.mode&1&&!(e.flags&128))dL(),Oc(),e.flags|=98560,s=!1;else if(s=um(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[vi]=e}else Oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),s=!1}else ii!==null&&(R1(ii),ii=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ft===0&&(Ft=3):nE())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return Cc(),A1(t,e),t===null&&$h(e.stateNode.containerInfo),pn(e),null;case 10:return VT(e.type._context),pn(e),null;case 17:return Yn(e.type)&&$g(),pn(e),null;case 19:if(dt(yt),s=e.memoizedState,s===null)return pn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)gd(s,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Wg(t),a!==null){for(e.flags|=128,gd(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&It()>Dc&&(e.flags|=128,r=!0,gd(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wg(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ft)return pn(e),null}else 2*It()-s.renderingStartTime>Dc&&n!==1073741824&&(e.flags|=128,r=!0,gd(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=It(),e.sibling=null,n=yt.current,rt(yt,r?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return tE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function xW(t,e){switch(DT(e),e.tag){case 1:return Yn(e.type)&&$g(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cc(),dt(Gn),dt(An),WT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zT(e),null;case 13:if(dt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(yt),null;case 4:return Cc(),null;case 10:return VT(e.type._context),null;case 22:case 23:return tE(),null;case 24:return null;default:return null}}var fm=!1,bn=!1,bW=typeof WeakSet=="function"?WeakSet:Set,he=null;function sc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function P1(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var QN=!1;function wW(t,e){if(u1=Cg,t=J$(),CT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++d===r&&(l=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(d1={focusedElem:t,selectionRange:n},Cg=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Zr(e.type,y),v);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(A){Tt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return g=QN,QN=!1,g}function nh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&P1(e,n,s)}i=i.next}while(i!==r)}}function e0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function I1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GL(t){var e=t.alternate;e!==null&&(t.alternate=null,GL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[Vh],delete e[p1],delete e[rW],delete e[iW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YL(t){return t.tag===5||t.tag===3||t.tag===4}function JN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function N1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mg));else if(r!==4&&(t=t.child,t!==null))for(N1(t,e,n),t=t.sibling;t!==null;)N1(t,e,n),t=t.sibling}function k1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(k1(t,e,n),t=t.sibling;t!==null;)k1(t,e,n),t=t.sibling}var nn=null,ei=!1;function Vs(t,e,n){for(n=n.child;n!==null;)XL(t,e,n),n=n.sibling}function XL(t,e,n){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(Hv,n)}catch{}switch(n.tag){case 5:bn||sc(n,e);case 6:var r=nn,i=ei;nn=null,Vs(t,e,n),nn=r,ei=i,nn!==null&&(ei?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(ei?(t=nn,n=n.stateNode,t.nodeType===8?Tb(t.parentNode,n):t.nodeType===1&&Tb(t,n),Rh(t)):Tb(nn,n.stateNode));break;case 4:r=nn,i=ei,nn=n.stateNode.containerInfo,ei=!0,Vs(t,e,n),nn=r,ei=i;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&P1(n,e,a),i=i.next}while(i!==r)}Vs(t,e,n);break;case 1:if(!bn&&(sc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Tt(n,e,o)}Vs(t,e,n);break;case 21:Vs(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,Vs(t,e,n),bn=r):Vs(t,e,n);break;default:Vs(t,e,n)}}function ZN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bW),e.forEach(function(r){var i=kW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:nn=o.stateNode,ei=!1;break e;case 3:nn=o.stateNode.containerInfo,ei=!0;break e;case 4:nn=o.stateNode.containerInfo,ei=!0;break e}o=o.return}if(nn===null)throw Error(ie(160));XL(s,a,i),nn=null,ei=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QL(e,t),e=e.sibling}function QL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qr(e,t),mi(t),r&4){try{nh(3,t,t.return),e0(3,t)}catch(y){Tt(t,t.return,y)}try{nh(5,t,t.return)}catch(y){Tt(t,t.return,y)}}break;case 1:Qr(e,t),mi(t),r&512&&n!==null&&sc(n,n.return);break;case 5:if(Qr(e,t),mi(t),r&512&&n!==null&&sc(n,n.return),t.flags&32){var i=t.stateNode;try{kh(i,"")}catch(y){Tt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&x$(i,s),e1(o,a);var c=e1(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?T$(i,h):d==="dangerouslySetInnerHTML"?_$(i,h):d==="children"?kh(i,h):bT(i,d,h,c)}switch(o){case"input":Yw(i,s);break;case"textarea":b$(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?gc(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?gc(i,!!s.multiple,s.defaultValue,!0):gc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vh]=s}catch(y){Tt(t,t.return,y)}}break;case 6:if(Qr(e,t),mi(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Tt(t,t.return,y)}}break;case 3:if(Qr(e,t),mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rh(e.containerInfo)}catch(y){Tt(t,t.return,y)}break;case 4:Qr(e,t),mi(t);break;case 13:Qr(e,t),mi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ZT=It())),r&4&&ZN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(c=bn)||d,Qr(e,t),bn=c):Qr(e,t),mi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(h=he=d;he!==null;){switch(f=he,m=f.child,f.tag){case 0:case 11:case 14:case 15:nh(4,f,f.return);break;case 1:sc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Tt(r,n,y)}}break;case 5:sc(f,f.return);break;case 22:if(f.memoizedState!==null){tk(h);continue}}m!==null?(m.return=f,he=m):tk(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=S$("display",a))}catch(y){Tt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Tt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qr(e,t),mi(t),r&4&&ZN(t);break;case 21:break;default:Qr(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YL(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kh(i,""),r.flags&=-33);var s=JN(t);k1(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=JN(t);N1(t,o,a);break;default:throw Error(ie(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _W(t,e,n){he=t,JL(t)}function JL(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fm;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||bn;o=fm;var c=bn;if(fm=a,(bn=l)&&!c)for(he=i;he!==null;)a=he,l=a.child,a.tag===22&&a.memoizedState!==null?nk(i):l!==null?(l.return=a,he=l):nk(i);for(;s!==null;)he=s,JL(s),s=s.sibling;he=i,fm=o,bn=c}ek(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):ek(t)}}function ek(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||e0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&LN(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LN(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}bn||e.flags&512&&I1(e)}catch(f){Tt(e,e.return,f)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function tk(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function nk(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{e0(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tt(e,i,l)}}var s=e.return;try{I1(e)}catch(l){Tt(e,s,l)}break;case 5:var a=e.return;try{I1(e)}catch(l){Tt(e,a,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var SW=Math.ceil,Kg=Ss.ReactCurrentDispatcher,QT=Ss.ReactCurrentOwner,$r=Ss.ReactCurrentBatchConfig,Le=0,Xt=null,jt=null,an=0,ir=0,ac=Da(0),Ft=0,qh=null,Ho=0,t0=0,JT=0,rh=null,Wn=null,ZT=0,Dc=1/0,Ui=null,Gg=!1,O1=null,fa=null,pm=!1,ia=null,Yg=0,ih=0,j1=null,ng=-1,rg=0;function Ln(){return Le&6?It():ng!==-1?ng:ng=It()}function pa(t){return t.mode&1?Le&2&&an!==0?an&-an:aW.transition!==null?(rg===0&&(rg=M$()),rg):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:z$(t.type)),t):1}function ci(t,e,n,r){if(50<ih)throw ih=0,j1=null,Error(ie(185));Jf(t,n,r),(!(Le&2)||t!==Xt)&&(t===Xt&&(!(Le&2)&&(t0|=n),Ft===4&&Xs(t,an)),Xn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Dc=It()+500,Qv&&Ma()))}function Xn(t,e){var n=t.callbackNode;a7(t,e);var r=jg(t,t===Xt?an:0);if(r===0)n!==null&&dN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dN(n),e===1)t.tag===0?sW(rk.bind(null,t)):lL(rk.bind(null,t)),tW(function(){!(Le&6)&&Ma()}),n=null;else{switch($$(r)){case 1:n=ET;break;case 4:n=R$;break;case 16:n=Og;break;case 536870912:n=D$;break;default:n=Og}n=a4(n,ZL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZL(t,e){if(ng=-1,rg=0,Le&6)throw Error(ie(327));var n=t.callbackNode;if(wc()&&t.callbackNode!==n)return null;var r=jg(t,t===Xt?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xg(t,r);else{e=r;var i=Le;Le|=2;var s=t4();(Xt!==t||an!==e)&&(Ui=null,Dc=It()+500,Co(t,e));do try{AW();break}catch(o){e4(t,o)}while(1);LT(),Kg.current=s,Le=i,jt!==null?e=0:(Xt=null,an=0,e=Ft)}if(e!==0){if(e===2&&(i=s1(t),i!==0&&(r=i,e=C1(t,i))),e===1)throw n=qh,Co(t,0),Xs(t,r),Xn(t,It()),n;if(e===6)Xs(t,r);else{if(i=t.current.alternate,!(r&30)&&!TW(i)&&(e=Xg(t,r),e===2&&(s=s1(t),s!==0&&(r=s,e=C1(t,s))),e===1))throw n=qh,Co(t,0),Xs(t,r),Xn(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:so(t,Wn,Ui);break;case 3:if(Xs(t,r),(r&130023424)===r&&(e=ZT+500-It(),10<e)){if(jg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=f1(so.bind(null,t,Wn,Ui),e);break}so(t,Wn,Ui);break;case 4:if(Xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-li(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SW(r/1960))-r,10<r){t.timeoutHandle=f1(so.bind(null,t,Wn,Ui),r);break}so(t,Wn,Ui);break;case 5:so(t,Wn,Ui);break;default:throw Error(ie(329))}}}return Xn(t,It()),t.callbackNode===n?ZL.bind(null,t):null}function C1(t,e){var n=rh;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=Xg(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&R1(e)),t}function R1(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function TW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~JT,e&=~t0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-li(e),r=1<<n;t[n]=-1,e&=~r}}function rk(t){if(Le&6)throw Error(ie(327));wc();var e=jg(t,0);if(!(e&1))return Xn(t,It()),null;var n=Xg(t,e);if(t.tag!==0&&n===2){var r=s1(t);r!==0&&(e=r,n=C1(t,r))}if(n===1)throw n=qh,Co(t,0),Xs(t,e),Xn(t,It()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,so(t,Wn,Ui),Xn(t,It()),null}function eE(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Dc=It()+500,Qv&&Ma())}}function Ko(t){ia!==null&&ia.tag===0&&!(Le&6)&&wc();var e=Le;Le|=1;var n=$r.transition,r=Ge;try{if($r.transition=null,Ge=1,t)return t()}finally{Ge=r,$r.transition=n,Le=e,!(Le&6)&&Ma()}}function tE(){ir=ac.current,dt(ac)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eW(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(DT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$g();break;case 3:Cc(),dt(Gn),dt(An),WT();break;case 5:zT(r);break;case 4:Cc();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:VT(r.type._context);break;case 22:case 23:tE()}n=n.return}if(Xt=t,jt=t=ma(t.current,null),an=ir=e,Ft=0,qh=null,JT=t0=Ho=0,Wn=rh=null,_o!==null){for(e=0;e<_o.length;e++)if(n=_o[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}_o=null}return t}function e4(t,e){do{var n=jt;try{if(LT(),Zm.current=Hg,qg){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qg=!1}if(qo=0,Kt=Lt=bt=null,th=!1,Uh=0,QT.current=null,n===null||n.return===null){Ft=1,qh=e,jt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=an,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=WN(a);if(m!==null){m.flags&=-257,qN(m,a,o,s,e),m.mode&1&&zN(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){zN(s,c,e),nE();break e}l=Error(ie(426))}}else if(ft&&o.mode&1){var v=WN(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),qN(v,a,o,s,e),MT(Rc(l,o));break e}}s=l=Rc(l,o),Ft!==4&&(Ft=2),rh===null?rh=[s]:rh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=$L(s,l,e);$N(s,w);break e;case 1:o=l;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(fa===null||!fa.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=LL(s,o,e);$N(s,A);break e}}s=s.return}while(s!==null)}r4(n)}catch(T){e=T,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function t4(){var t=Kg.current;return Kg.current=Hg,t===null?Hg:t}function nE(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Xt===null||!(Ho&268435455)&&!(t0&268435455)||Xs(Xt,an)}function Xg(t,e){var n=Le;Le|=2;var r=t4();(Xt!==t||an!==e)&&(Ui=null,Co(t,e));do try{EW();break}catch(i){e4(t,i)}while(1);if(LT(),Le=n,Kg.current=r,jt!==null)throw Error(ie(261));return Xt=null,an=0,Ft}function EW(){for(;jt!==null;)n4(jt)}function AW(){for(;jt!==null&&!Qz();)n4(jt)}function n4(t){var e=s4(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?r4(t):jt=e,QT.current=null}function r4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xW(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,jt=null;return}}else if(n=vW(n,e,ir),n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Ft===0&&(Ft=5)}function so(t,e,n){var r=Ge,i=$r.transition;try{$r.transition=null,Ge=1,PW(t,e,n,r)}finally{$r.transition=i,Ge=r}return null}function PW(t,e,n,r){do wc();while(ia!==null);if(Le&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(o7(t,s),t===Xt&&(jt=Xt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pm||(pm=!0,a4(Og,function(){return wc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$r.transition,$r.transition=null;var a=Ge;Ge=1;var o=Le;Le|=4,QT.current=null,wW(t,n),QL(n,t),K7(d1),Cg=!!u1,d1=u1=null,t.current=n,_W(n),Jz(),Le=o,Ge=a,$r.transition=s}else t.current=n;if(pm&&(pm=!1,ia=t,Yg=i),s=t.pendingLanes,s===0&&(fa=null),t7(n.stateNode),Xn(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gg)throw Gg=!1,t=O1,O1=null,t;return Yg&1&&t.tag!==0&&wc(),s=t.pendingLanes,s&1?t===j1?ih++:(ih=0,j1=t):ih=0,Ma(),null}function wc(){if(ia!==null){var t=$$(Yg),e=$r.transition,n=Ge;try{if($r.transition=null,Ge=16>t?16:t,ia===null)var r=!1;else{if(t=ia,ia=null,Yg=0,Le&6)throw Error(ie(331));var i=Le;for(Le|=4,he=t.current;he!==null;){var s=he,a=s.child;if(he.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:nh(8,d,s)}var h=d.child;if(h!==null)h.return=d,he=h;else for(;he!==null;){d=he;var f=d.sibling,m=d.return;if(GL(d),d===c){he=null;break}if(f!==null){f.return=m,he=f;break}he=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}he=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,he=a;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,he=w;break e}he=s.return}}var b=t.current;for(he=b;he!==null;){a=he;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,he=x;else e:for(a=b;he!==null;){if(o=he,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:e0(9,o)}}catch(T){Tt(o,o.return,T)}if(o===a){he=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,he=A;break e}he=o.return}}if(Le=i,Ma(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(Hv,t)}catch{}r=!0}return r}finally{Ge=n,$r.transition=e}}return!1}function ik(t,e,n){e=Rc(n,e),e=$L(t,e,1),t=ha(t,e,1),e=Ln(),t!==null&&(Jf(t,1,e),Xn(t,e))}function Tt(t,e,n){if(t.tag===3)ik(t,t,n);else for(;e!==null;){if(e.tag===3){ik(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fa===null||!fa.has(r))){t=Rc(n,t),t=LL(e,t,1),e=ha(e,t,1),t=Ln(),e!==null&&(Jf(e,1,t),Xn(e,t));break}}e=e.return}}function IW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(an&n)===n&&(Ft===4||Ft===3&&(an&130023424)===an&&500>It()-ZT?Co(t,0):JT|=n),Xn(t,e)}function i4(t,e){e===0&&(t.mode&1?(e=im,im<<=1,!(im&130023424)&&(im=4194304)):e=1);var n=Ln();t=ds(t,e),t!==null&&(Jf(t,e,n),Xn(t,n))}function NW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),i4(t,n)}function kW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),i4(t,n)}var s4;s4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qn=!1,yW(t,e,n);qn=!!(t.flags&131072)}else qn=!1,ft&&e.flags&1048576&&cL(e,Fg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tg(t,e),t=e.pendingProps;var i=kc(e,An.current);bc(e,n),i=HT(null,e,r,t,i,n);var s=KT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(r)?(s=!0,Lg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BT(e),i.updater=Zv,e.stateNode=i,i._reactInternals=e,b1(e,r,t,n),e=S1(null,e,r,!0,s,n)):(e.tag=0,ft&&s&&RT(e),On(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jW(r),t=Zr(r,t),i){case 0:e=_1(null,e,r,t,n);break e;case 1:e=GN(null,e,r,t,n);break e;case 11:e=HN(null,e,r,t,n);break e;case 14:e=KN(null,e,r,Zr(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),_1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),GN(t,e,r,i,n);case 3:e:{if(UL(e),t===null)throw Error(ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mL(t,e),zg(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Rc(Error(ie(423)),e),e=YN(t,e,r,n,i);break e}else if(r!==i){i=Rc(Error(ie(424)),e),e=YN(t,e,r,n,i);break e}else for(ur=da(e.stateNode.containerInfo.firstChild),hr=e,ft=!0,ii=null,n=fL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),r===i){e=hs(t,e,n);break e}On(t,e,r,n)}e=e.child}return e;case 5:return gL(e),t===null&&y1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,h1(r,i)?a=null:s!==null&&h1(r,s)&&(e.flags|=32),BL(t,e),On(t,e,a,n),e.child;case 6:return t===null&&y1(e),null;case 13:return zL(t,e,n);case 4:return UT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jc(e,null,r,n):On(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),HN(t,e,r,i,n);case 7:return On(t,e,e.pendingProps,n),e.child;case 8:return On(t,e,e.pendingProps.children,n),e.child;case 12:return On(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,rt(Bg,r._currentValue),r._currentValue=a,s!==null)if(hi(s.value,a)){if(s.children===i.children&&!Gn.current){e=hs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ts(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),v1(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ie(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),v1(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}On(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bc(e,n),i=Br(i),r=r(i),e.flags|=1,On(t,e,r,n),e.child;case 14:return r=e.type,i=Zr(r,e.pendingProps),i=Zr(r.type,i),KN(t,e,r,i,n);case 15:return VL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),tg(t,e),e.tag=1,Yn(r)?(t=!0,Lg(e)):t=!1,bc(e,n),ML(e,r,i),b1(e,r,i,n),S1(null,e,r,!0,t,n);case 19:return WL(t,e,n);case 22:return FL(t,e,n)}throw Error(ie(156,e.tag))};function a4(t,e){return C$(t,e)}function OW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,n,r){return new OW(t,e,n,r)}function rE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jW(t){if(typeof t=="function")return rE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_T)return 11;if(t===ST)return 14}return 2}function ma(t,e){var n=t.alternate;return n===null?(n=Cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ig(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")rE(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xl:return Ro(n.children,i,s,e);case wT:a=8,i|=8;break;case Ww:return t=Cr(12,n,e,i|2),t.elementType=Ww,t.lanes=s,t;case qw:return t=Cr(13,n,e,i),t.elementType=qw,t.lanes=s,t;case Hw:return t=Cr(19,n,e,i),t.elementType=Hw,t.lanes=s,t;case g$:return n0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p$:a=10;break e;case m$:a=9;break e;case _T:a=11;break e;case ST:a=14;break e;case qs:a=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Cr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ro(t,e,n,r){return t=Cr(7,t,r,e),t.lanes=n,t}function n0(t,e,n,r){return t=Cr(22,t,r,e),t.elementType=g$,t.lanes=n,t.stateNode={isHidden:!1},t}function jb(t,e,n){return t=Cr(6,t,null,e),t.lanes=n,t}function Cb(t,e,n){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fb(0),this.expirationTimes=fb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iE(t,e,n,r,i,s,a,o,l){return t=new CW(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},BT(s),t}function RW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function o4(t){if(!t)return Ea;t=t._reactInternals;e:{if(gl(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Yn(n))return oL(t,n,e)}return e}function l4(t,e,n,r,i,s,a,o,l){return t=iE(n,r,!0,t,i,s,a,o,l),t.context=o4(null),n=t.current,r=Ln(),i=pa(n),s=ts(r,i),s.callback=e??null,ha(n,s,i),t.current.lanes=i,Jf(t,i,r),Xn(t,r),t}function r0(t,e,n,r){var i=e.current,s=Ln(),a=pa(i);return n=o4(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ha(i,e,a),t!==null&&(ci(t,i,a,s),Jm(t,i,a)),a}function Qg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sE(t,e){sk(t,e),(t=t.alternate)&&sk(t,e)}function DW(){return null}var c4=typeof reportError=="function"?reportError:function(t){console.error(t)};function aE(t){this._internalRoot=t}i0.prototype.render=aE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));r0(t,e,null,null)};i0.prototype.unmount=aE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ko(function(){r0(null,t,null,null)}),e[us]=null}};function i0(t){this._internalRoot=t}i0.prototype.unstable_scheduleHydration=function(t){if(t){var e=F$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ys.length&&e!==0&&e<Ys[n].priority;n++);Ys.splice(n,0,t),n===0&&U$(t)}};function oE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ak(){}function MW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qg(a);s.call(c)}}var a=l4(e,r,t,0,null,!1,!1,"",ak);return t._reactRootContainer=a,t[us]=a.current,$h(t.nodeType===8?t.parentNode:t),Ko(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Qg(l);o.call(c)}}var l=iE(t,0,!1,null,null,!1,!1,"",ak);return t._reactRootContainer=l,t[us]=l.current,$h(t.nodeType===8?t.parentNode:t),Ko(function(){r0(e,l,n,r)}),l}function a0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Qg(a);o.call(l)}}r0(e,a,t,i)}else a=MW(n,e,t,i,r);return Qg(a)}L$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ld(e.pendingLanes);n!==0&&(AT(e,n|1),Xn(e,It()),!(Le&6)&&(Dc=It()+500,Ma()))}break;case 13:Ko(function(){var r=ds(t,1);if(r!==null){var i=Ln();ci(r,t,1,i)}}),sE(t,1)}};PT=function(t){if(t.tag===13){var e=ds(t,134217728);if(e!==null){var n=Ln();ci(e,t,134217728,n)}sE(t,134217728)}};V$=function(t){if(t.tag===13){var e=pa(t),n=ds(t,e);if(n!==null){var r=Ln();ci(n,t,e,r)}sE(t,e)}};F$=function(){return Ge};B$=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};n1=function(t,e,n){switch(e){case"input":if(Yw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xv(r);if(!i)throw Error(ie(90));v$(r),Yw(r,i)}}}break;case"textarea":b$(t,n);break;case"select":e=n.value,e!=null&&gc(t,!!n.multiple,e,!1)}};P$=eE;I$=Ko;var $W={usingClientEntryPoint:!1,Events:[ep,ec,Xv,E$,A$,eE]},yd={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LW={bundleType:yd.bundleType,version:yd.version,rendererPackageName:yd.rendererPackageName,rendererConfig:yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O$(t),t===null?null:t.stateNode},findFiberByHostInstance:yd.findFiberByHostInstance||DW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mm.isDisabled&&mm.supportsFiber)try{Hv=mm.inject(LW),_i=mm}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$W;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oE(e))throw Error(ie(200));return RW(t,e,null,n)};_r.createRoot=function(t,e){if(!oE(t))throw Error(ie(299));var n=!1,r="",i=c4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iE(t,1,!1,null,null,n,!1,r,i),t[us]=e.current,$h(t.nodeType===8?t.parentNode:t),new aE(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=O$(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return Ko(t)};_r.hydrate=function(t,e,n){if(!s0(e))throw Error(ie(200));return a0(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!oE(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=c4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=l4(e,null,t,1,n??null,i,!1,s,a),t[us]=e.current,$h(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new i0(e)};_r.render=function(t,e,n){if(!s0(e))throw Error(ie(200));return a0(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!s0(t))throw Error(ie(40));return t._reactRootContainer?(Ko(function(){a0(null,null,t,!1,function(){t._reactRootContainer=null,t[us]=null})}),!0):!1};_r.unstable_batchedUpdates=eE;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s0(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return a0(t,e,n,!1,r)};_r.version="18.3.1-next-f1338f8080-20240426";function u4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u4)}catch(t){console.error(t)}}u4(),u$.exports=_r;var d4=u$.exports;const VW=qe(d4);var ok=d4;Uw.createRoot=ok.createRoot,Uw.hydrateRoot=ok.hydrateRoot;let FW={data:""},BW=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||FW,UW=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zW=/\/\*[^]*?\*\/|  +/g,lk=/\n+/g,Qs=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?Qs(a,s):s+"{"+Qs(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=Qs(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Qs.p?Qs.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Fi={},h4=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+h4(t[n]);return e}return t},WW=(t,e,n,r,i)=>{let s=h4(t),a=Fi[s]||(Fi[s]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(s));if(!Fi[a]){let l=s!==t?t:(c=>{let d,h,f=[{}];for(;d=UW.exec(c.replace(zW,""));)d[4]?f.shift():d[3]?(h=d[3].replace(lk," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(lk," ").trim();return f[0]})(t);Fi[a]=Qs(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Fi.g?Fi.g:null;return n&&(Fi.g=Fi[a]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Fi[a],e,r,o),a},qW=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Qs(o,""):o===!1?"":o}return r+i+(a??"")},"");function o0(t){let e=this||{},n=t.call?t(e.p):t;return WW(n.unshift?n.raw?qW(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,BW(e.target),e.g,e.o,e.k)}let f4,D1,M1;o0.bind({g:1});let fs=o0.bind({k:1});function HW(t,e,n,r){Qs.p=e,f4=t,D1=n,M1=r}function $a(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:D1&&D1()},o),n.o=/ *go\d+/.test(l),o.className=o0.apply(n,r)+(l?" "+l:""),e&&(o.ref=a);let c=t;return t[0]&&(c=o.as||t,delete o.as),M1&&c[0]&&M1(o),f4(c,o)}return e?e(i):i}}var KW=t=>typeof t=="function",Jg=(t,e)=>KW(t)?t(e):t,GW=(()=>{let t=0;return()=>(++t).toString()})(),p4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),YW=20,m4=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,YW)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return m4(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},sg=[],To={toasts:[],pausedAt:void 0},yl=t=>{To=m4(To,t),sg.forEach(e=>{e(To)})},XW={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},QW=(t={})=>{let[e,n]=j.useState(To),r=j.useRef(To);j.useEffect(()=>(r.current!==To&&n(To),sg.push(n),()=>{let s=sg.indexOf(n);s>-1&&sg.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,o,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||XW[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},JW=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||GW()}),np=t=>(e,n)=>{let r=JW(e,t,n);return yl({type:2,toast:r}),r.id},ee=(t,e)=>np("blank")(t,e);ee.error=np("error");ee.success=np("success");ee.loading=np("loading");ee.custom=np("custom");ee.dismiss=t=>{yl({type:3,toastId:t})};ee.remove=t=>yl({type:4,toastId:t});ee.promise=(t,e,n)=>{let r=ee.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Jg(e.success,i):void 0;return s?ee.success(s,{id:r,...n,...n==null?void 0:n.success}):ee.dismiss(r),i}).catch(i=>{let s=e.error?Jg(e.error,i):void 0;s?ee.error(s,{id:r,...n,...n==null?void 0:n.error}):ee.dismiss(r)}),t};var ZW=(t,e)=>{yl({type:1,toast:{id:t,height:e}})},eq=()=>{yl({type:5,time:Date.now()})},sh=new Map,tq=1e3,nq=(t,e=tq)=>{if(sh.has(t))return;let n=setTimeout(()=>{sh.delete(t),yl({type:4,toastId:t})},e);sh.set(t,n)},rq=t=>{let{toasts:e,pausedAt:n}=QW(t);j.useEffect(()=>{if(n)return;let s=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(l<0){o.visible&&ee.dismiss(o.id);return}return setTimeout(()=>ee.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,n]);let r=j.useCallback(()=>{n&&yl({type:6,time:Date.now()})},[n]),i=j.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},d=e.filter(m=>(m.position||c)===(s.position||c)&&m.height),h=d.findIndex(m=>m.id===s.id),f=d.filter((m,g)=>g<h&&m.visible).length;return d.filter(m=>m.visible).slice(...o?[f+1]:[0,f]).reduce((m,g)=>m+(g.height||0)+l,0)},[e]);return j.useEffect(()=>{e.forEach(s=>{if(s.dismissed)nq(s.id,s.removeDelay);else{let a=sh.get(s.id);a&&(clearTimeout(a),sh.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:ZW,startPause:eq,endPause:r,calculateOffset:i}}},iq=fs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sq=fs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aq=fs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,oq=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lq=fs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cq=$a("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lq} 1s linear infinite;
`,uq=fs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dq=fs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hq=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fq=$a("div")`
  position: absolute;
`,pq=$a("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mq=fs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gq=$a("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yq=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(gq,null,e):e:n==="blank"?null:j.createElement(pq,null,j.createElement(cq,{...r}),n!=="loading"&&j.createElement(fq,null,n==="error"?j.createElement(oq,{...r}):j.createElement(hq,{...r})))},vq=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xq=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,bq="0%{opacity:0;} 100%{opacity:1;}",wq="0%{opacity:1;} 100%{opacity:0;}",_q=$a("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Sq=$a("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Tq=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=p4()?[bq,wq]:[vq(n),xq(n)];return{animation:e?`${fs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Eq=j.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Tq(t.position||e||"top-center",t.visible):{opacity:0},s=j.createElement(yq,{toast:t}),a=j.createElement(Sq,{...t.ariaProps},Jg(t.message,t));return j.createElement(_q,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):j.createElement(j.Fragment,null,s,a))});HW(j.createElement);var Aq=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=j.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:s,className:e,style:n},i)},Pq=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:p4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Iq=o0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gm=16,Nq=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:l}=rq(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:gm,left:gm,right:gm,bottom:gm,pointerEvents:"none",...s},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let d=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=Pq(d,h);return j.createElement(Aq,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Iq:"",style:f},c.type==="custom"?Jg(c.message,c):i?i(c):j.createElement(Eq,{toast:c,position:d}))}))};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}var sa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sa||(sa={}));const ck="popstate";function kq(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return $1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:y4(i)}return jq(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Oq(){return Math.random().toString(36).substr(2,8)}function uk(t,e){return{usr:t.state,key:t.key,idx:e}}function $1(t,e,n,r){return n===void 0&&(n=null),Hh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Iu(e):e,{state:n,key:e&&e.key||r||Oq()})}function y4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=sa.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Hh({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=sa.Pop;let v=d(),w=v==null?null:v-c;c=v,l&&l({action:o,location:y.location,delta:w})}function f(v,w){o=sa.Push;let b=$1(y.location,v,w);n&&n(b,v),c=d()+1;let x=uk(b,c),A=y.createHref(b);try{a.pushState(x,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(A)}s&&l&&l({action:o,location:y.location,delta:1})}function m(v,w){o=sa.Replace;let b=$1(y.location,v,w);n&&n(b,v),c=d();let x=uk(b,c),A=y.createHref(b);a.replaceState(x,"",A),s&&l&&l({action:o,location:y.location,delta:0})}function g(v){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:y4(v);return b=b.replace(/ $/,"%20"),Ct(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let y={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ck,h),l=v,()=>{i.removeEventListener(ck,h),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let w=g(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(v){return a.go(v)}};return y}var dk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dk||(dk={}));function Cq(t,e,n){return n===void 0&&(n="/"),Rq(t,e,n,!1)}function Rq(t,e,n,r){let i=typeof e=="string"?Iu(e):e,s=b4(i.pathname||"/",n);if(s==null)return null;let a=v4(t);Dq(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Hq(s);o=Wq(a[l],c,r)}return o}function v4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Do([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),v4(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Uq(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of x4(s.path))i(s,a,l)}),e}function x4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=x4(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Dq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mq=/^:[\w-]+$/,$q=3,Lq=2,Vq=1,Fq=10,Bq=-2,hk=t=>t==="*";function Uq(t,e){let n=t.split("/"),r=n.length;return n.some(hk)&&(r+=Bq),e&&(r+=Lq),n.filter(i=>!hk(i)).reduce((i,s)=>i+(Mq.test(s)?$q:s===""?Vq:Fq),r)}function zq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wq(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=fk({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=fk({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Do([s,h.pathname]),pathnameBase:Xq(Do([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Do([s,h.pathnameBase]))}return a}function fk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[h];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function qq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return g4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function b4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Kq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Iu(t):t;return{pathname:n?n.startsWith("/")?n:Gq(n,e):e,search:Qq(r),hash:Jq(i)}}function Gq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w4(t,e){let n=Yq(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Iu(t):(i=Hh({},t),Ct(!i.pathname||!i.pathname.includes("?"),Rb("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Rb("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Rb("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=Kq(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Do=t=>t.join("/").replace(/\/\/+/g,"/"),Xq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S4=["post","put","patch","delete"];new Set(S4);const eH=["get",...S4];new Set(eH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}const lE=j.createContext(null),tH=j.createContext(null),rp=j.createContext(null),l0=j.createContext(null),La=j.createContext({outlet:null,matches:[],isDataRoute:!1}),T4=j.createContext(null);function ip(){return j.useContext(l0)!=null}function Nu(){return ip()||Ct(!1),j.useContext(l0).location}function E4(t){j.useContext(rp).static||j.useLayoutEffect(t)}function Zn(){let{isDataRoute:t}=j.useContext(La);return t?mH():nH()}function nH(){ip()||Ct(!1);let t=j.useContext(lE),{basename:e,future:n,navigator:r}=j.useContext(rp),{matches:i}=j.useContext(La),{pathname:s}=Nu(),a=JSON.stringify(w4(i,n.v7_relativeSplatPath)),o=j.useRef(!1);return E4(()=>{o.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=_4(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Do([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,s,t])}function rH(){let{matches:t}=j.useContext(La),e=t[t.length-1];return e?e.params:{}}function iH(t,e){return sH(t,e)}function sH(t,e,n,r){ip()||Ct(!1);let{navigator:i}=j.useContext(rp),{matches:s}=j.useContext(La),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Nu(),d;if(e){var h;let v=typeof e=="string"?Iu(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Ct(!1),d=v}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Cq(t,{pathname:m}),y=uH(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Do([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Do([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&y?j.createElement(l0.Provider,{value:{location:Kh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sa.Pop}},y):y}function aH(){let t=pH(),e=Zq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,s)}const oH=j.createElement(aH,null);class lH extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(La.Provider,{value:this.props.routeContext},j.createElement(T4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cH(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(lE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(La.Provider,{value:e},r)}function uH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Ct(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,g=!1,y=null,v=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||oH,l&&(c<0&&f===0?(gH("route-fallback",!1),g=!0,v=null):c===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,f+1)),b=()=>{let x;return m?x=y:g?x=v:h.route.Component?x=j.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,j.createElement(cH,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(lH,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var A4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A4||{}),Zg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zg||{});function dH(t){let e=j.useContext(lE);return e||Ct(!1),e}function hH(t){let e=j.useContext(tH);return e||Ct(!1),e}function fH(t){let e=j.useContext(La);return e||Ct(!1),e}function P4(t){let e=fH(),n=e.matches[e.matches.length-1];return n.route.id||Ct(!1),n.route.id}function pH(){var t;let e=j.useContext(T4),n=hH(Zg.UseRouteError),r=P4(Zg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mH(){let{router:t}=dH(A4.UseNavigateStable),e=P4(Zg.UseNavigateStable),n=j.useRef(!1);return E4(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kh({fromRouteId:e},s)))},[t,e])}const pk={};function gH(t,e,n){!e&&!pk[t]&&(pk[t]=!0)}function yH(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function I4(t){let{to:e,replace:n,state:r,relative:i}=t;ip()||Ct(!1);let{future:s,static:a}=j.useContext(rp),{matches:o}=j.useContext(La),{pathname:l}=Nu(),c=Zn(),d=_4(e,w4(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return j.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function gn(t){Ct(!1)}function vH(t){let{basename:e="/",children:n=null,location:r,navigationType:i=sa.Pop,navigator:s,static:a=!1,future:o}=t;ip()&&Ct(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:a,future:Kh({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Iu(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,y=j.useMemo(()=>{let v=b4(d,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:g},navigationType:i}},[l,d,h,f,m,g,i]);return y==null?null:j.createElement(rp.Provider,{value:c},j.createElement(l0.Provider,{children:n,value:y}))}function xH(t){let{children:e,location:n}=t;return iH(L1(e),n)}new Promise(()=>{});function L1(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,L1(r.props.children,s));return}r.type!==gn&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=L1(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function bH(t,e){let n=V1(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const wH="6";try{window.__reactRouterVersion=wH}catch{}const _H="startTransition",mk=Iz[_H];function SH(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=kq({window:i,v5Compat:!0}));let a=s.current,[o,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=j.useCallback(h=>{c&&mk?mk(()=>l(h)):l(h)},[l,c]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>yH(r),[r]),j.createElement(vH,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var gk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gk||(gk={}));var yk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yk||(yk={}));function TH(t){let e=j.useRef(V1(t)),n=j.useRef(!1),r=Nu(),i=j.useMemo(()=>bH(r.search,n.current?null:e.current),[r.search]),s=Zn(),a=j.useCallback((o,l)=>{const c=V1(typeof o=="function"?o(i):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var EH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_e=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...l},c)=>j.createElement("svg",{ref:c,...EH,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${AH(t)}`,...l},[...e.map(([d,h])=>j.createElement(d,h)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${t}`,n},Gh=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),PH=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),c0=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),N4=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ym=_e("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),k4=_e("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Fd=_e("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]),ey=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),vk=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),xk=_e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),IH=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Lr=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),NH=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),zr=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),O4=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),cE=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),kH=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ty=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ku=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Go=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ny=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),OH=_e("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),jH=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),CH=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),RH=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),j4=_e("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),C4=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Mc=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),uE=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Vr=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jn=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),DH=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),ag=_e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),F1=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),MH=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ki=_e("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),$H=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),LH=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),B1=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Rr=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),VH=_e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),U1=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),FH=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),BH=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),R4=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),UH=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),dE=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Yh=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),D4=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),vr=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zH=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);let vm;const WH=new Uint8Array(16);function qH(){if(!vm&&(vm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vm(WH)}const en=[];for(let t=0;t<256;++t)en.push((t+256).toString(16).slice(1));function HH(t,e=0){return en[t[e+0]]+en[t[e+1]]+en[t[e+2]]+en[t[e+3]]+"-"+en[t[e+4]]+en[t[e+5]]+"-"+en[t[e+6]]+en[t[e+7]]+"-"+en[t[e+8]]+en[t[e+9]]+"-"+en[t[e+10]]+en[t[e+11]]+en[t[e+12]]+en[t[e+13]]+en[t[e+14]]+en[t[e+15]]}const KH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bk={randomUUID:KH};function GH(t,e,n){if(bk.randomUUID&&!e&&!t)return bk.randomUUID();t=t||{};const r=t.random||(t.rng||qH)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return HH(r)}const YH=({shop:t,isSelected:e,onSelect:n})=>u.jsxs("div",{className:`bg-white rounded-xl shadow-md overflow-hidden transition-all ${e?"ring-2 ring-blue-600":"hover:shadow-lg"}`,children:[u.jsx("div",{className:"h-48 overflow-hidden",children:u.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.name}),u.jsx("div",{className:"mb-2",children:t.isShopOpen?u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Open"}):u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Closed"})}),u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(FH,{className:"h-4 w-4 text-yellow-400"}),u.jsx("span",{className:"ml-1 text-xs text-gray-600",children:t.rating})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(jn,{className:"h-4 w-4 text-gray-400"}),u.jsxs("span",{className:"ml-1 text-xs text-gray-600",children:[t.distance," mi"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(zr,{className:"h-4 w-4 text-gray-400"}),u.jsxs("span",{className:"ml-1 text-xs text-gray-600",children:[t.eta," mins"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-base font-semibold text-gray-900",children:["",(t.price+1).toFixed(2),"/page"]}),u.jsx("button",{onClick:n,className:`px-3 py-1.5 rounded-md transition-colors ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:e?"Selected":"Select"})]})]})]}),XH=({onFileSelect:t})=>{const e=j.useCallback(i=>{i.preventDefault();const s=i.dataTransfer.files;s.length>0&&t(s)},[t]),n=i=>{i.preventDefault()},r=i=>{const s=i.target.files;s&&s.length>0&&t(s)};return u.jsx("div",{onDrop:e,onDragOver:n,className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx(UH,{className:"h-12 w-12 text-gray-400 mb-4"}),u.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Drag and drop your files here, or"}),u.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors cursor-pointer",children:[u.jsx(MH,{className:"h-4 w-4 mr-2"}),u.jsx("span",{children:"Add Files"}),u.jsx("input",{type:"file",className:"hidden",accept:".pdf,image/*",onChange:r,multiple:!0})]}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"PDF or Images up to 50MB each"})]})})},QH=({jobs:t,onUpdateJob:e,onRemoveJob:n})=>u.jsx("div",{className:"space-y-4",children:t.map(r=>u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(OH,{className:"h-5 w-5 text-blue-600 mt-1"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:r.file.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(r.file.size/1024/1024).toFixed(2)," MB"]})]})]}),u.jsx("button",{onClick:()=>n(r.id),className:"text-gray-400 hover:text-gray-600",children:u.jsx(vr,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Copies"}),u.jsx("input",{type:"number",min:"1",value:r.copies,onChange:i=>e({...r,copies:parseInt(i.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Print Type"}),u.jsxs("select",{value:r.isColor?"color":"bw",onChange:i=>e({...r,isColor:i.target.value==="color"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"bw",children:"Black & White"}),u.jsx("option",{value:"color",children:"Color"})]})]})]})]},r.id))}),JH=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|o>>4;let f=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||h==null)throw new eK;const f=s<<2|o>>4;if(r.push(f),c!==64){const m=o<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tK=function(t){const e=M4(t);return $4.encodeByteArray(e,!0)},ry=function(t){return tK(t).replace(/\./g,"")},L4=function(t){try{return $4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=()=>V4().__FIREBASE_DEFAULTS__,rK=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&L4(t[1]);return e&&JSON.parse(e)},u0=()=>{try{return JH()||nK()||rK()||iK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F4=t=>{var e,n;return(n=(e=u0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hE=t=>{const e=F4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B4=()=>{var t;return(t=u0())===null||t===void 0?void 0:t.config},U4=t=>{var e;return(e=u0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){return t.endsWith(".cloudworkstations.dev")}async function d0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),o="";return[ry(JSON.stringify(n)),ry(JSON.stringify(a)),o].join(".")}const ah={};function aK(){const t={prod:[],emulator:[]};for(const e of Object.keys(ah))ah[e]?t.emulator.push(e):t.prod.push(e);return t}function oK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wk=!1;function h0(t,e){if(typeof window>"u"||typeof document>"u"||!Va(window.location.host)||ah[t]===e||ah[t]||wk)return;ah[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=aK().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{wk=!0,a()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=oK(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),b=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;o(x),d(v,y);const A=c();l(b,w),x.append(b,g,v,A),document.body.appendChild(x)}s?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function W4(){var t;const e=(t=u0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dK(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H4(){return!W4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K4(){return!W4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function fE(){try{return typeof indexedDB=="object"}catch{return!1}}function G4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function hK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fK,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?pK(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Kr(i,o,r)}}function pK(t,e){return t.replace(mK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mK=/\{\$([^}]+)}/g;function gK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(_k(s)&&_k(a)){if(!Aa(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _k(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ud(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yK(t,e){const n=new vK(t,e);return n.subscribe.bind(n)}class vK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Db),i.error===void 0&&(i.error=Db),i.complete===void 0&&(i.complete=Db);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Db(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=1e3,wK=2,_K=4*60*60*1e3,SK=.5;function Sk(t,e=bK,n=wK){const r=e*Math.pow(n,t),i=Math.round(SK*r*(Math.random()-.5)*2);return Math.min(_K,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AK(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EK(t){return t===ao?void 0:t}function AK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const IK={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},NK=Re.INFO,kK={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},OK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=NK,this._logHandler=OK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const jK=(t,e)=>e.some(n=>t instanceof n);let Tk,Ek;function CK(){return Tk||(Tk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RK(){return Ek||(Ek=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y4=new WeakMap,z1=new WeakMap,X4=new WeakMap,Mb=new WeakMap,pE=new WeakMap;function DK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ga(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Y4.set(n,t)}).catch(()=>{}),pE.set(e,t),e}function MK(t){if(z1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});z1.set(t,e)}let W1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ga(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $K(t){W1=t(W1)}function LK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($b(this),e,...n);return X4.set(r,e.sort?e.sort():[e]),ga(r)}:RK().includes(t)?function(...e){return t.apply($b(this),e),ga(Y4.get(this))}:function(...e){return ga(t.apply($b(this),e))}}function VK(t){return typeof t=="function"?LK(t):(t instanceof IDBTransaction&&MK(t),jK(t,CK())?new Proxy(t,W1):t)}function ga(t){if(t instanceof IDBRequest)return DK(t);if(Mb.has(t))return Mb.get(t);const e=VK(t);return e!==t&&(Mb.set(t,e),pE.set(e,t)),e}const $b=t=>pE.get(t);function Q4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ga(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ga(a.result),l.oldVersion,l.newVersion,ga(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const FK=["get","getKey","getAll","getAllKeys","count"],BK=["put","add","delete","clear"],Lb=new Map;function Ak(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lb.get(e))return Lb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FK.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Lb.set(e,s),s}$K(t=>({...t,get:(e,n,r)=>Ak(e,n)||t.get(e,n,r),has:(e,n)=>!!Ak(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q1="@firebase/app",Pk="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new f0("@firebase/app"),WK="@firebase/app-compat",qK="@firebase/analytics-compat",HK="@firebase/analytics",KK="@firebase/app-check-compat",GK="@firebase/app-check",YK="@firebase/auth",XK="@firebase/auth-compat",QK="@firebase/database",JK="@firebase/data-connect",ZK="@firebase/database-compat",eG="@firebase/functions",tG="@firebase/functions-compat",nG="@firebase/installations",rG="@firebase/installations-compat",iG="@firebase/messaging",sG="@firebase/messaging-compat",aG="@firebase/performance",oG="@firebase/performance-compat",lG="@firebase/remote-config",cG="@firebase/remote-config-compat",uG="@firebase/storage",dG="@firebase/storage-compat",hG="@firebase/firestore",fG="@firebase/ai",pG="@firebase/firestore-compat",mG="firebase",gG="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="[DEFAULT]",yG={[q1]:"fire-core",[WK]:"fire-core-compat",[HK]:"fire-analytics",[qK]:"fire-analytics-compat",[GK]:"fire-app-check",[KK]:"fire-app-check-compat",[YK]:"fire-auth",[XK]:"fire-auth-compat",[QK]:"fire-rtdb",[JK]:"fire-data-connect",[ZK]:"fire-rtdb-compat",[eG]:"fire-fn",[tG]:"fire-fn-compat",[nG]:"fire-iid",[rG]:"fire-iid-compat",[iG]:"fire-fcm",[sG]:"fire-fcm-compat",[aG]:"fire-perf",[oG]:"fire-perf-compat",[lG]:"fire-rc",[cG]:"fire-rc-compat",[uG]:"fire-gcs",[dG]:"fire-gcs-compat",[hG]:"fire-fst",[pG]:"fire-fst-compat",[fG]:"fire-vertex","fire-js":"fire-js",[mG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map,vG=new Map,K1=new Map;function Ik(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wr(t){const e=t.name;if(K1.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;K1.set(e,t);for(const n of iy.values())Ik(n,t);for(const n of vG.values())Ik(n,t);return!0}function Ts(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new vl("app","Firebase",xG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=gG;function J4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H1,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ya.create("bad-app-name",{appName:String(i)});if(n||(n=B4()),!n)throw ya.create("no-options");const s=iy.get(i);if(s){if(Aa(n,s.options)&&Aa(r,s.config))return s;throw ya.create("duplicate-app",{appName:i})}const a=new PK(i);for(const l of K1.values())a.addComponent(l);const o=new bG(n,r,a);return iy.set(i,o),o}function Ou(t=H1){const e=iy.get(t);if(!e&&t===H1&&B4())return J4();if(!e)throw ya.create("no-app",{appName:t});return e}function Sn(t,e,n){var r;let i=(r=yG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(o.join(" "));return}Wr(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="firebase-heartbeat-database",_G=1,Xh="firebase-heartbeat-store";let Vb=null;function Z4(){return Vb||(Vb=Q4(wG,_G,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ya.create("idb-open",{originalErrorMessage:t.message})})),Vb}async function SG(t){try{const n=(await Z4()).transaction(Xh),r=await n.objectStore(Xh).get(eV(t));return await n.done,r}catch(e){if(e instanceof Kr)ps.warn(e.message);else{const n=ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function Nk(t,e){try{const r=(await Z4()).transaction(Xh,"readwrite");await r.objectStore(Xh).put(e,eV(t)),await r.done}catch(n){if(n instanceof Kr)ps.warn(n.message);else{const r=ya.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function eV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=1024,EG=30;class AG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>EG){const a=NG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kk(),{heartbeatsToSend:r,unsentEntries:i}=PG(this._heartbeatsCache.heartbeats),s=ry(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ps.warn(n),""}}}function kk(){return new Date().toISOString().substring(0,10)}function PG(t,e=TG){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Ok(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ok(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fE()?G4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ok(t){return ry(JSON.stringify({version:2,heartbeats:t})).length}function NG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t){Wr(new xr("platform-logger",e=>new UK(e),"PRIVATE")),Wr(new xr("heartbeat",e=>new AG(e),"PRIVATE")),Sn(q1,Pk,t),Sn(q1,Pk,"esm2017"),Sn("fire-js","")}kG("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Cn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="us-central1";class jG{constructor(e,n,r,i,s=G1,a=(...o)=>fetch(...o)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new OG(e,n,r,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=G1}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function CG(t,e,n){const r=Va(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(d0(t.emulatorOrigin),h0("Functions",!0))}const jk="@firebase/functions",Ck="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="auth-internal",DG="app-check-internal",MG="messaging-internal";function $G(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(RG),a=n.getProvider(MG),o=n.getProvider(DG);return new jG(i,s,a,o,r)};Wr(new xr(tV,e,"PUBLIC").setMultipleInstances(!0)),Sn(jk,Ck,t),Sn(jk,Ck,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t=Ou(),e=G1){const r=Ts(at(t),tV).getImmediate({identifier:e}),i=hE("functions");return i&&VG(r,...i),r}function VG(t,e,n){CG(at(t),e,n)}$G();var FG="firebase",BG="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(FG,BG,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="firebasestorage.googleapis.com",UG="storageBucket",zG=2*60*1e3,WG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Kr{constructor(e,n,r=0){super(Fb(e),`Firebase Storage: ${n} (${Fb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Di.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oi||(Oi={}));function Fb(t){return"storage/"+t}function qG(){const t="An unknown error occurred, please check the error payload for server response.";return new Di(Oi.UNKNOWN,t)}function HG(){return new Di(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KG(){return new Di(Oi.CANCELED,"User canceled the upload/download.")}function GG(t){return new Di(Oi.INVALID_URL,"Invalid URL '"+t+"'.")}function YG(t){return new Di(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Rk(t){return new Di(Oi.INVALID_ARGUMENT,t)}function rV(){return new Di(Oi.APP_DELETED,"The Firebase app was deleted.")}function XG(t){return new Di(Oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(r.path==="")return r;throw YG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=n===nV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",w=new RegExp(`^https?://${y}/${i}/${v}`,"i"),x=[{regex:o,indices:l,postModify:s},{regex:m,indices:g,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<x.length;A++){const T=x[A],P=T.regex.exec(e);if(P){const E=P[T.indices.bucket];let S=P[T.indices.path];S||(S=""),r=new ai(E,S),T.postModify(r);break}}if(r==null)throw GG(e);return r}}class QG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function d(...v){c||(c=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(m,l())},v)}function f(){s&&clearTimeout(s)}function m(v,...w){if(c){f();return}if(v){f(),d.call(null,v,...w);return}if(l()||a){f(),d.call(null,v,...w);return}r<64&&(r*=2);let x;o===1?(o=2,x=0):x=(r+Math.random())*1e3,h(x)}let g=!1;function y(v){g||(g=!0,f(),!c&&(i!==null?(v||(o=2),clearTimeout(i),h(0)):v||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,y(!0)},n),y}function ZG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t){return t!==void 0}function Dk(t,e,n,r){if(r<e)throw Rk(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rk(`Invalid value for '${t}'. Expected ${n} or less.`)}function tY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var sy;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sy||(sy={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e,n,r,i,s,a,o,l,c,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===sy.NO_ERROR,l=s.getStatus();if(!o||nY(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===sy.ABORT;r(!1,new xm(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new xm(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());eY(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=qG();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?rV():KG();a(l)}else{const l=HG();a(l)}};this.canceled_?n(!1,new xm(!1,null,!0)):this.backoffId_=JG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function iY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lY(t,e,n,r,i,s,a=!0,o=!1){const l=tY(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return aY(d,e),iY(d,n),sY(d,s),oY(d,r),new rY(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ay(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uY(this._location.path)}get storage(){return this._service}get parent(){const e=cY(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new ay(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw XG(e)}}function Mk(t,e){const n=e==null?void 0:e[UG];return n==null?null:ai.makeFromBucketSpec(n,t)}function dY(t,e,n,r={}){t.host=`${e}:${n}`;const i=Va(e);i&&(d0(`https://${t.host}/b`),h0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:z4(s,t.app.options.projectId))}class hY{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=nV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zG,this._maxUploadRetryTime=WG,this._requests=new Set,i!=null?this._bucket=ai.makeFromBucketSpec(i,this._host):this._bucket=Mk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=Mk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ay(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new QG(rV());{const a=lY(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $k="@firebase/storage",Lk="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="storage";function fY(t=Ou(),e){t=at(t);const r=Ts(t,iV).getImmediate({identifier:e}),i=hE("storage");return i&&pY(r,...i),r}function pY(t,e,n,r={}){dY(t,e,n,r)}function mY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new hY(n,r,i,e,xl)}function gY(){Wr(new xr(iV,mY,"PUBLIC").setMultipleInstances(!0)),Sn($k,Lk,""),Sn($k,Lk,"esm2017")}gY();var Vk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,sV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function I(){}I.prototype=S.prototype,E.D=S.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(k,O,C){for(var R=Array(arguments.length-2),F=2;F<arguments.length;F++)R[F-2]=arguments[F];return S.prototype[O].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,I){I||(I=0);var k=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)k[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;16>O;++O)k[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=E.g[0],I=E.g[1],O=E.g[2];var C=E.g[3],R=S+(C^I&(O^C))+k[0]+3614090360&4294967295;S=I+(R<<7&4294967295|R>>>25),R=C+(O^S&(I^O))+k[1]+3905402710&4294967295,C=S+(R<<12&4294967295|R>>>20),R=O+(I^C&(S^I))+k[2]+606105819&4294967295,O=C+(R<<17&4294967295|R>>>15),R=I+(S^O&(C^S))+k[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(C^I&(O^C))+k[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=C+(O^S&(I^O))+k[5]+1200080426&4294967295,C=S+(R<<12&4294967295|R>>>20),R=O+(I^C&(S^I))+k[6]+2821735955&4294967295,O=C+(R<<17&4294967295|R>>>15),R=I+(S^O&(C^S))+k[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(C^I&(O^C))+k[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=C+(O^S&(I^O))+k[9]+2336552879&4294967295,C=S+(R<<12&4294967295|R>>>20),R=O+(I^C&(S^I))+k[10]+4294925233&4294967295,O=C+(R<<17&4294967295|R>>>15),R=I+(S^O&(C^S))+k[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(C^I&(O^C))+k[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=C+(O^S&(I^O))+k[13]+4254626195&4294967295,C=S+(R<<12&4294967295|R>>>20),R=O+(I^C&(S^I))+k[14]+2792965006&4294967295,O=C+(R<<17&4294967295|R>>>15),R=I+(S^O&(C^S))+k[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(O^C&(I^O))+k[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=C+(I^O&(S^I))+k[6]+3225465664&4294967295,C=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(C^S))+k[11]+643717713&4294967295,O=C+(R<<14&4294967295|R>>>18),R=I+(C^S&(O^C))+k[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^C&(I^O))+k[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=C+(I^O&(S^I))+k[10]+38016083&4294967295,C=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(C^S))+k[15]+3634488961&4294967295,O=C+(R<<14&4294967295|R>>>18),R=I+(C^S&(O^C))+k[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^C&(I^O))+k[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=C+(I^O&(S^I))+k[14]+3275163606&4294967295,C=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(C^S))+k[3]+4107603335&4294967295,O=C+(R<<14&4294967295|R>>>18),R=I+(C^S&(O^C))+k[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^C&(I^O))+k[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=C+(I^O&(S^I))+k[2]+4243563512&4294967295,C=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(C^S))+k[7]+1735328473&4294967295,O=C+(R<<14&4294967295|R>>>18),R=I+(C^S&(O^C))+k[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(I^O^C)+k[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=C+(S^I^O)+k[8]+2272392833&4294967295,C=S+(R<<11&4294967295|R>>>21),R=O+(C^S^I)+k[11]+1839030562&4294967295,O=C+(R<<16&4294967295|R>>>16),R=I+(O^C^S)+k[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^C)+k[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=C+(S^I^O)+k[4]+1272893353&4294967295,C=S+(R<<11&4294967295|R>>>21),R=O+(C^S^I)+k[7]+4139469664&4294967295,O=C+(R<<16&4294967295|R>>>16),R=I+(O^C^S)+k[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^C)+k[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=C+(S^I^O)+k[0]+3936430074&4294967295,C=S+(R<<11&4294967295|R>>>21),R=O+(C^S^I)+k[3]+3572445317&4294967295,O=C+(R<<16&4294967295|R>>>16),R=I+(O^C^S)+k[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^C)+k[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=C+(S^I^O)+k[12]+3873151461&4294967295,C=S+(R<<11&4294967295|R>>>21),R=O+(C^S^I)+k[15]+530742520&4294967295,O=C+(R<<16&4294967295|R>>>16),R=I+(O^C^S)+k[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(O^(I|~C))+k[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=C+(I^(S|~O))+k[7]+1126891415&4294967295,C=S+(R<<10&4294967295|R>>>22),R=O+(S^(C|~I))+k[14]+2878612391&4294967295,O=C+(R<<15&4294967295|R>>>17),R=I+(C^(O|~S))+k[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~C))+k[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=C+(I^(S|~O))+k[3]+2399980690&4294967295,C=S+(R<<10&4294967295|R>>>22),R=O+(S^(C|~I))+k[10]+4293915773&4294967295,O=C+(R<<15&4294967295|R>>>17),R=I+(C^(O|~S))+k[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~C))+k[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=C+(I^(S|~O))+k[15]+4264355552&4294967295,C=S+(R<<10&4294967295|R>>>22),R=O+(S^(C|~I))+k[6]+2734768916&4294967295,O=C+(R<<15&4294967295|R>>>17),R=I+(C^(O|~S))+k[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~C))+k[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=C+(I^(S|~O))+k[11]+3174756917&4294967295,C=S+(R<<10&4294967295|R>>>22),R=O+(S^(C|~I))+k[2]+718787259&4294967295,O=C+(R<<15&4294967295|R>>>17),R=I+(C^(O|~S))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+O&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var I=S-this.blockSize,k=this.B,O=this.h,C=0;C<S;){if(O==0)for(;C<=I;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<S;)if(k[O++]=E.charCodeAt(C++),O==this.blockSize){i(this,k),O=0;break}}else for(;C<S;)if(k[O++]=E[C++],O==this.blockSize){i(this,k),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var I=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=I&255,I/=256;for(this.u(E),E=Array(16),S=I=0;4>S;++S)for(var k=0;32>k;k+=8)E[I++]=this.g[S]>>>k&255;return E};function s(E,S){var I=o;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=S(E)}function a(E,S){this.h=S;for(var I=[],k=!0,O=E.length-1;0<=O;O--){var C=E[O]|0;k&&C==S||(I[O]=C,k=!1)}this.g=I}var o={};function l(E){return-128<=E&&128>E?s(E,function(S){return new a([S|0],0>S?-1:0)}):new a([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return v(c(-E));for(var S=[],I=1,k=0;E>=I;k++)S[k]=E/I|0,I*=4294967296;return new a(S,0)}function d(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return v(d(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),k=h,O=0;O<E.length;O+=8){var C=Math.min(8,E.length-O),R=parseInt(E.substring(O,O+C),S);8>C?(C=c(Math.pow(S,C)),k=k.j(C).add(c(R))):(k=k.j(I),k=k.add(c(R)))}return k}var h=l(0),f=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-v(this).m();for(var E=0,S=1,I=0;I<this.g.length;I++){var k=this.i(I);E+=(0<=k?k:4294967296+k)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(y(this))return"-"+v(this).toString(E);for(var S=c(Math.pow(E,6)),I=this,k="";;){var O=A(I,S).g;I=w(I,O.j(S));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=O,g(I))return C+k;for(;6>C.length;)C="0"+C;k=C+k}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=w(this,E),y(E)?-1:g(E)?0:1};function v(E){for(var S=E.g.length,I=[],k=0;k<S;k++)I[k]=~E.g[k];return new a(I,~E.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],k=0,O=0;O<=S;O++){var C=k+(this.i(O)&65535)+(E.i(O)&65535),R=(C>>>16)+(this.i(O)>>>16)+(E.i(O)>>>16);k=R>>>16,C&=65535,R&=65535,I[O]=R<<16|C}return new a(I,I[I.length-1]&-2147483648?-1:0)};function w(E,S){return E.add(v(S))}t.j=function(E){if(g(this)||g(E))return h;if(y(this))return y(E)?v(this).j(v(E)):v(v(this).j(E));if(y(E))return v(this.j(v(E)));if(0>this.l(m)&&0>E.l(m))return c(this.m()*E.m());for(var S=this.g.length+E.g.length,I=[],k=0;k<2*S;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<E.g.length;O++){var C=this.i(k)>>>16,R=this.i(k)&65535,F=E.i(O)>>>16,B=E.i(O)&65535;I[2*k+2*O]+=R*B,b(I,2*k+2*O),I[2*k+2*O+1]+=C*B,b(I,2*k+2*O+1),I[2*k+2*O+1]+=R*F,b(I,2*k+2*O+1),I[2*k+2*O+2]+=C*F,b(I,2*k+2*O+2)}for(k=0;k<S;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=S;k<2*S;k++)I[k]=0;return new a(I,0)};function b(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function A(E,S){if(g(S))throw Error("division by zero");if(g(E))return new x(h,h);if(y(E))return S=A(v(E),S),new x(v(S.g),v(S.h));if(y(S))return S=A(E,v(S)),new x(v(S.g),S.h);if(30<E.g.length){if(y(E)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=f,k=S;0>=k.l(E);)I=T(I),k=T(k);var O=P(I,1),C=P(k,1);for(k=P(k,2),I=P(I,2);!g(k);){var R=C.add(k);0>=R.l(E)&&(O=O.add(I),C=R),k=P(k,1),I=P(I,1)}return S=w(E,O.j(S)),new x(O,S)}for(O=h;0<=E.l(S);){for(I=Math.max(1,Math.floor(E.m()/S.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),C=c(I),R=C.j(S);y(R)||0<R.l(E);)I-=k,C=c(I),R=C.j(S);g(C)&&(C=f),O=O.add(C),E=w(E,R)}return new x(O,E)}t.A=function(E){return A(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)&E.i(k);return new a(I,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)|E.i(k);return new a(I,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)^E.i(k);return new a(I,this.h^E.h)};function T(E){for(var S=E.g.length+1,I=[],k=0;k<S;k++)I[k]=E.i(k)<<1|E.i(k-1)>>>31;return new a(I,E.h)}function P(E,S){var I=S>>5;S%=32;for(var k=E.g.length-I,O=[],C=0;C<k;C++)O[C]=0<S?E.i(C+I)>>>S|E.i(C+I+1)<<32-S:E.i(C+I);return new a(O,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,va=a}).apply(typeof Vk<"u"?Vk:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aV,zd,oV,og,Y1,lV,cV,uV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,N){return p==Array.prototype||p==Object.prototype||(p[_]=N.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var _=0;_<p.length;++_){var N=p[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(p,_){if(_)e:{var N=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var U=p[D];if(!(U in N))break e;N=N[U]}p=p[p.length-1],D=N[p],_=_(D),_!=D&&_!=null&&e(N,p,{configurable:!0,writable:!0,value:_})}}function s(p,_){p instanceof String&&(p+="");var N=0,D=!1,U={next:function(){if(!D&&N<p.length){var K=N++;return{value:_(K,p[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(p){return p||function(){return s(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function c(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function d(p,_,N){return p.call.apply(p.bind,arguments)}function h(p,_,N){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),p.apply(_,U)}}return function(){return p.apply(_,arguments)}}function f(p,_,N){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(p,_){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function g(p,_){function N(){}N.prototype=_.prototype,p.aa=_.prototype,p.prototype=new N,p.prototype.constructor=p,p.Qb=function(D,U,K){for(var le=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)le[Ze-2]=arguments[Ze];return _.prototype[U].apply(D,le)}}function y(p){const _=p.length;if(0<_){const N=Array(_);for(let D=0;D<_;D++)N[D]=p[D];return N}return[]}function v(p,_){for(let N=1;N<arguments.length;N++){const D=arguments[N];if(l(D)){const U=p.length||0,K=D.length||0;p.length=U+K;for(let le=0;le<K;le++)p[U+le]=D[le]}else p.push(D)}}class w{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function b(p){return/^[\s\xa0]*$/.test(p)}function x(){var p=o.navigator;return p&&(p=p.userAgent)?p:""}function A(p){return A[" "](p),p}A[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function P(p,_,N){for(const D in p)_.call(N,p[D],D,p)}function E(p,_){for(const N in p)_.call(void 0,p[N],N,p)}function S(p){const _={};for(const N in p)_[N]=p[N];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(p,_){let N,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(N in D)p[N]=D[N];for(let K=0;K<I.length;K++)N=I[K],Object.prototype.hasOwnProperty.call(D,N)&&(p[N]=D[N])}}function O(p){var _=1;p=p.split(":");const N=[];for(;0<_&&p.length;)N.push(p.shift()),_--;return p.length&&N.push(p.join(":")),N}function C(p){o.setTimeout(()=>{throw p},0)}function R(){var p=q;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,N){const D=B.get();D.set(_,N),this.h?this.h.next=D:this.g=D,this.h=D}}var B=new w(()=>new H,p=>p.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,L=!1,q=new F,X=()=>{const p=o.Promise.resolve(void 0);Y=()=>{p.then(te)}};var te=()=>{for(var p;p=R();){try{p.h.call(p.g)}catch(N){C(N)}var _=B;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}L=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};o.addEventListener("test",N,_),o.removeEventListener("test",N,_)}catch{}return p}();function W(p,_){if(ne.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var N=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(T){e:{try{A(_.nodeName);var U=!0;break e}catch{}U=!1}U||(_=null)}}else N=="mouseover"?_=p.fromElement:N=="mouseout"&&(_=p.toElement);this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&W.aa.h.call(this)}}g(W,ne);var ce={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),$e=0;function se(p,_,N,D,U){this.listener=p,this.proxy=null,this.src=_,this.type=N,this.capture=!!D,this.ha=U,this.key=++$e,this.da=this.fa=!1}function de(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function V(p){this.src=p,this.g={},this.h=0}V.prototype.add=function(p,_,N,D,U){var K=p.toString();p=this.g[K],p||(p=this.g[K]=[],this.h++);var le=we(p,_,D,U);return-1<le?(_=p[le],N||(_.fa=!1)):(_=new se(_,this.src,K,!!D,U),_.fa=N,p.push(_)),_};function M(p,_){var N=_.type;if(N in p.g){var D=p.g[N],U=Array.prototype.indexOf.call(D,_,void 0),K;(K=0<=U)&&Array.prototype.splice.call(D,U,1),K&&(de(_),p.g[N].length==0&&(delete p.g[N],p.h--))}}function we(p,_,N,D){for(var U=0;U<p.length;++U){var K=p[U];if(!K.da&&K.listener==_&&K.capture==!!N&&K.ha==D)return U}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),je={};function He(p,_,N,D,U){if(D&&D.once)return zn(p,_,N,D,U);if(Array.isArray(_)){for(var K=0;K<_.length;K++)He(p,_[K],N,D,U);return null}return N=qx(N),p&&p[me]?p.K(_,N,c(D)?!!D.capture:!!D,U):gt(p,_,N,!1,D,U)}function gt(p,_,N,D,U,K){if(!_)throw Error("Invalid event type");var le=c(U)?!!U.capture:!!U,Ze=Ds(p);if(Ze||(p[ye]=Ze=new V(p)),N=Ze.add(_,N,D,le,K),N.proxy)return N;if(D=ln(),N.proxy=D,D.src=p,D.listener=N,p.addEventListener)G||(U=le),U===void 0&&(U=!1),p.addEventListener(_.toString(),D,U);else if(p.attachEvent)p.attachEvent(Jt(_.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ln(){function p(N){return _.call(p.src,p.listener,N)}const _=pi;return p}function zn(p,_,N,D,U){if(Array.isArray(_)){for(var K=0;K<_.length;K++)zn(p,_[K],N,D,U);return null}return N=qx(N),p&&p[me]?p.L(_,N,c(D)?!!D.capture:!!D,U):gt(p,_,N,!0,D,U)}function Tr(p,_,N,D,U){if(Array.isArray(_))for(var K=0;K<_.length;K++)Tr(p,_[K],N,D,U);else D=c(D)?!!D.capture:!!D,N=qx(N),p&&p[me]?(p=p.i,_=String(_).toString(),_ in p.g&&(K=p.g[_],N=we(K,N,D,U),-1<N&&(de(K[N]),Array.prototype.splice.call(K,N,1),K.length==0&&(delete p.g[_],p.h--)))):p&&(p=Ds(p))&&(_=p.g[_.toString()],p=-1,_&&(p=we(_,N,D,U)),(N=-1<p?_[p]:null)&&cn(N))}function cn(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[me])M(_.i,p);else{var N=p.type,D=p.proxy;_.removeEventListener?_.removeEventListener(N,D,p.capture):_.detachEvent?_.detachEvent(Jt(N),D):_.addListener&&_.removeListener&&_.removeListener(D),(N=Ds(_))?(M(N,p),N.h==0&&(N.src=null,_[ye]=null)):de(p)}}}function Jt(p){return p in je?je[p]:je[p]="on"+p}function pi(p,_){if(p.da)p=!0;else{_=new W(_,this);var N=p.listener,D=p.ha||p.src;p.fa&&cn(p),p=N.call(D,_)}return p}function Ds(p){return p=p[ye],p instanceof V?p:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function qx(p){return typeof p=="function"?p:(p[Il]||(p[Il]=function(_){return p.handleEvent(_)}),p[Il])}function un(){Z.call(this),this.i=new V(this),this.M=this,this.F=null}g(un,Z),un.prototype[me]=!0,un.prototype.removeEventListener=function(p,_,N,D){Tr(this,p,_,N,D)};function Pn(p,_){var N,D=p.F;if(D)for(N=[];D;D=D.F)N.push(D);if(p=p.M,D=_.type||_,typeof _=="string")_=new ne(_,p);else if(_ instanceof ne)_.target=_.target||p;else{var U=_;_=new ne(D,p),k(_,U)}if(U=!0,N)for(var K=N.length-1;0<=K;K--){var le=_.g=N[K];U=Mp(le,D,!0,_)&&U}if(le=_.g=p,U=Mp(le,D,!0,_)&&U,U=Mp(le,D,!1,_)&&U,N)for(K=0;K<N.length;K++)le=_.g=N[K],U=Mp(le,D,!1,_)&&U}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var N=p.g[_],D=0;D<N.length;D++)de(N[D]);delete p.g[_],p.h--}}this.F=null},un.prototype.K=function(p,_,N,D){return this.i.add(String(p),_,!1,N,D)},un.prototype.L=function(p,_,N,D){return this.i.add(String(p),_,!0,N,D)};function Mp(p,_,N,D){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var U=!0,K=0;K<_.length;++K){var le=_[K];if(le&&!le.da&&le.capture==N){var Ze=le.listener,Zt=le.ha||le.src;le.fa&&M(p.i,le),U=Ze.call(Zt,D)!==!1&&U}}return U&&!D.defaultPrevented}function iI(p,_,N){if(typeof p=="function")N&&(p=f(p,N));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:o.setTimeout(p,_||0)}function sI(p){p.g=iI(()=>{p.g=null,p.i&&(p.i=!1,sI(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class F8 extends Z{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:sI(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qu(p){Z.call(this),this.h=p,this.g={}}g(Qu,Z);var aI=[];function oI(p){P(p.g,function(_,N){this.g.hasOwnProperty(N)&&cn(_)},p),p.g={}}Qu.prototype.N=function(){Qu.aa.N.call(this),oI(this)},Qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hx=o.JSON.stringify,B8=o.JSON.parse,U8=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function Kx(){}Kx.prototype.h=null;function lI(p){return p.h||(p.h=p.i())}function cI(){}var Ju={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gx(){ne.call(this,"d")}g(Gx,ne);function Yx(){ne.call(this,"c")}g(Yx,ne);var Ka={},uI=null;function $p(){return uI=uI||new un}Ka.La="serverreachability";function dI(p){ne.call(this,Ka.La,p)}g(dI,ne);function Zu(p){const _=$p();Pn(_,new dI(_))}Ka.STAT_EVENT="statevent";function hI(p,_){ne.call(this,Ka.STAT_EVENT,p),this.stat=_}g(hI,ne);function In(p){const _=$p();Pn(_,new hI(_,p))}Ka.Ma="timingevent";function fI(p,_){ne.call(this,Ka.Ma,p),this.size=_}g(fI,ne);function ed(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},_)}function td(){this.g=!0}td.prototype.xa=function(){this.g=!1};function z8(p,_,N,D,U,K){p.info(function(){if(p.g)if(K)for(var le="",Ze=K.split("&"),Zt=0;Zt<Ze.length;Zt++){var Ve=Ze[Zt].split("=");if(1<Ve.length){var dn=Ve[0];Ve=Ve[1];var hn=dn.split("_");le=2<=hn.length&&hn[1]=="type"?le+(dn+"="+Ve+"&"):le+(dn+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+_+`
`+N+`
`+le})}function W8(p,_,N,D,U,K,le){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+_+`
`+N+`
`+K+" "+le})}function Nl(p,_,N,D){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+H8(p,N)+(D?" "+D:"")})}function q8(p,_){p.info(function(){return"TIMEOUT: "+_})}td.prototype.info=function(){};function H8(p,_){if(!p.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(p=0;p<N.length;p++)if(Array.isArray(N[p])){var D=N[p];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<U.length;le++)U[le]=""}}}}return Hx(N)}catch{return _}}var Lp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xx;function Vp(){}g(Vp,Kx),Vp.prototype.g=function(){return new XMLHttpRequest},Vp.prototype.i=function(){return{}},Xx=new Vp;function Ms(p,_,N,D){this.j=p,this.i=_,this.l=N,this.R=D||1,this.U=new Qu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mI}function mI(){this.i=null,this.g="",this.h=!1}var gI={},Qx={};function Jx(p,_,N){p.L=1,p.v=zp(Li(_)),p.m=N,p.P=!0,yI(p,null)}function yI(p,_){p.F=Date.now(),Fp(p),p.A=Li(p.v);var N=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),OI(N.i,"t",D),p.C=0,N=p.j.J,p.h=new mI,p.g=YI(p.j,N?_:null,!p.m),0<p.O&&(p.M=new F8(f(p.Y,p,p.g),p.O)),_=p.U,N=p.g,D=p.ca;var U="readystatechange";Array.isArray(U)||(U&&(aI[0]=U.toString()),U=aI);for(var K=0;K<U.length;K++){var le=He(N,U[K],D||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=p.H?S(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),Zu(),z8(p.i,p.u,p.A,p.l,p.R,p.m)}Ms.prototype.ca=function(p){p=p.target;const _=this.M;_&&Vi(p)==3?_.j():this.Y(p)},Ms.prototype.Y=function(p){try{if(p==this.g)e:{const hn=Vi(this.g);var _=this.g.Ba();const jl=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||LI(this.g)))){this.J||hn!=4||_==7||(_==8||0>=jl?Zu(3):Zu(2)),Zx(this);var N=this.g.Z();this.X=N;t:if(vI(this)){var D=LI(this.g);p="";var U=D.length,K=Vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ga(this),nd(this);var le="";break t}this.h.i=new o.TextDecoder}for(_=0;_<U;_++)this.h.h=!0,p+=this.h.i.decode(D[_],{stream:!(K&&_==U-1)});D.length=0,this.h.g+=p,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=N==200,W8(this.i,this.u,this.A,this.l,this.R,hn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Zt=this.g;if((Ze=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ze)){var Ve=Ze;break t}}Ve=null}if(N=Ve)Nl(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eb(this,N);else{this.o=!1,this.s=3,In(12),Ga(this),nd(this);break e}}if(this.P){N=!0;let Xr;for(;!this.J&&this.C<le.length;)if(Xr=K8(this,le),Xr==Qx){hn==4&&(this.s=4,In(14),N=!1),Nl(this.i,this.l,null,"[Incomplete Response]");break}else if(Xr==gI){this.s=4,In(15),Nl(this.i,this.l,le,"[Invalid Chunk]"),N=!1;break}else Nl(this.i,this.l,Xr,null),eb(this,Xr);if(vI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||le.length!=0||this.h.h||(this.s=1,In(16),N=!1),this.o=this.o&&N,!N)Nl(this.i,this.l,le,"[Invalid Chunked Response]"),Ga(this),nd(this);else if(0<le.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ab(dn),dn.M=!0,In(11))}}else Nl(this.i,this.l,le,null),eb(this,le);hn==4&&Ga(this),this.o&&!this.J&&(hn==4?qI(this.j,this):(this.o=!1,Fp(this)))}else uz(this.g),N==400&&0<le.indexOf("Unknown SID")?(this.s=3,In(12)):(this.s=0,In(13)),Ga(this),nd(this)}}}catch{}finally{}};function vI(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function K8(p,_){var N=p.C,D=_.indexOf(`
`,N);return D==-1?Qx:(N=Number(_.substring(N,D)),isNaN(N)?gI:(D+=1,D+N>_.length?Qx:(_=_.slice(D,D+N),p.C=D+N,_)))}Ms.prototype.cancel=function(){this.J=!0,Ga(this)};function Fp(p){p.S=Date.now()+p.I,xI(p,p.I)}function xI(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ed(f(p.ba,p),_)}function Zx(p){p.B&&(o.clearTimeout(p.B),p.B=null)}Ms.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(q8(this.i,this.A),this.L!=2&&(Zu(),In(17)),Ga(this),this.s=2,nd(this)):xI(this,this.S-p)};function nd(p){p.j.G==0||p.J||qI(p.j,p)}function Ga(p){Zx(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,oI(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function eb(p,_){try{var N=p.j;if(N.G!=0&&(N.g==p||tb(N.h,p))){if(!p.K&&tb(N.h,p)&&N.G==3){try{var D=N.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<p.F)Yp(N),Kp(N);else break e;sb(N),In(18)}}else N.za=U[1],0<N.za-N.T&&37500>U[2]&&N.F&&N.v==0&&!N.C&&(N.C=ed(f(N.Za,N),6e3));if(1>=_I(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Xa(N,11)}else if((p.K||N.g==p)&&Yp(N),!b(_))for(U=N.Da.g.parse(_),_=0;_<U.length;_++){let Ve=U[_];if(N.T=Ve[0],Ve=Ve[1],N.G==2)if(Ve[0]=="c"){N.K=Ve[1],N.ia=Ve[2];const dn=Ve[3];dn!=null&&(N.la=dn,N.j.info("VER="+N.la));const hn=Ve[4];hn!=null&&(N.Aa=hn,N.j.info("SVER="+N.Aa));const jl=Ve[5];jl!=null&&typeof jl=="number"&&0<jl&&(D=1.5*jl,N.L=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const Xr=p.g;if(Xr){const Qp=Xr.g?Xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qp){var K=D.h;K.g||Qp.indexOf("spdy")==-1&&Qp.indexOf("quic")==-1&&Qp.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(nb(K,K.h),K.h=null))}if(D.D){const ob=Xr.g?Xr.g.getResponseHeader("X-HTTP-Session-Id"):null;ob&&(D.ya=ob,ot(D.I,D.D,ob))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-p.F,N.j.info("Handshake RTT: "+N.R+"ms")),D=N;var le=p;if(D.qa=GI(D,D.J?D.ia:null,D.W),le.K){SI(D.h,le);var Ze=le,Zt=D.L;Zt&&(Ze.I=Zt),Ze.B&&(Zx(Ze),Fp(Ze)),D.g=le}else zI(D);0<N.i.length&&Gp(N)}else Ve[0]!="stop"&&Ve[0]!="close"||Xa(N,7);else N.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Xa(N,7):ib(N):Ve[0]!="noop"&&N.l&&N.l.ta(Ve),N.v=0)}}Zu(4)}catch{}}var G8=class{constructor(p,_){this.g=p,this.map=_}};function bI(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wI(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function _I(p){return p.h?1:p.g?p.g.size:0}function tb(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function nb(p,_){p.g?p.g.add(_):p.h=_}function SI(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}bI.prototype.cancel=function(){if(this.i=TI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function TI(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const N of p.g.values())_=_.concat(N.D);return _}return y(p.i)}function Y8(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var _=[],N=p.length,D=0;D<N;D++)_.push(p[D]);return _}_=[],N=0;for(D in p)_[N++]=p[D];return _}function X8(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var _=[];p=p.length;for(var N=0;N<p;N++)_.push(N);return _}_=[],N=0;for(const D in p)_[N++]=D;return _}}}function EI(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var N=X8(p),D=Y8(p),U=D.length,K=0;K<U;K++)_.call(void 0,D[K],N&&N[K],p)}var AI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q8(p,_){if(p){p=p.split("&");for(var N=0;N<p.length;N++){var D=p[N].indexOf("="),U=null;if(0<=D){var K=p[N].substring(0,D);U=p[N].substring(D+1)}else K=p[N];_(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ya(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ya){this.h=p.h,Bp(this,p.j),this.o=p.o,this.g=p.g,Up(this,p.s),this.l=p.l;var _=p.i,N=new sd;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),PI(this,N),this.m=p.m}else p&&(_=String(p).match(AI))?(this.h=!1,Bp(this,_[1]||"",!0),this.o=rd(_[2]||""),this.g=rd(_[3]||"",!0),Up(this,_[4]),this.l=rd(_[5]||"",!0),PI(this,_[6]||"",!0),this.m=rd(_[7]||"")):(this.h=!1,this.i=new sd(null,this.h))}Ya.prototype.toString=function(){var p=[],_=this.j;_&&p.push(id(_,II,!0),":");var N=this.g;return(N||_=="file")&&(p.push("//"),(_=this.o)&&p.push(id(_,II,!0),"@"),p.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&p.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(id(N,N.charAt(0)=="/"?ez:Z8,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",id(N,nz)),p.join("")};function Li(p){return new Ya(p)}function Bp(p,_,N){p.j=N?rd(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Up(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function PI(p,_,N){_ instanceof sd?(p.i=_,rz(p.i,p.h)):(N||(_=id(_,tz)),p.i=new sd(_,p.h))}function ot(p,_,N){p.i.set(_,N)}function zp(p){return ot(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function rd(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function id(p,_,N){return typeof p=="string"?(p=encodeURI(p).replace(_,J8),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function J8(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var II=/[#\/\?@]/g,Z8=/[#\?:]/g,ez=/[#\?]/g,tz=/[#\?@]/g,nz=/#/g;function sd(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function $s(p){p.g||(p.g=new Map,p.h=0,p.i&&Q8(p.i,function(_,N){p.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=sd.prototype,t.add=function(p,_){$s(this),this.i=null,p=kl(this,p);var N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(_),this.h+=1,this};function NI(p,_){$s(p),_=kl(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function kI(p,_){return $s(p),_=kl(p,_),p.g.has(_)}t.forEach=function(p,_){$s(this),this.g.forEach(function(N,D){N.forEach(function(U){p.call(_,U,D,this)},this)},this)},t.na=function(){$s(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let D=0;D<_.length;D++){const U=p[D];for(let K=0;K<U.length;K++)N.push(_[D])}return N},t.V=function(p){$s(this);let _=[];if(typeof p=="string")kI(this,p)&&(_=_.concat(this.g.get(kl(this,p))));else{p=Array.from(this.g.values());for(let N=0;N<p.length;N++)_=_.concat(p[N])}return _},t.set=function(p,_){return $s(this),this.i=null,p=kl(this,p),kI(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function OI(p,_,N){NI(p,_),0<N.length&&(p.i=null,p.g.set(kl(p,_),y(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var D=_[N];const K=encodeURIComponent(String(D)),le=this.V(D);for(D=0;D<le.length;D++){var U=K;le[D]!==""&&(U+="="+encodeURIComponent(String(le[D]))),p.push(U)}}return this.i=p.join("&")};function kl(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function rz(p,_){_&&!p.j&&($s(p),p.i=null,p.g.forEach(function(N,D){var U=D.toLowerCase();D!=U&&(NI(this,D),OI(this,U,N))},p)),p.j=_}function iz(p,_){const N=new td;if(o.Image){const D=new Image;D.onload=m(Ls,N,"TestLoadImage: loaded",!0,_,D),D.onerror=m(Ls,N,"TestLoadImage: error",!1,_,D),D.onabort=m(Ls,N,"TestLoadImage: abort",!1,_,D),D.ontimeout=m(Ls,N,"TestLoadImage: timeout",!1,_,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else _(!1)}function sz(p,_){const N=new td,D=new AbortController,U=setTimeout(()=>{D.abort(),Ls(N,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:D.signal}).then(K=>{clearTimeout(U),K.ok?Ls(N,"TestPingServer: ok",!0,_):Ls(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(U),Ls(N,"TestPingServer: error",!1,_)})}function Ls(p,_,N,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(N)}catch{}}function az(){this.g=new U8}function oz(p,_,N){const D=N||"";try{EI(p,function(U,K){let le=U;c(U)&&(le=Hx(U)),_.push(D+K+"="+encodeURIComponent(le))})}catch(U){throw _.push(D+"type="+encodeURIComponent("_badmap")),U}}function Wp(p){this.l=p.Ub||null,this.j=p.eb||!1}g(Wp,Kx),Wp.prototype.g=function(){return new qp(this.l,this.j)},Wp.prototype.i=function(p){return function(){return p}}({});function qp(p,_){un.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(qp,un),t=qp.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,od(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||o).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ad(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jI(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function jI(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?ad(this):od(this),this.readyState==3&&jI(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,ad(this))},t.Qa=function(p){this.g&&(this.response=p,ad(this))},t.ga=function(){this.g&&ad(this)};function ad(p){p.readyState=4,p.l=null,p.j=null,p.v=null,od(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=_.next();return p.join(`\r
`)};function od(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function CI(p){let _="";return P(p,function(N,D){_+=D,_+=":",_+=N,_+=`\r
`}),_}function rb(p,_,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=CI(N),typeof p=="string"?N!=null&&encodeURIComponent(String(N)):ot(p,_,N))}function St(p){un.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(St,un);var lz=/^https?$/i,cz=["POST","PUT"];t=St.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xx.g(),this.v=this.o?lI(this.o):lI(Xx),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(K){RI(this,K);return}if(p=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)N.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())N.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(K=>K.toLowerCase()=="content-type"),U=o.FormData&&p instanceof o.FormData,!(0<=Array.prototype.indexOf.call(cz,_,void 0))||D||U||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of N)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$I(this),this.u=!0,this.g.send(p),this.u=!1}catch(K){RI(this,K)}};function RI(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,DI(p),Hp(p)}function DI(p){p.A||(p.A=!0,Pn(p,"complete"),Pn(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Pn(this,"complete"),Pn(this,"abort"),Hp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hp(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?MI(this):this.bb())},t.bb=function(){MI(this)};function MI(p){if(p.h&&typeof a<"u"&&(!p.v[1]||Vi(p)!=4||p.Z()!=2)){if(p.u&&Vi(p)==4)iI(p.Ea,0,p);else if(Pn(p,"readystatechange"),Vi(p)==4){p.h=!1;try{const le=p.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var D;if(D=le===0){var U=String(p.D).match(AI)[1]||null;!U&&o.self&&o.self.location&&(U=o.self.location.protocol.slice(0,-1)),D=!lz.test(U?U.toLowerCase():"")}N=D}if(N)Pn(p,"complete"),Pn(p,"success");else{p.m=6;try{var K=2<Vi(p)?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.Z()+"]",DI(p)}}finally{Hp(p)}}}}function Hp(p,_){if(p.g){$I(p);const N=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Pn(p,"ready");try{N.onreadystatechange=D}catch{}}}function $I(p){p.I&&(o.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Vi(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Vi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),B8(_)}};function LI(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function uz(p){const _={};p=(p.g&&2<=Vi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(b(p[D]))continue;var N=O(p[D]);const U=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const K=_[U]||[];_[U]=K,K.push(N)}E(_,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ld(p,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||_}function VI(p){this.Aa=0,this.i=[],this.j=new td,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ld("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ld("baseRetryDelayMs",5e3,p),this.cb=ld("retryDelaySeedMs",1e4,p),this.Wa=ld("forwardChannelMaxRetries",2,p),this.wa=ld("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new bI(p&&p.concurrentRequestLimit),this.Da=new az,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=VI.prototype,t.la=8,t.G=1,t.connect=function(p,_,N,D){In(0),this.W=p,this.H=_||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.I=GI(this,null,this.W),Gp(this)};function ib(p){if(FI(p),p.G==3){var _=p.U++,N=Li(p.I);if(ot(N,"SID",p.K),ot(N,"RID",_),ot(N,"TYPE","terminate"),cd(p,N),_=new Ms(p,p.j,_),_.L=2,_.v=zp(Li(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(_.v.toString(),"")}catch{}!N&&o.Image&&(new Image().src=_.v,N=!0),N||(_.g=YI(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Fp(_)}KI(p)}function Kp(p){p.g&&(ab(p),p.g.cancel(),p.g=null)}function FI(p){Kp(p),p.u&&(o.clearTimeout(p.u),p.u=null),Yp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&o.clearTimeout(p.s),p.s=null)}function Gp(p){if(!wI(p.h)&&!p.s){p.s=!0;var _=p.Ga;Y||X(),L||(Y(),L=!0),q.add(_,p),p.B=0}}function dz(p,_){return _I(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ed(f(p.Ga,p,_),HI(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const U=new Ms(this,this.j,p);let K=this.o;if(this.S&&(K?(K=S(K),k(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,4096<_){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=UI(this,U,_),N=Li(this.I),ot(N,"RID",p),ot(N,"CVER",22),this.D&&ot(N,"X-HTTP-Session-Id",this.D),cd(this,N),K&&(this.O?_="headers="+encodeURIComponent(String(CI(K)))+"&"+_:this.m&&rb(N,this.m,K)),nb(this.h,U),this.Ua&&ot(N,"TYPE","init"),this.P?(ot(N,"$req",_),ot(N,"SID","null"),U.T=!0,Jx(U,N,null)):Jx(U,N,_),this.G=2}}else this.G==3&&(p?BI(this,p):this.i.length==0||wI(this.h)||BI(this))};function BI(p,_){var N;_?N=_.l:N=p.U++;const D=Li(p.I);ot(D,"SID",p.K),ot(D,"RID",N),ot(D,"AID",p.T),cd(p,D),p.m&&p.o&&rb(D,p.m,p.o),N=new Ms(p,p.j,N,p.B+1),p.m===null&&(N.H=p.o),_&&(p.i=_.D.concat(p.i)),_=UI(p,N,1e3),N.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),nb(p.h,N),Jx(N,D,_)}function cd(p,_){p.H&&P(p.H,function(N,D){ot(_,D,N)}),p.l&&EI({},function(N,D){ot(_,D,N)})}function UI(p,_,N){N=Math.min(p.i.length,N);var D=p.l?f(p.l.Na,p.l,p):null;e:{var U=p.i;let K=-1;for(;;){const le=["count="+N];K==-1?0<N?(K=U[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Ze=!0;for(let Zt=0;Zt<N;Zt++){let Ve=U[Zt].g;const dn=U[Zt].map;if(Ve-=K,0>Ve)K=Math.max(0,U[Zt].g-100),Ze=!1;else try{oz(dn,le,"req"+Ve+"_")}catch{D&&D(dn)}}if(Ze){D=le.join("&");break e}}}return p=p.i.splice(0,N),_.D=p,D}function zI(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;Y||X(),L||(Y(),L=!0),q.add(_,p),p.v=0}}function sb(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ed(f(p.Fa,p),HI(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,WI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ed(f(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,In(10),Kp(this),WI(this))};function ab(p){p.A!=null&&(o.clearTimeout(p.A),p.A=null)}function WI(p){p.g=new Ms(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Li(p.qa);ot(_,"RID","rpc"),ot(_,"SID",p.K),ot(_,"AID",p.T),ot(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&ot(_,"TO",p.ja),ot(_,"TYPE","xmlhttp"),cd(p,_),p.m&&p.o&&rb(_,p.m,p.o),p.L&&(p.g.I=p.L);var N=p.g;p=p.ia,N.L=1,N.v=zp(Li(_)),N.m=null,N.P=!0,yI(N,p)}t.Za=function(){this.C!=null&&(this.C=null,Kp(this),sb(this),In(19))};function Yp(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function qI(p,_){var N=null;if(p.g==_){Yp(p),ab(p),p.g=null;var D=2}else if(tb(p.h,_))N=_.D,SI(p.h,_),D=1;else return;if(p.G!=0){if(_.o)if(D==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var U=p.B;D=$p(),Pn(D,new fI(D,N)),Gp(p)}else zI(p);else if(U=_.s,U==3||U==0&&0<_.X||!(D==1&&dz(p,_)||D==2&&sb(p)))switch(N&&0<N.length&&(_=p.h,_.i=_.i.concat(N)),U){case 1:Xa(p,5);break;case 4:Xa(p,10);break;case 3:Xa(p,6);break;default:Xa(p,2)}}}function HI(p,_){let N=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(N*=2),N*_}function Xa(p,_){if(p.j.info("Error code "+_),_==2){var N=f(p.fb,p),D=p.Xa;const U=!D;D=new Ya(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bp(D,"https"),zp(D),U?iz(D.toString(),N):sz(D.toString(),N)}else In(2);p.G=0,p.l&&p.l.sa(_),KI(p),FI(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function KI(p){if(p.G=0,p.ka=[],p.l){const _=TI(p.h);(_.length!=0||p.i.length!=0)&&(v(p.ka,_),v(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function GI(p,_,N){var D=N instanceof Ya?Li(N):new Ya(N);if(D.g!="")_&&(D.g=_+"."+D.g),Up(D,D.s);else{var U=o.location;D=U.protocol,_=_?_+"."+U.hostname:U.hostname,U=+U.port;var K=new Ya(null);D&&Bp(K,D),_&&(K.g=_),U&&Up(K,U),N&&(K.l=N),D=K}return N=p.D,_=p.ya,N&&_&&ot(D,N,_),ot(D,"VER",p.la),cd(p,D),D}function YI(p,_,N){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new St(new Wp({eb:N})):new St(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function XI(){}t=XI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xp(){}Xp.prototype.g=function(p,_){return new tr(p,_)};function tr(p,_){un.call(this),this.g=new VI(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!b(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!b(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Ol(this)}g(tr,un),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){ib(this.g)},tr.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.u&&(N={},N.__data__=Hx(p),p=N);_.i.push(new G8(_.Ya++,p)),_.G==3&&Gp(_)},tr.prototype.N=function(){this.g.l=null,delete this.j,ib(this.g),delete this.g,tr.aa.N.call(this)};function QI(p){Gx.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const N in _){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}g(QI,Gx);function JI(){Yx.call(this),this.status=1}g(JI,Yx);function Ol(p){this.g=p}g(Ol,XI),Ol.prototype.ua=function(){Pn(this.g,"a")},Ol.prototype.ta=function(p){Pn(this.g,new QI(p))},Ol.prototype.sa=function(p){Pn(this.g,new JI)},Ol.prototype.ra=function(){Pn(this.g,"b")},Xp.prototype.createWebChannel=Xp.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,uV=function(){return new Xp},cV=function(){return $p()},lV=Ka,Y1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lp.NO_ERROR=0,Lp.TIMEOUT=8,Lp.HTTP_ERROR=6,og=Lp,pI.COMPLETE="complete",oV=pI,cI.EventType=Ju,Ju.OPEN="a",Ju.CLOSE="b",Ju.ERROR="c",Ju.MESSAGE="d",un.prototype.listen=un.prototype.K,zd=cI,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,aV=St}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});const Fk="@firebase/firestore",Bk="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new f0("@firebase/firestore");function Wl(){return Yo.logLevel}function re(t,...e){if(Yo.logLevel<=Re.DEBUG){const n=e.map(mE);Yo.debug(`Firestore (${ju}): ${t}`,...n)}}function Rn(t,...e){if(Yo.logLevel<=Re.ERROR){const n=e.map(mE);Yo.error(`Firestore (${ju}): ${t}`,...n)}}function Xo(t,...e){if(Yo.logLevel<=Re.WARN){const n=e.map(mE);Yo.warn(`Firestore (${ju}): ${t}`,...n)}}function mE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dV(t,r,n)}function dV(t,e,n){let r=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rn(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dV(e,i,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class vY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xY{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ti,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ti)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new hV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class bY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _Y{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=SY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function X1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ee(r,i);{const s=fV(),a=TY(s.encode(zk(t,n)),s.encode(zk(e,n)));return a!==0?a:Ee(r,i)}}n+=r>65535?2:1}return Ee(t.length,e.length)}function zk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TY(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ee(t[n],e[n]);return Ee(t.length,e.length)}function $c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function mV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=-62135596800,qk=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qk);return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Wk)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qk}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Wk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new wt(0,0))}static max(){return new ve(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="__name__";class yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=yi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ee(e.length,n.length)}static compareSegments(e,n){const r=yi.isNumericId(e),i=yi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?yi.extractNumericId(e).compare(yi.extractNumericId(n)):X1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return va.fromString(e.substring(4,e.length-2))}}class ze extends yi{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const EY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends yi{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return EY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q1}static keyField(){return new vt([Q1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(ze.fromString(e))}static fromName(e){return new ue(ze.fromString(e).popFirst(5))}static empty(){return new ue(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=-1;class oy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function J1(t){return t.fields.find(e=>e.kind===2)}function oo(t){return t.fields.filter(e=>e.kind!==2)}oy.UNKNOWN_ID=-1;class lg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jh(0,br.min())}}function AY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new br(i,ue.empty(),e)}function gV(t){return new br(t.readTime,t.key,Qh)}class br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new br(ve.min(),ue.empty(),Qh)}static max(){return new br(ve.max(),ue.empty(),Qh)}}function gE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==yV)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{a[c]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="SimpleDb";class p0{static open(e,n,r,i){try{return new p0(n,e.transaction(i,r))}catch(s){throw new oh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ti,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new oh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=yE(r.target.error);this.S.reject(new oh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(re(ar,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new IY(n)}}class xa{static delete(e){return re(ar,"Removing database:",e),go(V4().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!fE())return!1;if(xa.F())return!0;const e=Ut(),n=xa.M(e),r=0<n&&n<10,i=xV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,xa.M(Ut())===12.2&&Rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(re(ar,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new oh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new oe(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new oe(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new oh(e,a))},i.onupgradeneeded=s=>{re(ar,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${a.version}`);this.B.q(a,i.transaction,s.oldVersion,this.version).next(()=>{re(ar,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=n=>this.$(n)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.k(e);const o=p0.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next(c=>(o.v(),c)).catch(c=>(o.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(re(ar,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class PY{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return go(this.K.delete())}}class oh extends oe{constructor(e,n){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fa(t){return t.name==="IndexedDbTransactionError"}class IY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(re(ar,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(re(ar,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),go(r)}add(e){return re(ar,"ADD",this.store.name,e,e),go(this.store.add(e))}get(e){return go(this.store.get(e)).next(n=>(n===void 0&&(n=null),re(ar,"GET",this.store.name,e,n),n))}delete(e){return re(ar,"DELETE",this.store.name,e),go(this.store.delete(e))}count(){return re(ar,"COUNT",this.store.name),go(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}})}{const s=this.cursor(r),a=[];return this.Y(s,(o,l)=>{a.push(l)}).next(()=>a)}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}X(e,n){re(ar,"DELETE ALL",this.store.name);const r=this.options(e,n);r.ee=!1;const i=this.cursor(r);return this.Y(i,(s,a,o)=>o.delete())}te(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.Y(i,n)}ne(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const a=yE(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():r()}):r()}})}Y(e,n){const r=[];return new z((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new PY(o),c=n(o.primaryKey,o.value,l);if(c instanceof z){const d=c.catch(h=>(l.done(),z.reject(h)));r.push(d)}l.isDone?i():l.j===null?o.continue():o.continue(l.j)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function go(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=yE(r.target.error);n(i)}})}let Hk=!1;function yE(t){const e=xa.M(Ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hk||(Hk=!0,setTimeout(()=>{throw r},0)),r}}return t}const lh="IndexBackfiller";class NY{constructor(e,n){this.asyncQueue=e,this.re=n,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){re(lh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.re.se();re(lh,`Documents written: ${n}`)}catch(n){Fa(n)?re(lh,"Ignoring IndexedDB error during index backfill: ",n):await bl(n)}await this.ie(6e4)})}}class kY{constructor(e,n){this.localStore=e,this.persistence=n}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.oe(n,e))}oe(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return re(lh,`Processing collection: ${a}`),this._e(e,a,i).next(o=>{i-=o,r.add(a)});s=!1})).next(()=>n-i)}_e(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.ae(i,s)).next(o=>(re(lh,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>a.size)}))}ae(e,n){let r=e;return n.changes.forEach((i,s)=>{const a=gV(s);gE(a,r)>0&&(r=a)}),new br(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dr.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=-1;function m0(t){return t==null}function Zh(t){return t===0&&1/t==-1/0}function OY(t){return typeof t=="number"&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="";function Tn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Kk(e)),e=jY(t.get(n),e);return Kk(e)}function jY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case ly:n+="";break;default:n+=s}}return n}function Kk(t){return t+ly+""}function xi(t){const e=t.length;if(ge(e>=2,64408,{path:t}),e===2)return ge(t.charAt(0)===ly&&t.charAt(1)==="",56145,{path:t}),ze.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(ly,s);switch((a<0||a>n)&&pe(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:pe(61167,{path:t})}s=a+2}return new ze(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="remoteDocuments",ap="owner",Rl="owner",ef="mutationQueues",CY="userId",ti="mutations",Gk="batchId",Eo="userMutationsIndex",Yk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e){return[t,Tn(e)]}function bV(t,e,n){return[t,Tn(e),n]}const RY={},Lc="documentMutations",cy="remoteDocumentsV14",DY=["prefixPath","collectionGroup","readTime","documentId"],ug="documentKeyIndex",MY=["prefixPath","collectionGroup","documentId"],wV="collectionGroupIndex",$Y=["collectionGroup","readTime","prefixPath","documentId"],tf="remoteDocumentGlobal",Z1="remoteDocumentGlobalKey",Vc="targets",_V="queryTargetsIndex",LY=["canonicalId","targetId"],Fc="targetDocuments",VY=["targetId","path"],vE="documentTargetsIndex",FY=["path","targetId"],uy="targetGlobalKey",$o="targetGlobal",nf="collectionParents",BY=["collectionId","parent"],Bc="clientMetadata",UY="clientId",g0="bundles",zY="bundleId",y0="namedQueries",WY="name",xE="indexConfiguration",qY="indexId",e_="collectionGroupIndex",HY="collectionGroup",ch="indexState",KY=["indexId","uid"],SV="sequenceNumberIndex",GY=["uid","sequenceNumber"],uh="indexEntries",YY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],TV="documentKeyIndex",XY=["indexId","uid","orderedDocumentKey"],v0="documentOverlays",QY=["userId","collectionPath","documentId"],t_="collectionPathOverlayIndex",JY=["userId","collectionPath","largestBatchId"],EV="collectionGroupOverlayIndex",ZY=["userId","collectionGroup","largestBatchId"],bE="globals",eX="name",AV=[ef,ti,Lc,lo,Vc,ap,$o,Fc,Bc,tf,nf,g0,y0],tX=[...AV,v0],PV=[ef,ti,Lc,cy,Vc,ap,$o,Fc,Bc,tf,nf,g0,y0,v0],IV=PV,wE=[...IV,xE,ch,uh],nX=wE,NV=[...wE,bE],rX=NV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends vV{constructor(e,n){super(),this.he=e,this.currentSequenceNumber=n}}function zt(t,e){const n=Pe(t);return xa.N(n.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wm(this.root,e,this.comparator,!0)}}class wm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=s??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qk(this.data.getIterator())}getIteratorFrom(e){return new Qk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class Qk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Ye(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OV("Invalid base64 string: "+s):s}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const iX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=iX.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="server_timestamp",CV="__type__",RV="__previous_value__",DV="__local_write_time__";function _E(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CV])===null||n===void 0?void 0:n.stringValue)===jV}function x0(t){const e=t.mapValue.fields[RV];return _E(e)?x0(e):e}function rf(t){const e=ms(t.mapValue.fields[DV].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e,n,r,i,s,a,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const dy="(default)";class Qo{constructor(e,n){this.projectId=e,this.database=n||dy}static empty(){return new Qo("","")}get isDefaultDatabase(){return this.database===dy}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__type__",MV="__max__",aa={mapValue:{fields:{__type__:{stringValue:MV}}}},TE="__vector__",Uc="value",dg={nullValue:"NULL_VALUE"};function Pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_E(t)?4:$V(t)?9007199254740991:b0(t)?10:11:pe(28295,{value:t})}function ji(t,e){if(t===e)return!0;const n=Pa(t);if(n!==Pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rf(t).isEqual(rf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ms(i.timestampValue),o=ms(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gs(i.bytesValue).isEqual(gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ht(i.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ht(i.integerValue)===ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ht(i.doubleValue),o=ht(s.doubleValue);return a===o?Zh(a)===Zh(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Xk(a)!==Xk(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!ji(a[l],o[l])))return!1;return!0}(t,e);default:return pe(52216,{left:t})}}function sf(t,e){return(t.values||[]).find(n=>ji(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=Pa(t),r=Pa(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=ht(s.integerValue||s.doubleValue),l=ht(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Jk(t.timestampValue,e.timestampValue);case 4:return Jk(rf(t),rf(e));case 5:return X1(t.stringValue,e.stringValue);case 6:return function(s,a){const o=gs(s),l=gs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const d=Ee(o[c],l[c]);if(d!==0)return d}return Ee(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ee(ht(s.latitude),ht(a.latitude));return o!==0?o:Ee(ht(s.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zk(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,d;const h=s.fields||{},f=a.fields||{},m=(o=h[Uc])===null||o===void 0?void 0:o.arrayValue,g=(l=f[Uc])===null||l===void 0?void 0:l.arrayValue,y=Ee(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:Zk(m,g)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===aa.mapValue&&a===aa.mapValue)return 0;if(s===aa.mapValue)return 1;if(a===aa.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=X1(l[h],d[h]);if(f!==0)return f;const m=Ia(o[l[h]],c[d[h]]);if(m!==0)return m}return Ee(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pe(23264,{Pe:n})}}function Jk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=ms(t),r=ms(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function Zk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ia(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function zc(t){return r_(t)}function r_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=r_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${r_(n.fields[a])}`;return i+"}"}(t.mapValue):pe(61005,{value:t})}function hg(t){switch(Pa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=x0(t);return e?16+hg(e):16;case 5:return 2*t.stringValue.length;case 6:return gs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+hg(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ba(r.fields,(s,a)=>{i+=s.length+hg(a)}),i}(t.mapValue);default:throw pe(13486,{value:t})}}function af(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i_(t){return!!t&&"integerValue"in t}function of(t){return!!t&&"arrayValue"in t}function eO(t){return!!t&&"nullValue"in t}function tO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fg(t){return!!t&&"mapValue"in t}function b0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SE])===null||n===void 0?void 0:n.stringValue)===TE}function dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $V(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MV}const LV={mapValue:{fields:{[SE]:{stringValue:TE},[Uc]:{arrayValue:{}}}}};function aX(t){return"nullValue"in t?dg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?af(Qo.empty(),ue.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?b0(t)?LV:{mapValue:{}}:pe(35942,{value:t})}function oX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?af(Qo.empty(),ue.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?LV:"mapValue"in t?b0(t)?{mapValue:{}}:aa:pe(61959,{value:t})}function nO(t,e){const n=Ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function rO(t,e){const n=Ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dh(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=dh(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ba(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(dh(this.value))}}function VV(t){const e=[];return Ba(t.fields,(n,r)=>{const i=new vt([n]);if(fg(r)){const s=VV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new At(e,0,ve.min(),ve.min(),ve.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,ve.min(),ve.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ve.min(),ve.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.position=e,this.inclusive=n}}function iO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(a.referenceValue),n.key):r=Ia(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function lX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{}class De extends FV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cX(e,n,r):n==="array-contains"?new hX(e,r):n==="in"?new HV(e,r):n==="not-in"?new fX(e,r):n==="array-contains-any"?new pX(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uX(e,r):new dX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ia(n,this.value)):n!==null&&Pa(this.value)===Pa(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ke extends FV{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ke(e,n)}matches(e){return qc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qc(t){return t.op==="and"}function s_(t){return t.op==="or"}function EE(t){return BV(t)&&qc(t)}function BV(t){for(const e of t.filters)if(e instanceof Ke)return!1;return!0}function a_(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+zc(t.value);if(EE(t))return t.filters.map(e=>a_(e)).join(",");{const e=t.filters.map(n=>a_(n)).join(",");return`${t.op}(${e})`}}function UV(t,e){return t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(t,e):t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&UV(a,i.filters[o]),!0):!1}(t,e):void pe(19439)}function zV(t,e){const n=t.filters.concat(e);return Ke.create(n,t.op)}function WV(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${zc(n.value)}`}(t):t instanceof Ke?function(n){return n.op.toString()+" {"+n.getFilters().map(WV).join(" ,")+"}"}(t):"Filter"}class cX extends De{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class uX extends De{constructor(e,n){super(e,"in",n),this.keys=qV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dX extends De{constructor(e,n){super(e,"not-in",n),this.keys=qV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class hX extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return of(n)&&sf(n.arrayValue,this.value)}}class HV extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sf(this.value.arrayValue,n)}}class fX extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sf(this.value.arrayValue,n)}}class pX extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Ie=null}}function o_(t,e=null,n=[],r=[],i=null,s=null,a=null){return new mX(t,e,n,r,i,s,a)}function Jo(t){const e=Pe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>a_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),m0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zc(r)).join(",")),e.Ie=n}return e.Ie}function op(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sO(t.startAt,e.startAt)&&sO(t.endAt,e.endAt)}function hy(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function fy(t,e){return t.filters.filter(n=>n instanceof De&&n.field.isEqual(e))}function aO(t,e,n){let r=dg,i=!0;for(const s of fy(t,e)){let a=dg,o=!0;switch(s.op){case"<":case"<=":a=aX(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=dg}nO({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];nO({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function oO(t,e,n){let r=aa,i=!0;for(const s of fy(t,e)){let a=aa,o=!0;switch(s.op){case">=":case">":a=oX(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=aa}rO({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];rO({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gX(t,e,n,r,i,s,a,o){return new Cu(t,e,n,r,i,s,a,o)}function lp(t){return new Cu(t)}function lO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KV(t){return t.collectionGroup!==null}function hh(t){const e=Pe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Ye(vt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new lf(s,r))}),n.has(vt.keyField().canonicalString())||e.Ee.push(new lf(vt.keyField(),r))}return e.Ee}function Fr(t){const e=Pe(t);return e.de||(e.de=yX(e,hh(t))),e.de}function yX(t,e){if(t.limitType==="F")return o_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lf(i.field,s)});const n=t.endAt?new Wc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wc(t.startAt.position,t.startAt.inclusive):null;return o_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l_(t,e){const n=t.filters.concat([e]);return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function py(t,e,n){return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function w0(t,e){return op(Fr(t),Fr(e))&&t.limitType===e.limitType}function GV(t){return`${Jo(Fr(t))}|lt:${t.limitType}`}function ql(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WV(i)).join(", ")}]`),m0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zc(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function cp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=iO(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,hh(r),i)||r.endAt&&!function(a,o,l){const c=iO(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,hh(r),i))}(t,e)}function vX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YV(t){return(e,n)=>{let r=!1;for(const i of hh(t)){const s=xX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xX(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Ia(l,c):pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX=new mt(ue.comparator);function dr(){return bX}const XV=new mt(ue.comparator);function Wd(...t){let e=XV;for(const n of t)e=e.insert(n.key,n);return e}function QV(t){let e=XV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return fh()}function JV(){return fh()}function fh(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const wX=new mt(ue.comparator),_X=new Ye(ue.comparator);function Oe(...t){let e=_X;for(const n of t)e=e.add(n);return e}const SX=new Ye(Ee);function TX(){return SX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function ZV(t){return{integerValue:""+t}}function EX(t,e){return OY(e)?ZV(e):AE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this._=void 0}}function AX(t,e,n){return t instanceof Hc?function(i,s){const a={fields:{[CV]:{stringValue:jV},[DV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_E(s)&&(s=x0(s)),s&&(a.fields[RV]=s),{mapValue:a}}(n,e):t instanceof Kc?t3(t,e):t instanceof Gc?n3(t,e):function(i,s){const a=e3(i,s),o=cO(a)+cO(i.Re);return i_(a)&&i_(i.Re)?ZV(o):AE(i.serializer,o)}(t,e)}function PX(t,e,n){return t instanceof Kc?t3(t,e):t instanceof Gc?n3(t,e):n}function e3(t,e){return t instanceof cf?function(r){return i_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hc extends _0{}class Kc extends _0{constructor(e){super(),this.elements=e}}function t3(t,e){const n=r3(e);for(const r of t.elements)n.some(i=>ji(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gc extends _0{constructor(e){super(),this.elements=e}}function n3(t,e){let n=r3(e);for(const r of t.elements)n=n.filter(i=>!ji(i,r));return{arrayValue:{values:n}}}class cf extends _0{constructor(e,n){super(),this.serializer=e,this.Re=n}}function cO(t){return ht(t.integerValue||t.doubleValue)}function r3(t){return of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.field=e,this.transform=n}}function IX(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kc&&i instanceof Kc||r instanceof Gc&&i instanceof Gc?$c(r.elements,i.elements,ji):r instanceof cf&&i instanceof cf?ji(r.Re,i.Re):r instanceof Hc&&i instanceof Hc}(t.transform,e.transform)}class NX{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class S0{}function s3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new T0(t.key,Yt.none()):new Ru(t.key,t.data,Yt.none());{const n=t.data,r=_n.empty();let i=new Ye(vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new As(t.key,r,new Hn(i.toArray()),Yt.none())}}function kX(t,e,n){t instanceof Ru?function(i,s,a){const o=i.value.clone(),l=dO(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof As?function(i,s,a){if(!pg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=dO(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(a3(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ph(t,e,n,r){return t instanceof Ru?function(s,a,o,l){if(!pg(s.precondition,a))return o;const c=s.value.clone(),d=hO(s.fieldTransforms,l,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof As?function(s,a,o,l){if(!pg(s.precondition,a))return o;const c=hO(s.fieldTransforms,l,a),d=a.data;return d.setAll(a3(s)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,a,o){return pg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function OX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=e3(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function uO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$c(r,i,(s,a)=>IX(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends S0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class As extends S0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function a3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dO(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,PX(a,o,n[i]))}return r}function hO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,AX(s,a,e))}return r}class T0 extends S0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o3 extends S0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ph(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ph(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JV();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=s3(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,(n,r)=>uO(n,r))&&$c(this.baseMutations,e.baseMutations,(n,r)=>uO(n,r))}}class IE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return wX}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new IE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Me;function CX(t){switch(t){case J.OK:return pe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pe(15467,{code:t})}}function l3(t){if(t===void 0)return Rn("GRPC error has no .code"),J.UNKNOWN;switch(t){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return pe(39323,{code:t})}}(Me=Nt||(Nt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX=new va([4294967295,4294967295],0);function fO(t){const e=fV().encode(t),n=new sV;return n.update(e),new Uint8Array(n.digest())}function pO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new va([n,r],0),new va([i,s],0)]}class kE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qd(`Invalid padding: ${n}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=va.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(va.fromNumber(r)));return i.compare(RX)===1&&(i=new va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=fO(e),[r,i]=pO(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new kE(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.pe===0)return;const n=fO(e),[r,i]=pO(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,up.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new E0(ve.min(),i,new mt(Ee),dr(),Oe())}}class up{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new up(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class c3{constructor(e,n){this.targetId=e,this.Ce=n}}class u3{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mO{constructor(){this.Fe=0,this.Me=gO(),this.xe=Mt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Oe(),n=Oe(),r=Oe();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe(38017,{changeType:s})}}),new up(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=gO()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DX{constructor(e){this.ze=e,this.je=new Map,this.He=dr(),this.Je=_m(),this.Ye=_m(),this.Ze=new mt(Ee)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(hy(s))if(r===0){const a=new ue(s.path);this.tt(n,a,At.newNoDocument(a,ve.min()))}else ge(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const o=this.ct(e),l=o?this.lt(o,e,a):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=gs(r).toUint8Array()}catch(l){if(l instanceof OV)return Xo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new kE(a,i,s)}catch(l){return Xo(l instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,a)=>{const o=this._t(a);if(o){if(s.current&&hy(o.target)){const l=new ue(o.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,At.newNoDocument(l,e))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let r=Oe();this.Ye.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new E0(e,n,this.Ze,this.He,r);return this.He=dr(),this.Je=_m(),this.Ye=_m(),this.Ze=new mt(Ee),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new mO,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ye(Ee),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ye(Ee),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new mO),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function _m(){return new mt(ue.comparator)}function gO(){return new mt(ue.comparator)}const MX=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$X=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),LX=(()=>({and:"AND",or:"OR"}))();class VX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function c_(t,e){return t.useProto3Json||m0(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FX(t,e){return Yc(t,e.toTimestamp())}function Vn(t){return ge(!!t,49232),ve.fromTimestamp(function(n){const r=ms(n);return new wt(r.seconds,r.nanos)}(t))}function OE(t,e){return u_(t,e).canonicalString()}function u_(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function h3(t){const e=ze.fromString(t);return ge(w3(e),10190,{key:e.toString()}),e}function my(t,e){return OE(t.databaseId,e.path)}function Lo(t,e){const n=h3(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(m3(n))}function f3(t,e){return OE(t.databaseId,e)}function p3(t){const e=h3(t);return e.length===4?ze.emptyPath():m3(e)}function d_(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m3(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yO(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function BX(t,e,n){const r=Lo(t,e.name),i=Vn(e.updateTime),s=e.createTime?Vn(e.createTime):ve.min(),a=new _n({mapValue:{fields:e.fields}}),o=At.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function UX(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ge(d===void 0||typeof d=="string",58123),Mt.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const d=c.code===void 0?J.UNKNOWN:l3(c.code);return new oe(d,c.message||"")}(a);n=new u3(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lo(t,r.document.name),s=Vn(r.document.updateTime),a=r.document.createTime?Vn(r.document.createTime):ve.min(),o=new _n({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(i,s,a,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new mg(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Lo(t,r.document),s=r.readTime?Vn(r.readTime):ve.min(),a=At.newNoDocument(i,s),o=r.removedTargetIds||[];n=new mg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Lo(t,r.document),s=r.removedTargetIds||[];n=new mg([],s,i,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new jX(i,s),o=r.targetId;n=new c3(o,a)}}return n}function gy(t,e){let n;if(e instanceof Ru)n={update:yO(t,e.key,e.value)};else if(e instanceof T0)n={delete:my(t,e.key)};else if(e instanceof As)n={update:yO(t,e.key,e.data),updateMask:GX(e.fieldMask)};else{if(!(e instanceof o3))return pe(16599,{ft:e.type});n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Hc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Kc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Gc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof cf)return{fieldPath:a.field.canonicalString(),increment:o.Re};throw pe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:FX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe(27497)}(t,e.precondition)),n}function h_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Yt.updateTime(Vn(s.updateTime)):s.exists!==void 0?Yt.exists(s.exists):Yt.none()}(e.currentDocument):Yt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let l=null;if("setToServerValue"in o)ge(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new Hc;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];l=new Kc(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];l=new Gc(d)}else"increment"in o?l=new cf(a,o.increment):pe(16584,{proto:o});const c=vt.fromServerFormat(o.fieldPath);return new i3(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Lo(t,e.update.name),s=new _n({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const c=l.fieldPaths||[];return new Hn(c.map(d=>vt.fromServerFormat(d)))}(e.updateMask);return new As(i,s,a,n,r)}return new Ru(i,s,n,r)}if(e.delete){const i=Lo(t,e.delete);return new T0(i,n)}if(e.verify){const i=Lo(t,e.verify);return new o3(i,n)}return pe(1463,{proto:e})}function zX(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Vn(i.updateTime):Vn(s);return a.isEqual(ve.min())&&(a=Vn(s)),new NX(a,i.transformResults||[])}(n,e))):[]}function g3(t,e){return{documents:[f3(t,e.path)]}}function y3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f3(t,i);const s=function(c){if(c.length!==0)return b3(Ke.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Hl(f.field),direction:qX(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=c_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function v3(t){let e=p3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=x3(h);return f instanceof Ke&&EE(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(g){return new lf(Kl(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,m0(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Wc(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new Wc(m,f)}(n.endAt)),gX(e,i,a,s,o,"F",l,c)}function WX(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function x3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Kl(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kl(n.unaryFilter.field);return De.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Kl(n.unaryFilter.field);return De.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Kl(n.unaryFilter.field);return De.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return De.create(Kl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ke.create(n.compositeFilter.filters.map(r=>x3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(t):pe(30097,{filter:t})}function qX(t){return MX[t]}function HX(t){return $X[t]}function KX(t){return LX[t]}function Hl(t){return{fieldPath:t.canonicalString()}}function Kl(t){return vt.fromServerFormat(t.fieldPath)}function b3(t){return t instanceof De?function(n){if(n.op==="=="){if(tO(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NAN"}};if(eO(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tO(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NAN"}};if(eO(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(n.field),op:HX(n.op),value:n.value}}}(t):t instanceof Ke?function(n){const r=n.getFilters().map(i=>b3(i));return r.length===1?r[0]:{compositeFilter:{op:KX(n.op),filters:r}}}(t):pe(54877,{filter:t})}function GX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,i,s=ve.min(),a=ve.min(),o=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.wt=e}}function YX(t,e){let n;if(e.document)n=BX(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ue.fromSegments(e.noDocument.path),i=el(e.noDocument.readTime);n=At.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe(56709);{const r=ue.fromSegments(e.unknownDocument.path),i=el(e.unknownDocument.version);n=At.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new wt(i[0],i[1]);return ve.fromTimestamp(s)}(e.readTime)),n}function vO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,a){return{name:my(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Yc(s,a.version.toTimestamp()),createTime:Yc(s,a.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zo(e.version)};else{if(!e.isUnknownDocument())return pe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Zo(e.version)}}return r}function yy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function el(t){const e=new wt(t.seconds,t.nanoseconds);return ve.fromTimestamp(e)}function yo(t,e){const n=(e.baseMutations||[]).map(s=>h_(t.wt,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>h_(t.wt,s)),i=wt.fromMillis(e.localWriteTimeMs);return new PE(e.batchId,i,n,r)}function Hd(t){const e=el(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?el(t.lastLimboFreeSnapshotVersion):ve.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){const a=s.documents.length;return ge(a===1,1966,{count:a}),Fr(lp(p3(s.documents[0])))}(t.query):function(s){return Fr(v3(s))}(t.query),new Gi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Mt.fromBase64String(t.resumeToken))}function S3(t,e){const n=Zo(e.snapshotVersion),r=Zo(e.lastLimboFreeSnapshotVersion);let i;i=hy(e.target)?g3(t.wt,e.target):y3(t.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function T3(t){const e=v3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?py(e,e.limit,"L"):e}function Bb(t,e){return new NE(e.largestBatchId,h_(t.wt,e.overlayMutation))}function xO(t,e){const n=e.path.lastSegment();return[t,Tn(e.path.popLast()),n]}function bO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Zo(r.readTime),documentKey:Tn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{getBundleMetadata(e,n){return wO(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:el(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return wO(e).put(function(i){return{bundleId:i.id,createTime:Zo(Vn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return _O(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:T3(s.bundledQuery),readTime:el(s.readTime)}}(r)})}saveNamedQuery(e,n){return _O(e).put(function(i){return{name:i.name,readTime:Zo(Vn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function wO(t){return zt(t,g0)}function _O(t){return zt(t,y0)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.serializer=e,this.userId=n}static bt(e,n){const r=n.uid||"";return new A0(e,r)}getOverlay(e,n){return vd(e).get(xO(this.userId,n)).next(r=>r?Bb(this.serializer,r):null)}getOverlays(e,n){const r=bi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,a)=>{const o=new NE(n,a);i.push(this.St(e,o))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(Tn(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(vd(e).X(t_,o))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=bi(),s=Tn(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return vd(e).J(t_,a).next(o=>{for(const l of o){const c=Bb(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=bi();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vd(e).te({index:EV,range:o},(l,c,d)=>{const h=Bb(this.serializer,c);s.size()<i||h.largestBatchId===a?(s.set(h.getKey(),h),a=h.largestBatchId):d.done()}).next(()=>s)}St(e,n){return vd(e).put(function(i,s,a){const[o,l,c]=xO(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:gy(i.wt,a.mutation)}}(this.serializer,this.userId,n))}}function vd(t){return zt(t,v0)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{Dt(e){return zt(e,bE)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Mt.fromUint8Array(r):Mt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Dt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(ht(e.integerValue));else if("doubleValue"in e){const r=ht(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Zh(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=ms(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(gs(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?$V(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):b0(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):pe(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){const r=e.fields||{};this.Mt(n,55);for(const i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;const s=e.fields||{};this.Mt(n,53);const a=Uc,o=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(ht(o)),this.Nt(a,n),this.Ct(s[a],n)}$t(e,n){const r=e.values||[];this.Mt(n,50);for(const i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),ue.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}}vo.Wt=new vo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=255;function JX(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function SO(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const a=JX(255&r[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class ZX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.zt(r.value),r=n.next();this.jt()}Ht(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Yt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=n.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const n=this.tn(e),r=SO(n);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}rn(e){const n=this.tn(e),r=SO(n);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}sn(){this._n(Ml),this._n(255)}an(){this.un(Ml),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const n=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}zt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===Ml?(this._n(Ml),this._n(0)):this._n(n)}Jt(e){const n=255&e;n===0?(this.un(0),this.un(255)):n===Ml?(this.un(Ml),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class eQ{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class tQ{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class xd{constructor(){this.ln=new ZX,this.hn=new eQ(this.ln),this.Pn=new tQ(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i){this.In=e,this.En=n,this.dn=r,this.An=i}Rn(){const e=this.An.length,n=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.An,0),n!==e?r.set([0],this.An.length):++r[r.length-1],new xo(this.In,this.En,this.dn,r)}Vn(e,n,r){return{indexId:this.In,uid:e,arrayValue:gg(this.dn),directionalValue:gg(this.An),orderedDocumentKey:gg(n),documentKey:r.path.toArray()}}mn(e,n,r){const i=this.Vn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Fs(t,e){let n=t.In-e.In;return n!==0?n:(n=TO(t.dn,e.dn),n!==0?n:(n=TO(t.An,e.An),n!==0?n:ue.comparator(t.En,e.En)))}function TO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function gg(t){return K4()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function EO(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class AO{constructor(e){this.fn=new Ye((n,r)=>vt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const n of e.filters){const r=n;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(ge(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const n=J1(e);if(n!==void 0&&!this.bn(n))return!1;const r=oo(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.bn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.fn.size>0){const o=this.fn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.Dn(this.gn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.gn.length||!this.Dn(this.gn[a++],o))return!1}return!0}vn(){if(this.yn)return null;let e=new Ye(vt.comparator);const n=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new lg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new lg(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new lg(r.field,r.dir==="asc"?0:1)));return new oy(oy.UNKNOWN_ID,this.collectionId,n,Jh.empty())}bn(e){for(const n of this.pn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Dn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){var e,n;if(ge(t instanceof De||t instanceof Ke,20012),t instanceof De){if(t instanceof HV){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>De.create(t.field,"==",s)))||[];return Ke.create(i,"or")}return t}const r=t.filters.map(i=>E3(i));return Ke.create(r,t.op)}function nQ(t){if(t.getFilters().length===0)return[];const e=m_(E3(t));return ge(A3(e),7391),f_(e)||p_(e)?[e]:e.getFilters()}function f_(t){return t instanceof De}function p_(t){return t instanceof Ke&&EE(t)}function A3(t){return f_(t)||p_(t)||function(n){if(n instanceof Ke&&s_(n)){for(const r of n.getFilters())if(!f_(r)&&!p_(r))return!1;return!0}return!1}(t)}function m_(t){if(ge(t instanceof De||t instanceof Ke,34018),t instanceof De)return t;if(t.filters.length===1)return m_(t.filters[0]);const e=t.filters.map(r=>m_(r));let n=Ke.create(e,t.op);return n=vy(n),A3(n)?n:(ge(n instanceof Ke,64498),ge(qc(n),40251),ge(n.filters.length>1,57927),n.filters.reduce((r,i)=>jE(r,i)))}function jE(t,e){let n;return ge(t instanceof De||t instanceof Ke,38388),ge(e instanceof De||e instanceof Ke,25473),n=t instanceof De?e instanceof De?function(i,s){return Ke.create([i,s],"and")}(t,e):PO(t,e):e instanceof De?PO(e,t):function(i,s){if(ge(i.filters.length>0&&s.filters.length>0,48005),qc(i)&&qc(s))return zV(i,s.getFilters());const a=s_(i)?i:s,o=s_(i)?s:i,l=a.filters.map(c=>jE(c,o));return Ke.create(l,"or")}(t,e),vy(n)}function PO(t,e){if(qc(e))return zV(e,t.getFilters());{const n=e.filters.map(r=>jE(t,r));return Ke.create(n,"or")}}function vy(t){if(ge(t instanceof De||t instanceof Ke,11850),t instanceof De)return t;const e=t.getFilters();if(e.length===1)return vy(e[0]);if(BV(t))return t;const n=e.map(i=>vy(i)),r=[];return n.forEach(i=>{i instanceof De?r.push(i):i instanceof Ke&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ke.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(){this.Cn=new CE}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(br.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class CE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="IndexedDbIndexManager",Sm=new Uint8Array(0);class iQ{constructor(e,n){this.databaseId=n,this.Fn=new CE,this.Mn=new Es(r=>Jo(r),(r,i)=>op(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Fn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Fn.add(n)});const s={collectionId:r,parent:Tn(i)};return NO(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[mV(n),""],!1,!0);return NO(e).J(i).next(s=>{for(const a of s){if(a.collectionId!==n)break;r.push(xi(a.parent))}return r})}addFieldIndex(e,n){const r=bd(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Ll(e);return s.next(o=>{a.put(bO(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=bd(e),i=Ll(e),s=$l(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=bd(e),r=$l(e),i=Ll(e);return n.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,n){return z.forEach(this.xn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new AO(r).vn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=$l(e);let i=!0;const s=new Map;return z.forEach(this.xn(n),a=>this.On(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=Oe();const o=[];return z.forEach(s,(l,c)=>{re(IO,`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`}(l)} to execute ${Jo(n)}`);const d=function(x,A){const T=J1(A);if(T===void 0)return null;for(const P of fy(x,T.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null}(c,l),h=function(x,A){const T=new Map;for(const P of oo(A))for(const E of fy(x,P.fieldPath))switch(E.op){case"==":case"in":T.set(P.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return T.set(P.fieldPath.canonicalString(),E.value),Array.from(T.values())}return null}(c,l),f=function(x,A){const T=[];let P=!0;for(const E of oo(A)){const S=E.kind===0?aO(x,E.fieldPath,x.startAt):oO(x,E.fieldPath,x.startAt);T.push(S.value),P&&(P=S.inclusive)}return new Wc(T,P)}(c,l),m=function(x,A){const T=[];let P=!0;for(const E of oo(A)){const S=E.kind===0?oO(x,E.fieldPath,x.endAt):aO(x,E.fieldPath,x.endAt);T.push(S.value),P&&(P=S.inclusive)}return new Wc(T,P)}(c,l),g=this.Nn(l,c,f),y=this.Nn(l,c,m),v=this.Bn(l,c,h),w=this.Ln(l.indexId,d,g,f.inclusive,y,m.inclusive,v);return z.forEach(w,b=>r.Z(b,n.limit).next(x=>{x.forEach(A=>{const T=ue.fromSegments(A.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return z.resolve(null)})}xn(e){let n=this.Mn.get(e);return n||(e.filters.length===0?n=[e]:n=nQ(Ke.create(e.filters,"and")).map(r=>o_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,n),n)}Ln(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.kn(n[h/c]):Sm,m=this.qn(e,f,r[h%c],i),g=this.Qn(e,f,s[h%c],a),y=o.map(v=>this.qn(e,f,v,!0));d.push(...this.createRange(m,g,y))}return d}qn(e,n,r,i){const s=new xo(e,ue.empty(),n,r);return i?s:s.Rn()}Qn(e,n,r,i){const s=new xo(e,ue.empty(),n,r);return i?s.Rn():s}On(e,n){const r=new AO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)r.wn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,n){let r=2;const i=this.xn(n);return z.forEach(i,s=>this.On(e,s).next(a=>{a?r!==0&&a.fields.length<function(l){let c=new Ye(vt.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}$n(e,n){const r=new xd;for(const i of oo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Tn(i.kind);vo.Wt.vt(s,a)}return r.cn()}kn(e){const n=new xd;return vo.Wt.vt(e,n.Tn(0)),n.cn()}Un(e,n){const r=new xd;return vo.Wt.vt(af(this.databaseId,n),r.Tn(function(s){const a=oo(s);return a.length===0?0:a[a.length-1].kind}(e))),r.cn()}Bn(e,n,r){if(r===null)return[];let i=[];i.push(new xd);let s=0;for(const a of oo(e)){const o=r[s++];for(const l of i)if(this.Kn(n,a.fieldPath)&&of(o))i=this.Wn(i,a,o);else{const c=l.Tn(a.kind);vo.Wt.vt(o,c)}}return this.Gn(i)}Nn(e,n,r){return this.Bn(e,n,r.position)}Gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].cn();return n}Wn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new xd;l.seed(o.cn()),vo.Wt.vt(a,l.Tn(n.kind)),s.push(l)}return s}Kn(e,n){return!!e.filters.find(r=>r instanceof De&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bd(e),i=Ll(e);return(n?r.J(e_,IDBKeyRange.bound(n,n)):r.J()).next(s=>{const a=[];return z.forEach(s,o=>i.get([o.indexId,this.uid]).next(l=>{a.push(function(d,h){const f=h?new Jh(h.sequenceNumber,new br(el(h.readTime),new ue(xi(h.documentKey)),h.largestBatchId)):Jh.empty(),m=d.fields.map(([g,y])=>new lg(vt.fromServerFormat(g),y));return new oy(d.indexId,d.collectionGroup,m,f)}(o,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=bd(e),s=Ll(e);return this.zn(e).next(a=>i.J(e_,IDBKeyRange.bound(n,n)).next(o=>z.forEach(o,l=>s.put(bO(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const a=r.get(i.collectionGroup);return(a?z.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),z.forEach(o,l=>this.jn(e,i,l).next(c=>{const d=this.Hn(s,l);return c.isEqual(d)?z.resolve():this.Jn(e,s,l,c,d)}))))})}Yn(e,n,r,i){return $l(e).put(i.Vn(this.uid,this.Un(r,n.key),n.key))}Zn(e,n,r,i){return $l(e).delete(i.mn(this.uid,this.Un(r,n.key),n.key))}jn(e,n,r){const i=$l(e);let s=new Ye(Fs);return i.te({index:TV,range:IDBKeyRange.only([r.indexId,this.uid,gg(this.Un(r,n))])},(a,o)=>{s=s.add(new xo(r.indexId,n,EO(o.arrayValue),EO(o.directionalValue)))}).next(()=>s)}Hn(e,n){let r=new Ye(Fs);const i=this.$n(n,e);if(i==null)return r;const s=J1(n);if(s!=null){const a=e.data.field(s.fieldPath);if(of(a))for(const o of a.arrayValue.values||[])r=r.add(new xo(n.indexId,e.key,this.kn(o),i))}else r=r.add(new xo(n.indexId,e.key,Sm,i));return r}Jn(e,n,r,i,s){re(IO,"Updating index entries for document '%s'",n.key);const a=[];return function(l,c,d,h,f){const m=l.getIterator(),g=c.getIterator();let y=Dl(m),v=Dl(g);for(;y||v;){let w=!1,b=!1;if(y&&v){const x=d(y,v);x<0?b=!0:x>0&&(w=!0)}else y!=null?b=!0:w=!0;w?(h(v),v=Dl(g)):b?(f(y),y=Dl(m)):(y=Dl(m),v=Dl(g))}}(i,s,Fs,o=>{a.push(this.Yn(e,n,r,o))},o=>{a.push(this.Zn(e,n,r,o))}),z.waitFor(a)}zn(e){let n=1;return Ll(e).te({index:SV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,o)=>Fs(a,o)).filter((a,o,l)=>!o||Fs(a,l[o-1])!==0);const i=[];i.push(e);for(const a of r){const o=Fs(a,e),l=Fs(a,n);if(o===0)i[0]=e.Rn();else if(o>0&&l<0)i.push(a),i.push(a.Rn());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Xn(i[a],i[a+1]))return[];const o=i[a].mn(this.uid,Sm,ue.empty()),l=i[a+1].mn(this.uid,Sm,ue.empty());s.push(IDBKeyRange.bound(o,l))}return s}Xn(e,n){return Fs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(kO)}getMinOffset(e,n){return z.mapArray(this.xn(n),r=>this.On(e,r).next(i=>i||pe(44426))).next(kO)}}function NO(t){return zt(t,nf)}function $l(t){return zt(t,uh)}function bd(t){return zt(t,xE)}function Ll(t){return zt(t,ch)}function kO(t){ge(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;gE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new br(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P3=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t,e,n){const r=t.store(ti),i=t.store(Lc),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.te({range:a},(d,h,f)=>(o++,f.delete()));s.push(l.next(()=>{ge(o===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const h=bV(e,d.key.path,n.batchId);s.push(i.delete(h)),c.push(d.key)}return z.waitFor(s).next(()=>c)}function xy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pe(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(P3,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class P0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.er={}}static bt(e,n,r,i){ge(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new P0(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).te({index:Eo,range:r},(i,s,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Gl(e),a=Bs(e);return a.add({}).next(o=>{ge(typeof o=="number",49019);const l=new PE(o,n,r,i),c=function(m,g,y){const v=y.baseMutations.map(b=>gy(m.wt,b)),w=y.mutations.map(b=>gy(m.wt,b));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:v,mutations:w}}(this.serializer,this.userId,l),d=[];let h=new Ye((f,m)=>Ee(f.canonicalString(),m.canonicalString()));for(const f of i){const m=bV(this.userId,f.key.path,o);h=h.add(f.key.path.popLast()),d.push(a.put(c)),d.push(s.put(m,RY))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.er[o]=l.keys()}),z.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Bs(e).get(n).next(r=>r?(ge(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),yo(this.serializer,r)):null)}tr(e,n){return this.er[n]?z.resolve(this.er[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.er[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Bs(e).te({index:Eo,range:i},(a,o,l)=>{o.userId===this.userId&&(ge(o.batchId>=r,47524,{nr:r}),s=yo(this.serializer,o)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Mo;return Bs(e).te({index:Eo,range:n,reverse:!0},(i,s,a)=>{r=s.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Mo],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).J(Eo,n).next(r=>r.map(i=>yo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=cg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Gl(e).te({range:i},(a,o,l)=>{const[c,d,h]=a,f=xi(d);if(c===this.userId&&n.path.isEqual(f))return Bs(e).get(h).next(m=>{if(!m)throw pe(61480,{rr:a,batchId:h});ge(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),s.push(yo(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(Ee);const i=[];return n.forEach(s=>{const a=cg(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=Gl(e).te({range:o},(c,d,h)=>{const[f,m,g]=c,y=xi(m);f===this.userId&&s.path.isEqual(y)?r=r.add(g):h.done()});i.push(l)}),z.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=cg(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Ye(Ee);return Gl(e).te({range:a},(l,c,d)=>{const[h,f,m]=l,g=xi(f);h===this.userId&&r.isPrefixOf(g)?g.length===i&&(o=o.add(m)):d.done()}).next(()=>this.ir(e,o))}ir(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Bs(e).get(s).next(a=>{if(a===null)throw pe(35274,{batchId:s});ge(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(yo(this.serializer,a))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return I3(e.he,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.sr(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return Gl(e).te({range:r},(s,a,o)=>{if(s[0]===this.userId){const l=xi(s[1]);i.push(l)}else o.done()}).next(()=>{ge(i.length===0,56720,{_r:i.map(s=>s.canonicalString())})})})}containsKey(e,n){return N3(e,this.userId,n)}ar(e){return k3(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Mo,lastStreamToken:""})}}function N3(t,e,n){const r=cg(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Gl(t).te({range:s,ee:!0},(o,l,c)=>{const[d,h,f]=o;d===e&&h===i&&(a=!0),c.done()}).next(()=>a)}function Bs(t){return zt(t,ti)}function Gl(t){return zt(t,Lc)}function k3(t){return zt(t,ef)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new tl(0)}static lr(){return new tl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.hr(e).next(n=>{const r=new tl(n.highestTargetId);return n.highestTargetId=r.next(),this.Pr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(n=>ve.fromTimestamp(new wt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Pr(e,i)))}addTargetData(e,n){return this.Tr(e,n).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(n,r),this.Pr(e,r))))}updateTargetData(e,n){return this.Tr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Vl(e).delete(n.targetId)).next(()=>this.hr(e)).next(r=>(ge(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Vl(e).te((a,o)=>{const l=Hd(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Vl(e).te((r,i)=>{const s=Hd(i);n(s)})}hr(e){return jO(e).get(uy).next(n=>(ge(n!==null,2888),n))}Pr(e,n){return jO(e).put(uy,n)}Tr(e,n){return Vl(e).put(S3(this.serializer,n))}Ir(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Jo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Vl(e).te({range:i,index:_V},(a,o,l)=>{const c=Hd(o);op(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Js(e);return n.forEach(a=>{const o=Tn(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Js(e);return z.forEach(n,s=>{const a=Tn(s.path);return z.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Js(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Js(e);let s=Oe();return i.te({range:r,ee:!0},(a,o,l)=>{const c=xi(a[1]),d=new ue(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=Tn(n.path),i=IDBKeyRange.bound([r],[mV(r)],!1,!0);let s=0;return Js(e).te({index:vE,ee:!0,range:i},([a,o],l,c)=>{a!==0&&(s++,c.done())}).next(()=>s>0)}Rt(e,n){return Vl(e).get(n).next(r=>r?Hd(r):null)}}function Vl(t){return zt(t,Vc)}function jO(t){return zt(t,$o)}function Js(t){return zt(t,Fc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="LruGarbageCollector",aQ=1048576;function RO([t,e],[n,r]){const i=Ee(t,n);return i===0?Ee(e,r):i}class oQ{constructor(e){this.Er=e,this.buffer=new Ye(RO),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();RO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){re(CO,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fa(n)?re(CO,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.mr(3e5)})}}class lQ{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Dr.le);const r=new oQ(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(OO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OO):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,a,o,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Wl()<=Re.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function j3(t,e){return new lQ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,n){this.db=e,this.garbageCollector=j3(this,n)}pr(e){const n=this.br(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}yr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return Tm(e,r)}removeReference(e,n,r){return Tm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Tm(e,n)}Dr(e,n){return function(i,s){let a=!1;return k3(i).ne(o=>N3(i,o,s).next(l=>(l&&(a=!0),z.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,(a,o)=>{if(o<=n){const l=this.Dr(e,a).next(c=>{if(!c)return s++,r.getEntry(e,a).next(()=>(r.removeEntry(a,ve.min()),Js(e).delete(function(h){return[0,Tn(h.path)]}(a))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Tm(e,n)}Sr(e,n){const r=Js(e);let i,s=Dr.le;return r.te({index:vE},([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==Dr.le&&n(new ue(xi(i)),s),s=c,i=l):s=Dr.le}).next(()=>{s!==Dr.le&&n(new ue(xi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tm(t,e){return Js(t).put(function(r,i){return{targetId:0,path:Tn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Qa(e).put(r)}removeEntry(e,n,r){return Qa(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],yy(a),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.vr(e,r)))}getEntry(e,n){let r=At.newInvalidDocument(n);return Qa(e).te({index:ug,range:IDBKeyRange.only(wd(n))},(i,s)=>{r=this.Cr(n,s)}).next(()=>r)}Fr(e,n){let r={size:0,document:At.newInvalidDocument(n)};return Qa(e).te({index:ug,range:IDBKeyRange.only(wd(n))},(i,s)=>{r={document:this.Cr(n,s),size:xy(s)}}).next(()=>r)}getEntries(e,n){let r=dr();return this.Mr(e,n,(i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)}).next(()=>r)}Or(e,n){let r=dr(),i=new mt(ue.comparator);return this.Mr(e,n,(s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,xy(a))}).next(()=>({documents:r,Nr:i}))}Mr(e,n,r){if(n.isEmpty())return z.resolve();let i=new Ye($O);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(wd(i.first()),wd(i.last())),a=i.getIterator();let o=a.getNext();return Qa(e).te({index:ug,range:s},(l,c,d)=>{const h=ue.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&$O(o,h)<0;)r(o,null),o=a.getNext();o&&o.isEqual(h)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?d.H(wd(o)):d.done()}).next(()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),yy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qa(e).J(IDBKeyRange.bound(o,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=dr();for(const h of c){const f=this.Cr(ue.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(cp(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=dr();const a=MO(n,r),o=MO(n,br.max());return Qa(e).te({index:wV,range:IDBKeyRange.bound(a,o,!0)},(l,c,d)=>{const h=this.Cr(ue.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new dQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return DO(e).get(Z1).next(n=>(ge(!!n,20021),n))}vr(e,n){return DO(e).put(Z1,n)}Cr(e,n){if(n){const r=YX(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ve.min())))return r}return At.newInvalidDocument(e)}}function R3(t){return new uQ(t)}class dQ extends C3{constructor(e,n){super(),this.Br=e,this.trackRemovals=n,this.Lr=new Es(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ye((s,a)=>Ee(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.Lr.get(s);if(n.push(this.Br.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=vO(this.Br.serializer,a);i=i.add(s.path.popLast());const c=xy(l);r+=c-o.size,n.push(this.Br.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=vO(this.Br.serializer,a.convertToNoDocument(ve.min()));n.push(this.Br.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Br.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Br.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.Br.Fr(e,n).next(r=>(this.Lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Br.Or(e,n).next(({documents:r,Nr:i})=>(i.forEach((s,a)=>{this.Lr.set(s,{size:a,readTime:r.get(s).readTime})}),r))}}function DO(t){return zt(t,tf)}function Qa(t){return zt(t,cy)}function wd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MO(t,e){const n=e.documentKey.path.toArray();return[t,yy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $O(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ee(n[s],r[s]),i)return i;return i=Ee(n.length,r.length),i||(i=Ee(n[n.length-2],r[r.length-2]),i||Ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ph(r.mutation,i,Hn.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Wd();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=dr();const a=fh(),o=function(){return fh()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof As)?s=s.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),ph(d.mutation,c,d.mutation.getFieldMask(),wt.now())):a.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>{var h;return o.set(c,new hQ(d,(h=a.get(c))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,n){const r=fh();let i=new mt((a,o)=>a-o),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Hn.empty();d=o.applyToLocalView(c,d),r.set(l,d);const h=(i.get(o.batchId)||Oe()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,d=l.value,h=JV();d.forEach(f=>{if(!s.has(f)){const m=s3(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ue.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(bi());let o=Qh,l=s;return a.next(c=>z.forEach(c,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Oe())).next(d=>({batchId:o,changes:QV(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Wd();return this.indexManager.getCollectionParents(e,s).next(o=>z.forEach(o,l=>{const c=function(h,f){return new Cu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,At.newInvalidDocument(d)))});let o=Wd();return a.forEach((l,c)=>{const d=s.get(l);d!==void 0&&ph(d.mutation,c,Hn.empty(),wt.now()),cp(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return z.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:T3(i.bundledQuery),readTime:Vn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(){this.overlays=new mt(ue.comparator),this.Qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=bi(),s=n.length+1,a=new ue(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mt((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=bi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const o=bi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>o.set(c,d)),!(o.size()>=i)););return z.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new NE(n,r));let s=this.Qr.get(n);s===void 0&&(s=Oe(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.$r=new Ye(qt.Ur),this.Kr=new Ye(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new qt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new qt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ue(new ze([])),r=new qt(n,e),i=new qt(n,e+1),s=[];return this.Kr.forEachInRange([r,i],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ue(new ze([])),r=new qt(n,e),i=new qt(n,e+1);let s=Oe();return this.Kr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new qt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ue.comparator(e.key,n.key)||Ee(e.Zr,n.Zr)}static Wr(e,n){return Ee(e.Zr,n.Zr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ye(qt.Ur)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new PE(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Xr=this.Xr.add(new qt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Mo:this.nr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],a=>{const o=this.ei(a.Zr);s.push(o)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(Ee);return n.forEach(i=>{const s=new qt(i,0),a=new qt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],o=>{r=r.add(o.Zr)})}),z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const a=new qt(new ue(s),0);let o=new Ye(Ee);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Zr)),!0)},a),z.resolve(this.ni(o))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return z.forEach(n.mutations,i=>{const s=new qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new qt(n,0),i=this.Xr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e){this.ii=e,this.docs=function(){return new mt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():At.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=dr();const a=n.path,o=new ue(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||gE(gV(d),r)<=0||(i.has(d.key)||cp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe(9500)}si(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vQ(this)}getSize(e){return z.resolve(this.size)}}class vQ extends C3{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.persistence=e,this.oi=new Es(n=>Jo(n),op),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this._i=0,this.ai=new RE,this.targetCount=0,this.ui=tl.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),z.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new tl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Tr(n),z.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.ci={},this.overlays={},this.li=new Dr(0),this.hi=!1,this.hi=!0,this.Pi=new mQ,this.referenceDelegate=e(this),this.Ti=new xQ(this),this.indexManager=new rQ,this.remoteDocumentCache=function(i){return new yQ(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new _3(n),this.Ei=new fQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new gQ(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new bQ(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return z.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class bQ extends vV{constructor(e){super(),this.currentSequenceNumber=e}}class I0{constructor(e){this.persistence=e,this.Vi=new RE,this.mi=null}static fi(e){return new I0(e)}get gi(){if(this.mi)return this.mi;throw pe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.gi,r=>{const i=ue.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return z.or([()=>z.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class by{constructor(e,n){this.persistence=e,this.yi=new Es(r=>Tn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=j3(this,n)}static fi(e,n){return new by(e,n)}di(){}Ai(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return z.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,ve.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),z.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hg(e.data.value)),n}Dr(e,n,r){return z.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.serializer=e}q(e,n,r,i){const s=new p0("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(ap)}(e),function(l){l.createObjectStore(ef,{keyPath:CY}),l.createObjectStore(ti,{keyPath:Gk,autoIncrement:!0}).createIndex(Eo,Yk,{unique:!0}),l.createObjectStore(Lc)}(e),LO(e),function(l){l.createObjectStore(lo)}(e));let a=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Fc),l.deleteObjectStore(Vc),l.deleteObjectStore($o)}(e),LO(e)),a=a.next(()=>function(l){const c=l.store($o),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return c.put(uy,d)}(s))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,c){return c.store(ti).J().next(h=>{l.deleteObjectStore(ti),l.createObjectStore(ti,{keyPath:Gk,autoIncrement:!0}).createIndex(Eo,Yk,{unique:!0});const f=c.store(ti),m=h.map(g=>f.put(g));return z.waitFor(m)})}(e,s))),a=a.next(()=>{(function(l){l.createObjectStore(Bc,{keyPath:UY})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.wi(s))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore(tf)}(e),this.bi(s)))),r<7&&i>=7&&(a=a.next(()=>this.Si(s))),r<8&&i>=8&&(a=a.next(()=>this.Di(e,s))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.Ci(s))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore(g0,{keyPath:zY})})(e),function(l){l.createObjectStore(y0,{keyPath:WY})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const c=l.createObjectStore(v0,{keyPath:QY});c.createIndex(t_,JY,{unique:!1}),c.createIndex(EV,ZY,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const c=l.createObjectStore(cy,{keyPath:DY});c.createIndex(ug,MY),c.createIndex(wV,$Y)}(e)).next(()=>this.Fi(e,s)).next(()=>e.deleteObjectStore(lo))),r<14&&i>=14&&(a=a.next(()=>this.Mi(e,s))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore(xE,{keyPath:qY,autoIncrement:!0}).createIndex(e_,HY,{unique:!1}),l.createObjectStore(ch,{keyPath:KY}).createIndex(SV,GY,{unique:!1}),l.createObjectStore(uh,{keyPath:YY}).createIndex(TV,XY,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore(ch).clear()}).next(()=>{n.objectStore(uh).clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore(bE,{keyPath:eX})})(e)})),r<18&&i>=18&&K4()&&(a=a.next(()=>{n.objectStore(ch).clear()}).next(()=>{n.objectStore(uh).clear()})),a}bi(e){let n=0;return e.store(lo).te((r,i)=>{n+=xy(i)}).next(()=>{const r={byteSize:n};return e.store(tf).put(Z1,r)})}wi(e){const n=e.store(ef),r=e.store(ti);return n.J().next(i=>z.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,Mo],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Eo,a).next(o=>z.forEach(o,l=>{ge(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=yo(this.serializer,l);return I3(e,s.userId,c).next(()=>{})}))}))}Si(e){const n=e.store(Fc),r=e.store(lo);return e.store($o).get(uy).next(i=>{const s=[];return r.te((a,o)=>{const l=new ze(a),c=function(h){return[0,Tn(h)]}(l);s.push(n.get(c).next(d=>d?z.resolve():(h=>n.put({targetId:0,path:Tn(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(s))})}Di(e,n){e.createObjectStore(nf,{keyPath:BY});const r=n.store(nf),i=new CE,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:Tn(l)})}};return n.store(lo).te({ee:!0},(a,o)=>{const l=new ze(a);return s(l.popLast())}).next(()=>n.store(Lc).te({ee:!0},([a,o,l],c)=>{const d=xi(o);return s(d.popLast())}))}Ci(e){const n=e.store(Vc);return n.te((r,i)=>{const s=Hd(i),a=S3(this.serializer,s);return n.put(a)})}Fi(e,n){const r=n.store(lo),i=[];return r.te((s,a)=>{const o=n.store(cy),l=function(h){return h.document?new ue(ze.fromString(h.document.name).popFirst(5)):h.noDocument?ue.fromSegments(h.noDocument.path):h.unknownDocument?ue.fromSegments(h.unknownDocument.path):pe(36783)}(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))}).next(()=>z.waitFor(i))}Mi(e,n){const r=n.store(ti),i=R3(this.serializer),s=new DE(I0.fi,this.serializer.wt);return r.J().next(a=>{const o=new Map;return a.forEach(l=>{var c;let d=(c=o.get(l.userId))!==null&&c!==void 0?c:Oe();yo(this.serializer,l).keys().forEach(h=>d=d.add(h)),o.set(l.userId,d)}),z.forEach(o,(l,c)=>{const d=new rn(c),h=A0.bt(this.serializer,d),f=s.getIndexManager(d),m=P0.bt(d,this.serializer,f,s.referenceDelegate);return new D3(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new n_(n,Dr.le),l).next()})})}}function LO(t){t.createObjectStore(Fc,{keyPath:VY}).createIndex(vE,FY,{unique:!0}),t.createObjectStore(Vc,{keyPath:"targetId"}).createIndex(_V,LY,{unique:!0}),t.createObjectStore($o)}const Us="IndexedDbPersistence",Ub=18e5,zb=5e3,Wb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_Q="main";class ME{constructor(e,n,r,i,s,a,o,l,c,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.xi=s,this.window=a,this.document=o,this.Oi=c,this.Ni=d,this.Bi=h,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=f=>Promise.resolve(),!ME.C())throw new oe(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cQ(this,i),this.Ui=n+_Q,this.serializer=new _3(l),this.Ki=new xa(this.Ui,this.Bi,new wQ(this.serializer)),this.Pi=new QX,this.Ti=new sQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=R3(this.serializer),this.Ei=new XX,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,d===!1&&Rn(Us,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(J.FAILED_PRECONDITION,Wb);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Dr(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Em(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(n=>{n||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(n=>this.isPrimary&&!n?this.Xi(e).next(()=>!1):!!n&&this.es(e).next(()=>!0))).catch(e=>{if(Fa(e))return re(Us,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re(Us,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return _d(e).get(Rl).next(n=>z.resolve(this.ts(n)))}ns(e){return Em(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,Ub)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=zt(n,Bc);return r.J().next(i=>{const s=this._s(i,Ub),a=i.filter(o=>s.indexOf(o)===-1);return z.forEach(a,o=>r.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Wi)for(const n of e)this.Wi.removeItem(this.us(n.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?z.resolve(!0):_d(e).get(Rl).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,zb)&&!this.cs(n.ownerId)){if(this.ts(n)&&this.networkEnabled)return!0;if(!this.ts(n)){if(!n.allowTabSynchronization)throw new oe(J.FAILED_PRECONDITION,Wb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Em(e).J().next(r=>this._s(r,zb).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&re(Us,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[ap,Bc],e=>{const n=new n_(e,Dr.le);return this.Xi(n).next(()=>this.ns(n))}),this.Ki.close(),this.Ts()}_s(e,n){return e.filter(r=>this.ss(r.updateTimeMs,n)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Em(e).J().next(n=>this._s(n,Ub).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,n){return P0.bt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iQ(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return A0.bt(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,n,r){re(Us,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===18?rX:l===17?NV:l===16?nX:l===15?wE:l===14?IV:l===13?PV:l===12?tX:l===11?AV:void pe(60245)}(this.Bi);let a;return this.Ki.runTransaction(e,i,s,o=>(a=new n_(o,this.li?this.li.next():Dr.le),n==="readwrite-primary"?this.Yi(a).next(l=>!!l||this.Zi(a)).next(l=>{if(!l)throw Rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new oe(J.FAILED_PRECONDITION,yV);return r(a)}).next(l=>this.es(a).next(()=>l)):this.Es(a).next(()=>r(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Es(e){return _d(e).get(Rl).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,zb)&&!this.cs(n.ownerId)&&!this.ts(n)&&!(this.Ni||this.allowTabSynchronization&&n.allowTabSynchronization))throw new oe(J.FAILED_PRECONDITION,Wb)})}es(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put(Rl,n)}static C(){return xa.C()}Xi(e){const n=_d(e);return n.get(Rl).next(r=>this.ts(r)?(re(Us,"Releasing primary lease."),n.delete(Rl)):z.resolve())}ss(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Rn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const n=/(?:Version|Mobile)\/1[456]/;H4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var n;try{const r=((n=this.Wi)===null||n===void 0?void 0:n.getItem(this.us(e)))!==null;return re(Us,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Rn(Us,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Rn("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(t){return zt(t,ap)}function Em(t){return zt(t,Bc)}function SQ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $E(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return H4()?8:xV(Ut())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new TQ;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.fs)return this.Ds(e,n,a,o.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Wl()<=Re.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),z.resolve()):(Wl()<=Re.DEBUG&&re("QueryEngine","Query:",ql(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Wl()<=Re.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):z.resolve())}ws(e,n){if(lO(n))return z.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=py(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Oe(...s);return this.ys.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,o);return this.Cs(n,c,a,l.readTime)?this.ws(e,py(n,null,"F")):this.Fs(e,c,n,l)}))})))}bs(e,n,r,i){return lO(n)||i.isEqual(ve.min())?z.resolve(null):this.ys.getDocuments(e,r).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,r,i)?z.resolve(null):(Wl()<=Re.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ql(n)),this.Fs(e,a,n,AY(i,Qh)).next(o=>o))})}vs(e,n){let r=new Ye(YV(e));return n.forEach((i,s)=>{cp(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Wl()<=Re.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ql(n)),this.ys.getDocumentsMatchingQuery(e,n,br.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LocalStore",EQ=3e8;class AQ{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new mt(Ee),this.Os=new Es(s=>Jo(s),op),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function $3(t,e,n,r){return new AQ(t,e,n,r)}async function L3(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Oe();for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:a,addedBatchIds:o}))})})}function PQ(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,d){const h=c.batch,f=h.keys();let m=z.resolve();return f.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);ge(v!==null,48541),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Oe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function V3(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function IQ(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const o=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;o.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Mt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(y,v,w){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=EQ?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&o.push(n.Ti.updateTargetData(s,m))});let l=dr(),c=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(NQ(s,a,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(ve.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(h=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return z.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.xs=i,s))}function NQ(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=dr();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):re(LE,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{qs:a,Qs:i}})}function kQ(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OQ(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ti.allocateTargetId(r).next(a=>(i=new Gi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function g_(t,e,n){const r=Pe(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Fa(a))throw a;re(LE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function VO(t,e,n){const r=Pe(t);let i=ve.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,d){const h=Pe(l),f=h.Os.get(d);return f!==void 0?z.resolve(h.xs.get(f)):h.Ti.getTargetData(c,d)}(r,a,Fr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?i:ve.min(),n?s:Oe())).next(o=>(jQ(r,vX(e),o),{documents:o,$s:s})))}function jQ(t,e,n){let r=t.Ns.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class FO{constructor(){this.activeTargetIds=TX()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F3{constructor(){this.xo=new FO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new FO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="ConnectivityMonitor";class UO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){re(BO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){re(BO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=null;function y_(){return Am===null?Am=function(){return 268435456+Math.round(2147483648*Math.random())}():Am++,"0x"+Am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="RestConnection",RQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DQ{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===dy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const a=y_(),o=this.jo(e,n.toUriEncodedString());re(qb,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:c}=new URL(o),d=Va(c);return this.Jo(e,o,l,r,d).then(h=>(re(qb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Xo(qb,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",r),h})}Yo(e,n,r,i,s,a){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ju}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=RQ[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class $Q extends DQ{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=y_();return new Promise((o,l)=>{const c=new aV;c.setWithCredentials(!0),c.listenOnce(oV.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case og.NO_ERROR:const h=c.getResponseJson();re(mn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case og.TIMEOUT:re(mn,`RPC '${e}' ${a} timed out`),l(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case og.HTTP_ERROR:const f=c.getStatus();if(re(mn,`RPC '${e}' ${a} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(b)>=0?b:J.UNKNOWN}(g.status);l(new oe(y,g.message))}else l(new oe(J.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new oe(J.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{h_:e,streamId:a,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{re(mn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);re(mn,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",d,r,15)})}I_(e,n,r){const i=y_(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=uV(),o=cV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");re(mn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=a.createWebChannel(d,l);this.E_(h);let f=!1,m=!1;const g=new MQ({Zo:v=>{m?re(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(re(mn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),re(mn,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Xo:()=>h.close()}),y=(v,w,b)=>{v.listen(w,x=>{try{b(x)}catch(A){setTimeout(()=>{throw A},0)}})};return y(h,zd.EventType.OPEN,()=>{m||(re(mn,`RPC '${e}' stream ${i} transport opened.`),g.__())}),y(h,zd.EventType.CLOSE,()=>{m||(m=!0,re(mn,`RPC '${e}' stream ${i} transport closed`),g.u_(),this.d_(h))}),y(h,zd.EventType.ERROR,v=>{m||(m=!0,Xo(mn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.u_(new oe(J.UNAVAILABLE,"The operation could not be completed")))}),y(h,zd.EventType.MESSAGE,v=>{var w;if(!m){const b=v.data[0];ge(!!b,16349);const x=b,A=(x==null?void 0:x.error)||((w=x[0])===null||w===void 0?void 0:w.error);if(A){re(mn,`RPC '${e}' stream ${i} received error:`,A);const T=A.status;let P=function(I){const k=Nt[I];if(k!==void 0)return l3(k)}(T),E=A.message;P===void 0&&(P=J.INTERNAL,E="Unknown error status: "+T+" with message "+A.message),m=!0,g.u_(new oe(P,E)),h.close()}else re(mn,`RPC '${e}' stream ${i} received:`,b),g.c_(b)}}),y(o,lV.STAT_EVENT,v=>{v.stat===Y1.PROXY?re(mn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Y1.NOPROXY&&re(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.a_()},0),g}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(){return typeof window<"u"?window:null}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){return new VX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="PersistentStream";class U3{constructor(e,n,r,i,s,a,o,l){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new B3(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new oe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return re(zO,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(re(zO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VQ extends U3{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=UX(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Vn(a.readTime):ve.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=d_(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=hy(l)?{documents:g3(s,l)}:{query:y3(s,l).gt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=d3(s,a.resumeToken);const c=c_(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(ve.min())>0){o.readTime=Yc(s,a.snapshotVersion.toTimestamp());const c=c_(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=WX(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=d_(this.serializer),n.removeTarget=e,this.Q_(n)}}class FQ extends U3{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=zX(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=d_(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gy(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{}class UQ extends BQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,u_(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(J.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Yo(e,u_(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new oe(J.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Rn(n),this.ua=!1):re("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="RemoteStore";class WQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{r.enqueueAndForget(async()=>{wl(this)&&(re(nl,"Restarting streams for network reachability change."),await async function(l){const c=Pe(l);c.da.add(4),await dp(c),c.Va.set("Unknown"),c.da.delete(4),await k0(c)}(this))})}),this.Va=new zQ(r,i)}}async function k0(t){if(wl(t))for(const e of t.Aa)await e(!0)}async function dp(t){for(const e of t.Aa)await e(!1)}function z3(t,e){const n=Pe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),UE(n)?BE(n):Du(n).N_()&&FE(n,e))}function VE(t,e){const n=Pe(t),r=Du(n);n.Ea.delete(e),r.N_()&&W3(n,e),n.Ea.size===0&&(r.N_()?r.k_():wl(n)&&n.Va.set("Unknown"))}function FE(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Du(t).Z_(e)}function W3(t,e){t.ma.Ke(e),Du(t).X_(e)}function BE(t){t.ma=new DX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.Va.ca()}function UE(t){return wl(t)&&!Du(t).O_()&&t.Ea.size>0}function wl(t){return Pe(t).da.size===0}function q3(t){t.ma=void 0}async function qQ(t){t.Va.set("Online")}async function HQ(t){t.Ea.forEach((e,n)=>{FE(t,e)})}async function KQ(t,e){q3(t),UE(t)?(t.Va.Pa(e),BE(t)):t.Va.set("Unknown")}async function GQ(t,e,n){if(t.Va.set("Online"),e instanceof u3&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ea.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ea.delete(o),i.ma.removeTarget(o))}(t,e)}catch(r){re(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wy(t,r)}else if(e instanceof mg?t.ma.Xe(e):e instanceof c3?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ve.min()))try{const r=await V3(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.ma.It(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ea.get(c);d&&s.Ea.set(c,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const d=s.Ea.get(l);if(!d)return;s.Ea.set(l,d.withResumeToken(Mt.EMPTY_BYTE_STRING,d.snapshotVersion)),W3(s,l);const h=new Gi(d.target,l,c,d.sequenceNumber);FE(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){re(nl,"Failed to raise snapshot:",r),await wy(t,r)}}async function wy(t,e,n){if(!Fa(e))throw e;t.da.add(1),await dp(t),t.Va.set("Offline"),n||(n=()=>V3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(nl,"Retrying IndexedDB access"),await n(),t.da.delete(1),await k0(t)})}function H3(t,e){return e().catch(n=>wy(t,n,e))}async function hp(t){const e=Pe(t),n=Na(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Mo;for(;YQ(e);)try{const i=await kQ(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,XQ(e,i)}catch(i){await wy(e,i)}K3(e)&&G3(e)}function YQ(t){return wl(t)&&t.Ia.length<10}function XQ(t,e){t.Ia.push(e);const n=Na(t);n.N_()&&n.ea&&n.ta(e.mutations)}function K3(t){return wl(t)&&!Na(t).O_()&&t.Ia.length>0}function G3(t){Na(t).start()}async function QQ(t){Na(t).ia()}async function JQ(t){const e=Na(t);for(const n of t.Ia)e.ta(n.mutations)}async function ZQ(t,e,n){const r=t.Ia.shift(),i=IE.from(r,e,n);await H3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hp(t)}async function eJ(t,e){e&&Na(t).ea&&await async function(r,i){if(function(a){return CX(a)&&a!==J.ABORTED}(i.code)){const s=r.Ia.shift();Na(r).L_(),await H3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hp(r)}}(t,e),K3(t)&&G3(t)}async function WO(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),re(nl,"RemoteStore received new credentials");const r=wl(n);n.da.add(3),await dp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await k0(n)}async function tJ(t,e){const n=Pe(t);e?(n.da.delete(2),await k0(n)):e||(n.da.add(2),await dp(n),n.Va.set("Unknown"))}function Du(t){return t.fa||(t.fa=function(n,r,i){const s=Pe(n);return s.oa(),new VQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:qQ.bind(null,t),n_:HQ.bind(null,t),i_:KQ.bind(null,t),Y_:GQ.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),UE(t)?BE(t):t.Va.set("Unknown")):(await t.fa.stop(),q3(t))})),t.fa}function Na(t){return t.ga||(t.ga=function(n,r,i){const s=Pe(n);return s.oa(),new FQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:QQ.bind(null,t),i_:eJ.bind(null,t),na:JQ.bind(null,t),ra:ZQ.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await hp(t)):(await t.ga.stop(),t.Ia.length>0&&(re(nl,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new zE(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WE(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),Fa(t))return new oe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{static emptySet(e){return new _c(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Wd(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.pa=new mt(ue.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):pe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xc{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Xc(e,n,_c.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class rJ{constructor(){this.queries=HO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Pe(n),s=i.queries;i.queries=HO(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function HO(){return new Es(t=>GV(t),w0)}async function qE(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new nJ,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=WE(a,`Initialization of query '${ql(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&KE(n)}async function HE(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iJ(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Ma(i)&&(r=!0);a.ba=i}}r&&KE(n)}function sJ(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function KE(t){t.Ca.forEach(e=>{e.next()})}var v_,KO;(KO=v_||(v_={})).xa="default",KO.Cache="cache";class GE{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==v_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.key=e}}class X3{constructor(e){this.key=e}}class aJ{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Oe(),this.mutatedKeys=Oe(),this.Za=YV(e),this.Xa=new _c(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new qO,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=cp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;f&&m?f.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),v=!0):this.ru(f,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.Za(m,l)>0||c&&this.Za(m,c)<0)&&(o=!0)):!f&&m?(r.track({type:0,doc:m}),v=!0):f&&!m&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(o=!0)),v&&(m?(a=a.add(m),s=y?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Xa:a,nu:r,Cs:o,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((d,h)=>function(m,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:v})}};return y(m)-y(g)}(d.type,h.type)||this.Za(d.doc,h.doc)),this.iu(r),i=i!=null&&i;const o=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Ja;return this.Ja=l,a.length!==0||c?{snapshot:new Xc(this.query,e.Xa,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new qO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Oe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new X3(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Y3(r))}),n}au(e){this.Ha=e.$s,this.Ya=Oe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Xc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const YE="SyncEngine";class oJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lJ{constructor(e){this.key=e,this.cu=!1}}class cJ{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Es(o=>GV(o),w0),this.Pu=new Map,this.Tu=new Set,this.Iu=new mt(ue.comparator),this.Eu=new Map,this.du=new RE,this.Au={},this.Ru=new Map,this.Vu=tl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function uJ(t,e,n=!0){const r=n6(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await Q3(r,e,n,!0),i}async function dJ(t,e){const n=n6(t);await Q3(n,e,!0,!1)}async function Q3(t,e,n,r){const i=await OQ(t.localStore,Fr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await hJ(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&z3(t.remoteStore,i),o}async function hJ(t,e,n,r,i){t.fu=(h,f,m)=>async function(y,v,w,b){let x=v.view.tu(w);x.Cs&&(x=await VO(y.localStore,v.query,!1).then(({documents:E})=>v.view.tu(E,x)));const A=b&&b.targetChanges.get(v.targetId),T=b&&b.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(x,y.isPrimaryClient,A,T);return YO(y,v.targetId,P.ou),P.snapshot}(t,h,f,m);const s=await VO(t.localStore,e,!0),a=new aJ(e,s.$s),o=a.tu(s.documents),l=up.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);YO(t,n,c.ou);const d=new oJ(e,n,a);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}async function fJ(t,e,n){const r=Pe(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(a=>!w0(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await g_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&VE(r.remoteStore,i.targetId),x_(r,i.targetId)}).catch(bl)):(x_(r,i.targetId),await g_(r.localStore,i.targetId,!0))}async function pJ(t,e){const n=Pe(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),VE(n.remoteStore,r.targetId))}async function mJ(t,e,n){const r=r6(t);try{const i=await function(a,o){const l=Pe(a),c=wt.now(),d=o.reduce((m,g)=>m.add(g.key),Oe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=dr(),y=Oe();return l.Bs.getEntries(m,d).next(v=>{g=v,g.forEach((w,b)=>{b.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(v=>{h=v;const w=[];for(const b of o){const x=OX(b,h.get(b.key).overlayedDocument);x!=null&&w.push(new As(b.key,x,VV(x.value.mapValue),Yt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,o)}).next(v=>{f=v;const w=v.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,v.batchId,w)})}).then(()=>({batchId:f.batchId,changes:QV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Au[a.currentUser.toKey()];c||(c=new mt(Ee)),c=c.insert(o,l),a.Au[a.currentUser.toKey()]=c}(r,i.batchId,n),await fp(r,i.changes),await hp(r.remoteStore)}catch(i){const s=WE(i,"Failed to persist write");n.reject(s)}}async function J3(t,e){const n=Pe(t);try{const r=await IQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.cu=!0:i.modifiedDocuments.size>0?ge(a.cu,14607):i.removedDocuments.size>0&&(ge(a.cu,42227),a.cu=!1))}),await fp(n,r,e)}catch(r){await bl(r)}}function GO(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,a)=>{const o=a.view.Fa(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Pe(a);l.onlineState=o;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.Fa(o)&&(c=!0)}),c&&KE(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gJ(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new mt(ue.comparator);a=a.insert(s,At.newNoDocument(s,ve.min()));const o=Oe().add(s),l=new E0(ve.min(),new Map,new mt(Ee),a,o);await J3(r,l),r.Iu=r.Iu.remove(s),r.Eu.delete(e),XE(r)}else await g_(r.localStore,e,!1).then(()=>x_(r,e,n)).catch(bl)}async function yJ(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await PQ(n.localStore,e);e6(n,r,null),Z3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fp(n,i)}catch(i){await bl(i)}}async function vJ(t,e,n){const r=Pe(t);try{const i=await function(a,o){const l=Pe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(ge(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);e6(r,e,n),Z3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fp(r,i)}catch(i){await bl(i)}}function Z3(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function e6(t,e,n){const r=Pe(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function x_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||t6(t,r)})}function t6(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(VE(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),XE(t))}function YO(t,e,n){for(const r of n)r instanceof Y3?(t.du.addReference(r.key,e),xJ(t,r)):r instanceof X3?(re(YE,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||t6(t,r.key)):pe(19791,{pu:r})}function xJ(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(re(YE,"New document in limbo: "+n),t.Tu.add(r),XE(t))}function XE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ue(ze.fromString(e)),r=t.Vu.next();t.Eu.set(r,new lJ(n)),t.Iu=t.Iu.insert(n,r),z3(t.remoteStore,new Gi(Fr(lp(n.path)),r,"TargetPurposeLimboResolution",Dr.le))}}async function fp(t,e,n){const r=Pe(t),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((o,l)=>{a.push(r.fu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=$E.Rs(l.targetId,c);s.push(h)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(l,c){const d=Pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(c,f=>z.forEach(f.ds,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>z.forEach(f.As,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Fa(h))throw h;re(LE,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.xs.get(f),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);d.xs=d.xs.insert(f,y)}}}(r.localStore,s))}async function bJ(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){re(YE,"User change. New user:",e.toKey());const r=await L3(n.localStore,e);n.currentUser=e,function(s,a){s.Ru.forEach(o=>{o.forEach(l=>{l.reject(new oe(J.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fp(n,r.ks)}}function wJ(t,e){const n=Pe(t),r=n.Eu.get(e);if(r&&r.cu)return Oe().add(r.key);{let i=Oe();const s=n.Pu.get(e);if(!s)return i;for(const a of s){const o=n.hu.get(a);i=i.unionWith(o.view.eu)}return i}}function n6(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gJ.bind(null,e),e.lu.Y_=iJ.bind(null,e.eventManager),e.lu.gu=sJ.bind(null,e.eventManager),e}function r6(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vJ.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N0(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return $3(this.persistence,new M3,e.initialUser,this.serializer)}Su(e){return new DE(I0.fi,this.serializer)}bu(e){return new F3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class _J extends uf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ge(this.persistence.referenceDelegate instanceof by,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new O3(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new DE(r=>by.fi(r,n),this.serializer)}}class SJ extends uf{constructor(e,n,r){super(),this.Fu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Fu.initialize(this,e),await r6(this.Fu.syncEngine),await hp(this.Fu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Du(e){return $3(this.persistence,new M3,e.initialUser,this.serializer)}vu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new O3(r,e.asyncQueue,n)}Cu(e,n){const r=new kY(n,this.persistence);return new NY(e.asyncQueue,r)}Su(e){const n=SQ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new ME(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,LQ(),yg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new F3}}class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bJ.bind(null,this.syncEngine),await tJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rJ}()}createDatastore(e){const n=N0(e.databaseInfo.databaseId),r=function(s){return new $Q(s)}(e.databaseInfo);return function(s,a,o,l){return new UQ(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new WQ(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>GO(this.syncEngine,n,0),function(){return UO.C()?new UO:new CQ}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,d){const h=new cJ(i,s,a,o,l,c);return d&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Pe(i);re(nl,"RemoteStore shutting down."),s.da.add(5),await dp(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class TJ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=pV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{re(ka,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(re(ka,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=WE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hb(t,e){t.asyncQueue.verifyOperationInProgress(),re(ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await L3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EJ(t);re(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>WO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>WO(e.remoteStore,i)),t._onlineComponents=e}async function EJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(ka,"Using user provided OfflineComponentProvider");try{await Hb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await Hb(t,new uf)}}else re(ka,"Using default OfflineComponentProvider"),await Hb(t,new _J(void 0));return t._offlineComponents}async function i6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(ka,"Using user provided OnlineComponentProvider"),await XO(t,t._uninitializedComponentsProvider._online)):(re(ka,"Using default OnlineComponentProvider"),await XO(t,new _y))),t._onlineComponents}function AJ(t){return i6(t).then(e=>e.syncEngine)}async function Sy(t){const e=await i6(t),n=e.eventManager;return n.onListen=uJ.bind(null,e.syncEngine),n.onUnlisten=fJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pJ.bind(null,e.syncEngine),n}function PJ(t,e,n={}){const r=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const d=new QE({next:f=>{d.xu(),a.enqueueAndForget(()=>HE(s,h));const m=f.docs.has(o);!m&&f.fromCache?c.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new GE(lp(o.path),d,{includeMetadataChanges:!0,Qa:!0});return qE(s,h)}(await Sy(t),t.asyncQueue,e,n,r)),r.promise}function IJ(t,e,n={}){const r=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const d=new QE({next:f=>{d.xu(),a.enqueueAndForget(()=>HE(s,h)),f.fromCache&&l.source==="server"?c.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new GE(o,d,{includeMetadataChanges:!0,Qa:!0});return qE(s,h)}(await Sy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NJ(t,e,n,r){if(e===!0&&r===!0)throw new oe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JO(t){if(!ue.isDocumentKey(t))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZO(t){if(ue.isDocumentKey(t))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=O0(t);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kJ(t,e){if(e<=0)throw new oe(J.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="firestore.googleapis.com",ej=!0;class tj{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o6,this.ssl=ej}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ej;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aQ)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yY;switch(r.type){case"firstParty":return new wY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QO.get(n);r&&(re("ComponentProvider","Removing Datastore"),QO.delete(n),r.terminate())}(this),Promise.resolve()}}function OJ(t,e,n,r={}){var i;t=Fn(t,j0);const s=Va(e),a=t._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(d0(`https://${l}`),h0("Firestore",!0)),a.host!==o6&&a.host!==l&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Aa(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=rn.MOCK_USER;else{d=z4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new rn(f)}t._authCredentials=new vY(new hV(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class ba extends Ps{constructor(e,n,r){super(e,n,lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ue(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function ns(t,e,...n){if(t=at(t),a6("collection","path",e),t instanceof j0){const r=ze.fromString(e,...n);return ZO(r),new ba(t,null,r)}{if(!(t instanceof En||t instanceof ba))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return ZO(r),new ba(t.firestore,null,r)}}function Rt(t,e,...n){if(t=at(t),arguments.length===1&&(e=pV.newId()),a6("doc","path",e),t instanceof j0){const r=ze.fromString(e,...n);return JO(r),new En(t,null,new ue(r))}{if(!(t instanceof En||t instanceof ba))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return JO(r),new En(t.firestore,t instanceof ba?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="AsyncQueue";class rj{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new B3(this,"async_queue_retry"),this.rc=()=>{const r=yg();r&&re(nj,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ti;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fa(e))throw e;re(nj,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Rn("INTERNAL UNHANDLED ERROR: ",ij(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=zE.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&pe(47125,{cc:ij(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function ij(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ci extends j0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rj(e),this._firestoreClient=void 0,await e}}}function jJ(t,e){const n=typeof t=="object"?t:Ou(),r=typeof t=="string"?t:e||dy,i=Ts(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hE("firestore");s&&OJ(i,...s)}return i}function pp(t){if(t._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l6(t),t._firestoreClient}function l6(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,d){return new sX(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,s6(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new TJ(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}function CJ(t,e){Xo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return RJ(t,_y.provider,{build:r=>new SJ(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function RJ(t,e,n){if((t=Fn(t,Ci))._firestoreClient||t._terminated)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new oe(J.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},l6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(Mt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qc(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function DJ(){return new Mu(Q1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=/^__.*__$/;class $J{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class c6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ic:t})}}class eA{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new eA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ty(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(u6(this.Ic)&&MJ.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class LJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||N0(e)}bc(e,n,r,i=!1){return new eA({Ic:e,methodName:n,wc:r,path:vt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(t){const e=t._freezeSettings(),n=N0(t._databaseId);return new LJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tA(t,e,n,r,i,s={}){const a=t.bc(s.merge||s.mergeFields?2:0,e,n,i);rA("Data must be an object, but it was:",a,r);const o=f6(r,a);let l,c;if(s.merge)l=new Hn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=b_(e,h,n);if(!a.contains(f))throw new oe(J.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);m6(d,f)||d.push(f)}l=new Hn(d),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new $J(new _n(o),l,c)}class R0 extends C0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R0}}class nA extends C0{_toFieldTransform(e){return new i3(e.path,new Hc)}isEqual(e){return e instanceof nA}}function d6(t,e,n,r){const i=t.bc(1,e,n);rA("Data must be an object, but it was:",i,r);const s=[],a=_n.empty();Ba(r,(l,c)=>{const d=iA(e,l,n);c=at(c);const h=i.mc(d);if(c instanceof R0)s.push(d);else{const f=gp(c,h);f!=null&&(s.push(d),a.set(d,f))}});const o=new Hn(s);return new c6(a,o,i.fieldTransforms)}function h6(t,e,n,r,i,s){const a=t.bc(1,e,n),o=[b_(e,r,n)],l=[i];if(s.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)o.push(b_(e,s[f])),l.push(s[f+1]);const c=[],d=_n.empty();for(let f=o.length-1;f>=0;--f)if(!m6(c,o[f])){const m=o[f];let g=l[f];g=at(g);const y=a.mc(m);if(g instanceof R0)c.push(m);else{const v=gp(g,y);v!=null&&(c.push(m),d.set(m,v))}}const h=new Hn(c);return new c6(d,h,a.fieldTransforms)}function VJ(t,e,n,r=!1){return gp(n,t.bc(r?4:3,e))}function gp(t,e){if(p6(t=at(t)))return rA("Unsupported field value:",e,t),f6(t,e);if(t instanceof C0)return function(r,i){if(!u6(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=gp(o,i.fc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Yc(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,s)}}if(r instanceof JE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qc)return{bytesValue:d3(i.serializer,r._byteString)};if(r instanceof En){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ZE)return function(a,o){return{mapValue:{fields:{[SE]:{stringValue:TE},[Uc]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.gc("VectorValues must only contain numeric values.");return AE(o.serializer,c)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${O0(r)}`)}(t,e)}function f6(t,e){const n={};return kV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,(r,i)=>{const s=gp(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function p6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof JE||t instanceof Qc||t instanceof En||t instanceof C0||t instanceof ZE)}function rA(t,e,n){if(!p6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=O0(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function b_(t,e,n){if((e=at(e))instanceof Mu)return e._internalPath;if(typeof e=="string")return iA(t,e);throw Ty("Field path arguments must be of type string or ",t,!1,void 0,n)}const FJ=new RegExp("[~\\*/\\[\\]]");function iA(t,e,n){if(e.search(FJ)>=0)throw Ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mu(...e.split("."))._internalPath}catch{throw Ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ty(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new oe(J.INVALID_ARGUMENT,o+t+l)}function m6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BJ extends g6{data(){return super.data()}}function D0(t,e){return typeof e=="string"?iA(t,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sA{}class aA extends sA{}function Ey(t,e,...n){let r=[];e instanceof sA&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof oA).length,o=s.filter(l=>l instanceof M0).length;if(a>1||a>0&&o>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class M0 extends aA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new M0(e,n,r)}_apply(e){const n=this._parse(e);return v6(e._query,n),new Ps(e.firestore,e.converter,l_(e._query,n))}_parse(e){const n=mp(e.firestore);return function(s,a,o,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){oj(h,d);const g=[];for(const y of h)g.push(aj(l,s,y));f={arrayValue:{values:g}}}else f=aj(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||oj(h,d),f=VJ(o,a,h,d==="in"||d==="not-in");return De.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UJ(t,e,n){const r=e,i=D0("where",t);return M0._create(i,r,n)}class oA extends sA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ke.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)v6(a,l),a=l_(a,l)}(e._query,n),new Ps(e.firestore,e.converter,l_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lA extends aA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lA(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lf(s,a)}(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Cu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function w_(t,e="asc"){const n=e,r=D0("orderBy",t);return lA._create(r,n)}class cA extends aA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new cA(e,n,r)}_apply(e){return new Ps(e.firestore,e.converter,py(e._query,this._limit,this._limitType))}}function zJ(t){return kJ("limit",t),cA._create("limit",t,"F")}function aj(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KV(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!ue.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return af(t,new ue(r))}if(n instanceof En)return af(t,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${O0(n)}.`)}function oj(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v6(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WJ{convertValue(e,n="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ba(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Uc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ht(a.doubleValue));return new ZE(s)}convertGeoPoint(e){return new JE(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=x0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const n=ms(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);ge(w3(r),9688,{name:e});const i=new Qo(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Rn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x6 extends g6{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vg extends x6{data(e={}){return super.data(e)}}class b6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vg(this._firestore,this._userDataWriter,r.key,r,new Kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new vg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new vg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:qJ(o.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){t=Fn(t,En);const e=Fn(t.firestore,Ci);return PJ(pp(e),t._key).then(n=>w6(e,t,n))}class dA extends WJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function mh(t){t=Fn(t,Ps);const e=Fn(t.firestore,Ci),n=pp(e),r=new dA(e);return y6(t._query),IJ(n,t._query).then(i=>new b6(e,r,t,i))}function Vo(t,e,n){t=Fn(t,En);const r=Fn(t.firestore,Ci),i=uA(t.converter,e,n);return $0(r,[tA(mp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yt.none())])}function lj(t,e,n,...r){t=Fn(t,En);const i=Fn(t.firestore,Ci),s=mp(i);let a;return a=typeof(e=at(e))=="string"||e instanceof Mu?h6(s,"updateDoc",t._key,e,n,r):d6(s,"updateDoc",t._key,e),$0(i,[a.toMutation(t._key,Yt.exists(!0))])}function HJ(t,e){const n=Fn(t.firestore,Ci),r=Rt(t),i=uA(t.converter,e);return $0(n,[tA(mp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function xg(t,...e){var n,r,i;t=at(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||sj(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sj(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof En)c=Fn(t.firestore,Ci),d=lp(t._key.path),l={next:h=>{e[a]&&e[a](w6(c,t,h))},error:e[a+1],complete:e[a+2]};else{const h=Fn(t,Ps);c=Fn(h.firestore,Ci),d=h._query;const f=new dA(c);l={next:m=>{e[a]&&e[a](new b6(c,f,h,m))},error:e[a+1],complete:e[a+2]},y6(t._query)}return function(f,m,g,y){const v=new QE(y),w=new GE(m,v,g);return f.asyncQueue.enqueueAndForget(async()=>qE(await Sy(f),w)),()=>{v.xu(),f.asyncQueue.enqueueAndForget(async()=>HE(await Sy(f),w))}}(pp(c),d,o,l)}function $0(t,e){return function(r,i){const s=new Ti;return r.asyncQueue.enqueueAndForget(async()=>mJ(await AJ(r),i,s)),s.promise}(pp(t),e)}function w6(t,e,n){const r=n.docs.get(e._key),i=new dA(t);return new x6(t,i,e._key,r,new Kd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mp(e)}set(e,n,r){this._verifyNotCommitted();const i=Kb(e,this._firestore),s=uA(i.converter,n,r),a=tA(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Yt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Kb(e,this._firestore);let a;return a=typeof(n=at(n))=="string"||n instanceof Mu?h6(this._dataReader,"WriteBatch.update",s._key,n,r,i):d6(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Yt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Kb(e,this._firestore);return this._mutations=this._mutations.concat(new T0(n._key,Yt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kb(t,e){if((t=at(t)).firestore!==e)throw new oe(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function __(){return new nA("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GJ(t){return pp(t=Fn(t,Ci)),new KJ(t,e=>$0(t,e))}(function(e,n=!0){(function(i){ju=i})(xl),Wr(new xr("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Ci(new xY(r.getProvider("auth-internal")),new _Y(a,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(c.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Sn(Fk,Bk,e),Sn(Fk,Bk,"esm2017")})();function hA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YJ=_6,S6=new vl("auth","Firebase",_6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new f0("@firebase/auth");function XJ(t,...e){Ay.logLevel<=Re.WARN&&Ay.warn(`Auth (${xl}): ${t}`,...e)}function bg(t,...e){Ay.logLevel<=Re.ERROR&&Ay.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw pA(t,...e)}function ui(t,...e){return pA(t,...e)}function fA(t,e,n){const r=Object.assign(Object.assign({},YJ()),{[e]:n});return new vl("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return fA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),fA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S6.create(t,...e)}function xe(t,e,...n){if(!t)throw pA(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bg(e),new Error(e)}function ys(t,e){t||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JJ(){return cj()==="http:"||cj()==="https:"}function cj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JJ()||q4()||"connection"in navigator)?navigator.onLine:!0}function eZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=lK()||uK()}get(){return ZJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rZ=new yp(3e4,6e4);function Is(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,r,i={}){return E6(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=sp(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return cK()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Va(t.emulatorConfig.host)&&(c.credentials="include"),T6.fetch()(await A6(t,t.config.apiHost,n,o),c)})}async function E6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tZ),e);try{const i=new sZ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Pm(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Pm(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Pm(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fA(t,d,c);qr(t,d)}}catch(i){if(i instanceof Kr)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function vp(t,e,n,r,i={}){const s=await Ns(t,e,n,r,i);return"mfaPendingCredential"in s&&qr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function A6(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?mA(t.config,i):`${t.config.apiScheme}://${i}`;return nZ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function iZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),rZ.get())})}}function Pm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ui(t,e,r);return i.customData._tokenResponse=n,i}function uj(t){return t!==void 0&&t.enterprise!==void 0}class aZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oZ(t,e){return Ns(t,"GET","/v2/recaptchaConfig",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lZ(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function Py(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cZ(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=gA(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gh(Gb(i.auth_time)),issuedAtTime:gh(Gb(i.iat)),expirationTime:gh(Gb(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gb(t){return Number(t)*1e3}function gA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bg("JWT malformed, contained fewer than 3 sections"),null;try{const i=L4(n);return i?JSON.parse(i):(bg("Failed to decode base64 JWT payload"),null)}catch(i){return bg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dj(t){const e=gA(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&uZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await df(t,Py(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?P6(s.providerUserInfo):[],o=fZ(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new T_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function hZ(t){const e=at(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function P6(t){return t.map(e=>{var{providerId:n}=e,r=hA(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pZ(t,e){const n=await E6(t,{},async()=>{const r=sp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await A6(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Va(t.emulatorConfig.host)&&(l.credentials="include"),T6.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mZ(t,e){return Ns(t,"POST","/v2/accounts:revokeToken",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=dj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pZ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Sc;return r&&(xe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(xe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=hA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await df(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cZ(this,e)}reload(){return hZ(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await df(this,lZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:A,isAnonymous:T,providerData:P,stsTokenManager:E}=n;xe(x&&E,e,"internal-error");const S=Sc.fromJSON(this.name,E);xe(typeof x=="string",e,"internal-error"),zs(h,e.name),zs(f,e.name),xe(typeof A=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),zs(m,e.name),zs(g,e.name),zs(y,e.name),zs(v,e.name),zs(w,e.name),zs(b,e.name);const I=new oi({uid:x,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:T,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:S,createdAt:w,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(k=>Object.assign({},k))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sc;i.updateFromServerResponse(n);const s=new oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Iy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?P6(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Sc;o.updateFromIdToken(r);const l=new oi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new Map;function Xi(t){ys(t instanceof Function,"Expected a class definition");let e=hj.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}I6.type="NONE";const fj=I6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e,n){return`firebase:${t}:${e}:${n}`}class Tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wg(this.userKey,i.apiKey,s),this.fullPersistenceKey=wg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Py(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tc(Xi(fj),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Xi(fj);const a=wg(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(a);if(d){let h;if(typeof d=="string"){const f=await Py(e,{idToken:d}).catch(()=>{});if(!f)break;h=await oi._fromGetAccountInfoResponse(e,f,d)}else h=oi._fromJSON(e,d);c!==s&&(o=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Tc(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Tc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R6(e))return"Blackberry";if(D6(e))return"Webos";if(k6(e))return"Safari";if((e.includes("chrome/")||O6(e))&&!e.includes("edge/"))return"Chrome";if(C6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function N6(t=Ut()){return/firefox\//i.test(t)}function k6(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O6(t=Ut()){return/crios\//i.test(t)}function j6(t=Ut()){return/iemobile/i.test(t)}function C6(t=Ut()){return/android/i.test(t)}function R6(t=Ut()){return/blackberry/i.test(t)}function D6(t=Ut()){return/webos/i.test(t)}function yA(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gZ(t=Ut()){var e;return yA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yZ(){return dK()&&document.documentMode===10}function M6(t=Ut()){return yA(t)||C6(t)||D6(t)||R6(t)||/windows phone/i.test(t)||j6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t,e=[]){let n;switch(t){case"Browser":n=pj(Ut());break;case"Worker":n=`${pj(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xZ(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",Is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=6;class wZ{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:bZ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mj(this),this.idTokenSubscription=new mj(this),this.beforeStateQueue=new vZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Py(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(rs(this));const n=e?at(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xZ(this),n=new wZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ks(t){return at(t)}class mj{constructor(e){this.auth=e,this.observer=null,this.addObserver=yK(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SZ(t){L0=t}function L6(t){return L0.loadJS(t)}function TZ(){return L0.recaptchaEnterpriseScript}function EZ(){return L0.gapiScript}function AZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class PZ{constructor(){this.enterprise=new IZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NZ="recaptcha-enterprise",V6="NO_RECAPTCHA";class kZ{constructor(e){this.type=NZ,this.auth=ks(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{oZ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new aZ(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;uj(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(V6)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PZ().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&uj(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=TZ();l.length!==0&&(l+=o),L6(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Sd(t,e,n,r=!1,i=!1){const s=new kZ(t);let a;if(i)a=V6;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ny(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Sd(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Sd(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await Sd(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Sd(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const o=await Sd(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OZ(t,e){const n=Ts(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Aa(s,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function jZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CZ(t,e,n){const r=ks(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=F6(e),{host:a,port:o}=RZ(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Aa(c,r.config.emulator)&&Aa(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Va(a)?(d0(`${s}//${a}${l}`),h0("Auth",!0)):i||DZ()}function F6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RZ(t){const e=F6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:gj(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:gj(a)}}}function gj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function MZ(t,e){return Ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Z(t,e){return vp(t,"POST","/v1/accounts:signInWithPassword",Is(t,e))}async function B6(t,e){return Ns(t,"POST","/v1/accounts:sendOobCode",Is(t,e))}async function LZ(t,e){return B6(t,e)}async function VZ(t,e){return B6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FZ(t,e){return vp(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}async function BZ(t,e){return vp(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends vA{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,n,"signInWithPassword",$Z,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return FZ(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,r,"signUpPassword",MZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return BZ(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e){return vp(t,"POST","/v1/accounts:signInWithIdp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ="http://localhost";class rl extends vA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=hA(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new rl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ec(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ec(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ec(e,n)}buildRequest(){const e={requestUri:UZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WZ(t){const e=Bd(Ud(t)).link,n=e?Bd(Ud(e)).deep_link_id:null,r=Bd(Ud(t)).deep_link_id;return(r?Bd(Ud(r)).link:null)||r||n||e||t}class xA{constructor(e){var n,r,i,s,a,o;const l=Bd(Ud(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=zZ((i=l.mode)!==null&&i!==void 0?i:null);xe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=WZ(e);try{return new xA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.providerId=$u.PROVIDER_ID}static credential(e,n){return hf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xA.parseLink(n);return xe(r,"argument-error"),hf._fromEmailAndCode(e,r.code,r.tenantId)}}$u.PROVIDER_ID="password";$u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends xp{constructor(){super("facebook.com")}static credential(e){return rl._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends xp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rl._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends xp{constructor(){super("github.com")}static credential(e){return rl._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends xp{constructor(){super("twitter.com")}static credential(e,n){return rl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ta.credential(n,r)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,e){return vp(t,"POST","/v1/accounts:signUp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await oi._fromIdTokenResponse(e,r,i),a=yj(r);return new il({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yj(r);return new il({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Kr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ky.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ky(e,n,r,i)}}function U6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ky._fromErrorAndOperation(t,s,e,r):s})}async function HZ(t,e,n=!1){const r=await df(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return il._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(rs(r));const i="reauthenticate";try{const s=await df(t,U6(r,i,e,t),n);xe(s.idToken,r,"internal-error");const a=gA(s.idToken);xe(a,r,"internal-error");const{sub:o}=a;return xe(t.uid===o,r,"user-mismatch"),il._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t,e,n=!1){if(Cn(t.app))return Promise.reject(rs(t));const r="signIn",i=await U6(t,r,e),s=await il._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function GZ(t,e){return z6(ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t,e,n){var r;xe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),xe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),xe(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(xe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(xe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t){const e=ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YZ(t,e,n){const r=ks(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&W6(r,i,n),await Ny(r,i,"getOobCode",VZ,"EMAIL_PASSWORD_PROVIDER")}async function H6(t,e,n){if(Cn(t.app))return Promise.reject(rs(t));const r=ks(t),a=await Ny(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qZ,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&q6(t),l}),o=await il._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function wA(t,e,n){return Cn(t.app)?Promise.reject(rs(t)):GZ(at(t),$u.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q6(t),r})}async function Yb(t,e){const n=at(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&W6(n.auth,i,e);const{email:s}=await LZ(n.auth,i);s!==t.email&&await t.reload()}function XZ(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function QZ(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function JZ(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}const Oy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oy,"1"),this.storage.removeItem(Oy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=1e3,eee=10;class G6 extends K6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);yZ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}G6.type="LOCAL";const tee=G6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6 extends K6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y6.type="SESSION";const X6=Y6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new V0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await nee(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}V0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=_A("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function iee(t){Ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function see(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oee(){return Q6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="firebaseLocalStorageDb",lee=1,jy="firebaseLocalStorage",Z6="fbase_key";class bp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function F0(t,e){return t.transaction([jy],e?"readwrite":"readonly").objectStore(jy)}function cee(){const t=indexedDB.deleteDatabase(J6);return new bp(t).toPromise()}function E_(){const t=indexedDB.open(J6,lee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jy,{keyPath:Z6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jy)?e(r):(r.close(),await cee(),e(await E_()))})})}async function vj(t,e,n){const r=F0(t,!0).put({[Z6]:e,value:n});return new bp(r).toPromise()}async function uee(t,e){const n=F0(t,!1).get(e),r=await new bp(n).toPromise();return r===void 0?null:r.value}function xj(t,e){const n=F0(t,!0).delete(e);return new bp(n).toPromise()}const dee=800,hee=3;class e5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=V0._getInstance(oee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await see(),!this.activeServiceWorker)return;this.sender=new ree(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E_();return await vj(e,Oy,"1"),await xj(e,Oy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=F0(i,!1).getAll();return new bp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e5.type="LOCAL";const fee=e5;new yp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e){return e?Xi(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends vA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ec(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ec(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pee(t){return z6(t.auth,new SA(t),t.bypassAuthState)}function mee(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),KZ(n,new SA(t),t.bypassAuthState)}async function gee(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),HZ(n,new SA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pee;case"linkViaPopup":case"linkViaRedirect":return gee;case"reauthViaPopup":case"reauthViaRedirect":return mee;default:qr(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee=new yp(2e3,1e4);async function vee(t,e,n){if(Cn(t.app))return Promise.reject(ui(t,"operation-not-supported-in-this-environment"));const r=ks(t);QJ(t,e,bA);const i=t5(r,n);return new Ao(r,"signInViaPopup",e,i).executeNotNull()}class Ao extends n5{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=_A();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yee.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee="pendingRedirect",_g=new Map;class bee extends n5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_g.get(this.auth._key());if(!e){try{const r=await wee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_g.set(this.auth._key(),e)}return this.bypassAuthState||_g.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wee(t,e){const n=Tee(e),r=See(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _ee(t,e){_g.set(t._key(),e)}function See(t){return Xi(t._redirectPersistence)}function Tee(t){return wg(xee,t.config.apiKey,t.name)}async function Eee(t,e,n=!1){if(Cn(t.app))return Promise.reject(rs(t));const r=ks(t),i=t5(r,e),a=await new bee(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee=10*60*1e3;class Pee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Iee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!r5(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Aee&&this.cachedEventUids.clear(),this.cachedEventUids.has(bj(e))}saveEventToCache(e){this.cachedEventUids.add(bj(e)),this.lastProcessedEventTime=Date.now()}}function bj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Iee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oee=/^https?/;async function jee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nee(t);for(const n of e)try{if(Cee(n))return}catch{}qr(t,"unauthorized-domain")}function Cee(t){const e=S_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Oee.test(n))return!1;if(kee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=new yp(3e4,6e4);function wj(){const t=Ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dee(t){return new Promise((e,n)=>{var r,i,s;function a(){wj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wj(),n(ui(t,"network-request-failed"))},timeout:Ree.get()})}if(!((i=(r=Ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ei().gapi)===null||s===void 0)&&s.load)a();else{const o=AZ("iframefcb");return Ei()[o]=()=>{gapi.load?a():n(ui(t,"network-request-failed"))},L6(`${EZ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Sg=null,e})}let Sg=null;function Mee(t){return Sg=Sg||Dee(t),Sg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee=new yp(5e3,15e3),Lee="__/auth/iframe",Vee="emulator/auth/iframe",Fee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uee(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mA(e,Vee):`https://${t.config.authDomain}/${Lee}`,r={apiKey:e.apiKey,appName:t.name,v:xl},i=Bee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${sp(r).slice(1)}`}async function zee(t){const e=await Mee(t),n=Ei().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:Uee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ui(t,"network-request-failed"),o=Ei().setTimeout(()=>{s(a)},$ee.get());function l(){Ei().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qee=500,Hee=600,Kee="_blank",Gee="http://localhost";class _j{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yee(t,e,n,r=qee,i=Hee){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Wee),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ut().toLowerCase();n&&(o=O6(c)?Kee:n),N6(c)&&(e=e||Gee,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(gZ(c)&&o!=="_self")return Xee(e||"",o),new _j(null);const h=window.open(e||"",o,d);xe(h,t,"popup-blocked");try{h.focus()}catch{}return new _j(h)}function Xee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee="__/auth/handler",Jee="emulator/auth/handler",Zee=encodeURIComponent("fac");async function Sj(t,e,n,r,i,s){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xl,eventId:i};if(e instanceof bA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",gK(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))a[d]=h}if(e instanceof xp){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),c=l?`#${Zee}=${encodeURIComponent(l)}`:"";return`${ete(t)}?${sp(o).slice(1)}${c}`}function ete({config:t}){return t.emulator?mA(t,Jee):`https://${t.authDomain}/${Qee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="webStorageSupport";class tte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X6,this._completeRedirectFn=Eee,this._overrideRedirectResult=_ee}async _openPopup(e,n,r,i){var s;ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Sj(e,n,r,S_(),i);return Yee(e,a,_A())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Sj(e,n,r,S_(),i);return iee(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ys(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zee(e),r=new Pee(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xb,{type:Xb},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xb];a!==void 0&&n(!!a),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M6()||k6()||yA()}}const nte=tte;var Tj="@firebase/auth",Ej="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ste(t){Wr(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;xe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$6(t)},c=new _Z(r,i,s,l);return jZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wr(new xr("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(r=>new rte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Tj,Ej,ite(t)),Sn(Tj,Ej,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=5*60,ote=U4("authIdTokenMaxAge")||ate;let Aj=null;const lte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ote)return;const i=n==null?void 0:n.token;Aj!==i&&(Aj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cte(t=Ou()){const e=Ts(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OZ(t,{popupRedirectResolver:nte,persistence:[fee,tee,X6]}),r=U4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=lte(s.toString());QZ(n,a,()=>a(n.currentUser)),XZ(n,o=>a(o))}}const i=F4("auth");return i&&CZ(n,`http://${i}`),n}function ute(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ute().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ste("Browser");const i5="@firebase/installations",TA="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=1e4,a5=`w:${TA}`,o5="FIS_v2",dte="https://firebaseinstallations.googleapis.com/v1",hte=60*60*1e3,fte="installations",pte="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sl=new vl(fte,pte,mte);function l5(t){return t instanceof Kr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5({projectId:t}){return`${dte}/projects/${t}/installations`}function u5(t){return{token:t.token,requestStatus:2,expiresIn:yte(t.expiresIn),creationTime:Date.now()}}async function d5(t,e){const r=(await e.json()).error;return sl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function h5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gte(t,{refreshToken:e}){const n=h5(t);return n.append("Authorization",vte(e)),n}async function f5(t){const e=await t();return e.status>=500&&e.status<600?t():e}function yte(t){return Number(t.replace("s","000"))}function vte(t){return`${o5} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=c5(t),i=h5(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={fid:n,authVersion:o5,appId:t.appId,sdkVersion:a5},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await f5(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:u5(c.authToken)}}else throw await d5("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte=/^[cdef][\w-]{21}$/,A_="";function _te(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Ste(t);return wte.test(n)?n:A_}catch{return A_}}function Ste(t){return bte(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Map;function g5(t,e){const n=B0(t);y5(n,e),Tte(n,e)}function y5(t,e){const n=m5.get(t);if(n)for(const r of n)r(e)}function Tte(t,e){const n=Ete();n&&n.postMessage({key:t,fid:e}),Ate()}let Po=null;function Ete(){return!Po&&"BroadcastChannel"in self&&(Po=new BroadcastChannel("[Firebase] FID Change"),Po.onmessage=t=>{y5(t.data.key,t.data.fid)}),Po}function Ate(){m5.size===0&&Po&&(Po.close(),Po=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte="firebase-installations-database",Ite=1,al="firebase-installations-store";let Qb=null;function EA(){return Qb||(Qb=Q4(Pte,Ite,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(al)}}})),Qb}async function Cy(t,e){const n=B0(t),i=(await EA()).transaction(al,"readwrite"),s=i.objectStore(al),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&g5(t,e.fid),e}async function v5(t){const e=B0(t),r=(await EA()).transaction(al,"readwrite");await r.objectStore(al).delete(e),await r.done}async function U0(t,e){const n=B0(t),i=(await EA()).transaction(al,"readwrite"),s=i.objectStore(al),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&g5(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(t){let e;const n=await U0(t.appConfig,r=>{const i=Nte(r),s=kte(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===A_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Nte(t){const e=t||{fid:_te(),registrationStatus:0};return x5(e)}function kte(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(sl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ote(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jte(t)}:{installationEntry:e}}async function Ote(t,e){try{const n=await xte(t,e);return Cy(t.appConfig,n)}catch(n){throw l5(n)&&n.customData.serverCode===409?await v5(t.appConfig):await Cy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jte(t){let e=await Pj(t.appConfig);for(;e.registrationStatus===1;)await p5(100),e=await Pj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await AA(t);return r||n}return e}function Pj(t){return U0(t,e=>{if(!e)throw sl.create("installation-not-found");return x5(e)})}function x5(t){return Cte(t)?{fid:t.fid,registrationStatus:0}:t}function Cte(t){return t.registrationStatus===1&&t.registrationTime+s5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rte({appConfig:t,heartbeatServiceProvider:e},n){const r=Dte(t,n),i=gte(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:a5,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await f5(()=>fetch(r,o));if(l.ok){const c=await l.json();return u5(c)}else throw await d5("Generate Auth Token",l)}function Dte(t,{fid:e}){return`${c5(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e=!1){let n;const r=await U0(t.appConfig,s=>{if(!b5(s))throw sl.create("not-registered");const a=s.authToken;if(!e&&Lte(a))return s;if(a.requestStatus===1)return n=Mte(t,e),s;{if(!navigator.onLine)throw sl.create("app-offline");const o=Fte(s);return n=$te(t,o),o}});return n?await n:r.authToken}async function Mte(t,e){let n=await Ij(t.appConfig);for(;n.authToken.requestStatus===1;)await p5(100),n=await Ij(t.appConfig);const r=n.authToken;return r.requestStatus===0?PA(t,e):r}function Ij(t){return U0(t,e=>{if(!b5(e))throw sl.create("not-registered");const n=e.authToken;return Bte(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function $te(t,e){try{const n=await Rte(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Cy(t.appConfig,r),n}catch(n){if(l5(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v5(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Cy(t.appConfig,r)}throw n}}function b5(t){return t!==void 0&&t.registrationStatus===2}function Lte(t){return t.requestStatus===2&&!Vte(t)}function Vte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hte}function Fte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Bte(t){return t.requestStatus===1&&t.requestTime+s5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ute(t){const e=t,{installationEntry:n,registrationPromise:r}=await AA(e);return r?r.catch(console.error):PA(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zte(t,e=!1){const n=t;return await Wte(n),(await PA(n,e)).token}async function Wte(t){const{registrationPromise:e}=await AA(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qte(t){if(!t||!t.options)throw Jb("App Configuration");if(!t.name)throw Jb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jb(t){return sl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="installations",Hte="installations-internal",Kte=t=>{const e=t.getProvider("app").getImmediate(),n=qte(e),r=Ts(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Gte=t=>{const e=t.getProvider("app").getImmediate(),n=Ts(e,w5).getImmediate();return{getId:()=>Ute(n),getToken:i=>zte(n,i)}};function Yte(){Wr(new xr(w5,Kte,"PUBLIC")),Wr(new xr(Hte,Gte,"PRIVATE"))}Yte();Sn(i5,TA);Sn(i5,TA,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="analytics",Xte="firebase_id",Qte="origin",Jte=60*1e3,Zte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",IA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new f0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pr=new vl("analytics","Analytics",ene);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tne(t){if(!t.startsWith(IA)){const e=pr.create("invalid-gtag-resource",{gtagURL:t});return Qn.warn(e.message),""}return t}function _5(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function rne(t,e){const n=nne("firebase-js-sdk-policy",{createScriptURL:tne}),r=document.createElement("script"),i=`${IA}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ine(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sne(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const l=(await _5(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Qn.error(o)}t("config",i,s)}async function ane(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await _5(n);for(const l of a){const c=o.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Qn.error(s)}}function one(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await ane(t,e,n,o,l)}else if(s==="config"){const[o,l]=a;await sne(t,e,n,r,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,c]=a;t("get",o,l,c)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){Qn.error(o)}}return i}function lne(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=one(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function cne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(IA)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une=30,dne=1e3;class hne{constructor(e={},n=dne){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const S5=new hne;function fne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function pne(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:fne(r)},s=Zte.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function mne(t,e=S5,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw pr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new vne;return setTimeout(async()=>{o.abort()},n!==void 0?n:Jte),T5({appId:r,apiKey:i,measurementId:s},a,o,e)}async function T5(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=S5){var s;const{appId:a,measurementId:o}=t;try{await gne(r,e)}catch(l){if(o)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await pne(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!yne(c)){if(i.deleteThrottleMetadata(a),o)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?Sk(n,i.intervalMillis,une):Sk(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),Qn.debug(`Calling attemptFetch again in ${d} millis`),T5(t,h,r,i)}}function gne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yne(t){if(!(t instanceof Kr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xne(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bne(){if(fE())try{await G4()}catch(t){return Qn.warn(pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Qn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wne(t,e,n,r,i,s,a){var o;const l=mne(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Qn.error(m)),e.push(l);const c=bne().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([l,c]);cne(s)||rne(s,d.measurementId),i("js",new Date);const f=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return f[Qte]="firebase",f.update=!0,h!=null&&(f[Xte]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(e){this.app=e}_delete(){return delete yh[this.app.options.appId],Promise.resolve()}}let yh={},Nj=[];const kj={};let Zb="dataLayer",Sne="gtag",Oj,E5,jj=!1;function Tne(){const t=[];if(q4()&&t.push("This is a browser extension environment."),hK()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=pr.create("invalid-analytics-context",{errorInfo:e});Qn.warn(n.message)}}function Ene(t,e,n){Tne();const r=t.options.appId;if(!r)throw pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pr.create("no-api-key");if(yh[r]!=null)throw pr.create("already-exists",{id:r});if(!jj){ine(Zb);const{wrappedGtag:s,gtagCore:a}=lne(yh,Nj,kj,Zb,Sne);E5=s,Oj=a,jj=!0}return yh[r]=wne(t,Nj,kj,e,Oj,Zb,n),new _ne(t)}function Ane(t=Ou()){t=at(t);const e=Ts(t,Ry);return e.isInitialized()?e.getImmediate():Pne(t)}function Pne(t,e={}){const n=Ts(t,Ry);if(n.isInitialized()){const i=n.getImmediate();if(Aa(e,n.getOptions()))return i;throw pr.create("already-initialized")}return n.initialize({options:e})}function Ine(t,e,n,r){t=at(t),xne(E5,yh[t.app.options.appId],e,n,r).catch(i=>Qn.error(i))}const Cj="@firebase/analytics",Rj="0.10.16";function Nne(){Wr(new xr(Ry,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Ene(r,i,n)},"PUBLIC")),Wr(new xr("analytics-internal",t,"PRIVATE")),Sn(Cj,Rj),Sn(Cj,Rj,"esm2017");function t(e){try{const n=e.getProvider(Ry).getImmediate();return{logEvent:(r,i,s)=>Ine(n,r,i,s)}}catch(n){throw pr.create("interop-component-reg-failed",{reason:n})}}}Nne();const kne={apiKey:"AIzaSyCLGymyQm9M2EBKQyrooYAYFEbSQwzHplU",authDomain:"otp-project-aafc6.firebaseapp.com",databaseURL:"https://otp-project-aafc6-default-rtdb.firebaseio.com",projectId:"otp-project-aafc6",storageBucket:"otp-project-aafc6.firebasestorage.app",messagingSenderId:"699242648878",appId:"1:699242648878:web:75c97e1bcd263091f296bf",measurementId:"G-2DTDTQ6B63"},wp=(()=>{try{return J4(kne)}catch(t){if(t.code==="app/duplicate-app")return Ou();throw console.error("Error initializing Firebase:",t),t}})();Ane(wp);fY(wp);const Je=cte(wp),We=jJ(wp);CJ(We).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")});const A5=new qi;A5.setCustomParameters({prompt:"select_account"});Je.authStateReady().then(()=>{console.log("Firebase Auth state ready")});LG(wp);const One=async t=>{try{return{orderId:"cf_order_"+Math.random().toString(36).substr(2,9),amount:t.amount,currency:t.currency,status:"created"}}catch(e){throw console.error("Error creating Cashfree payment:",e),e}},jne=({amount:t,currency:e,receipt:n,printJobs:r,shopId:i,onSuccess:s,onError:a})=>(j.useEffect(()=>{(async()=>{try{const l=document.createElement("script");l.src="https://sdk.cashfree.com/js/ui/2.0.0/cashfree.prod.js",l.async=!0,document.body.appendChild(l),l.onload=async()=>{try{const c=await One({amount:t,currency:e,receipt:n,notes:{printJobs:r,shopId:i}});console.log("Order from backend:",c);const h={orderToken:c.order_token||c.orderToken||c.orderId,orderNumber:c.orderId,appId:{}.VITE_CASHFREE_APP_ID||"TEST1234567890",orderAmount:c.amount,orderCurrency:c.currency,orderNote:"Print Job Payment",customerName:localStorage.getItem("userName")||"Customer",customerPhone:localStorage.getItem("userPhone")||"+919999999999",customerEmail:"customer@example.com",hideOrderId:!0,style:{backgroundColor:"#ffffff",color:"#11385b",fontFamily:"Lato",fontSize:"14px",errorColor:"#ff0000",theme:"light"},mode:"sandbox",onSuccess:f=>{s(f)},onFailure:f=>{a(f)}};console.log("Payment config:",h),window.Cashfree&&typeof window.Cashfree.checkout=="function"?window.Cashfree.checkout(h):(console.error("Cashfree SDK not loaded"),a("Cashfree SDK not loaded"))}catch(c){a(c)}}}catch(l){a(l)}})()},[t,e,n,r,i,s,a]),null),Cne=({items:t,onRemove:e,basePrice:n,isOpen:r,onClose:i,selectedShop:s,onShopSelect:a,shops:o})=>{const[l,c]=j.useState(!1),[d,h]=j.useState(!1),[f,m]=j.useState(null),[g,y]=j.useState(!1),[v,w]=j.useState(""),[b,x]=j.useState("");if(!r)return null;const A=t.reduce((k,O)=>k+O.copies,0),T=A*n,P=()=>{c(!0)},E=()=>{const k=Math.floor(1e3+Math.random()*9e3).toString(),O=`ORD-${Date.now()}`;return localStorage.setItem(`otp_${O}`,k),localStorage.setItem(`otp_${O}_timestamp`,Date.now().toString()),localStorage.setItem(`otp_${O}_customer_phone`,"+91 98765 43210"),localStorage.setItem(`otp_${O}_seller_phone`,"+91 87654 32109"),{otp:k,orderId:O}},S=k=>{console.log("Payment successful:",k);const{otp:O,orderId:C}=E();w(O),x(C),c(!1),y(!0),console.log(`OTP ${O} generated for order ${C}`),console.log("OTP sent to customer: +91 98765 43210"),console.log("OTP sent to seller: +91 87654 32109"),ee.success("Payment successful! OTP generated for order verification.")},I=k=>{console.error("Payment failed:",k),c(!1)};return VW.createPortal(u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50 p-0 sm:p-6",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-full md:max-w-2xl w-full max-h-[calc(100vh-32px)] sm:max-h-[90vh] flex flex-col overflow-hidden",children:[u.jsx("div",{className:"sticky top-0 bg-white z-10 px-4 py-3 border-b flex-shrink-0",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Your Cart"}),u.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-500","aria-label":"Close cart",children:u.jsx(vr,{className:"h-6 w-6"})})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 min-h-0 flex-grow",children:t.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"Your cart is empty"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-4 mb-6",children:t.map(k=>u.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-4 bg-gray-50 rounded-lg cursor-pointer",onClick:()=>{m(k.file),h(!0)},children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[k.file.type.startsWith("image/")?u.jsx(Rne,{file:k.file}):k.file.type==="application/pdf"?u.jsx(ny,{className:"h-6 w-6 text-red-600"}):u.jsx(ny,{className:"h-6 w-6 text-gray-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:k.file.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[k.copies," ",k.copies===1?"copy":"copies"," "," ",k.isColor?"Color":"B&W"]})]})]}),u.jsx("button",{onClick:O=>{O.stopPropagation(),e(k.id)},className:"text-red-600 hover:text-red-700",children:"Remove"})]},k.id))}),u.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Print Shop"}),u.jsx("div",{className:"space-y-4",children:o.map(k=>u.jsx("div",{className:`p-2 sm:p-4 border rounded-lg cursor-pointer ${(s==null?void 0:s.id)===k.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>a(k.id.toString()),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900",children:k.name}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mt-1",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(jn,{className:"h-4 w-4 mr-1"}),k.distance," km"]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(zr,{className:"h-4 w-4 mr-1"}),k.eta," min"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium text-gray-900",children:["",k.price.toFixed(2)]}),u.jsx("p",{className:"text-sm text-gray-500",children:"per page"})]})]})},k.id))})]}),u.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 pt-4 pb-4 px-3 sm:px-6 flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("span",{className:"text-gray-600",children:"Total Pages:"}),u.jsx("span",{className:"font-medium text-gray-900",children:A})]}),u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),u.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",T.toFixed(2)]})]}),s?u.jsx("button",{onClick:P,disabled:l,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:l?"Processing...":"Proceed to Checkout"}):u.jsx("p",{className:"text-center text-red-600",children:"Please select a print shop to continue"})]})]})}),l&&s&&u.jsx(jne,{amount:T,currency:"INR",receipt:`order_${Date.now()}`,printJobs:JSON.stringify(t),shopId:s.id.toString(),onSuccess:S,onError:I}),d&&f&&u.jsx(Dne,{file:f,onClose:()=>h(!1)}),g&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:u.jsx(Lr,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Successful!"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Your order is confirmed"})]})]}),u.jsx("button",{onClick:()=>{y(!1),i()},className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:u.jsx(vr,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("p",{className:"font-medium text-gray-900",children:["Order #",b]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total Amount: ",T.toFixed(2)]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Shop: ",s==null?void 0:s.name]})]})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[u.jsx(Rr,{className:"h-5 w-5 text-blue-600"}),u.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Verification Code"})]}),u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-4",children:[u.jsx("div",{className:"flex justify-center space-x-2 mb-3",children:v.split("").map((k,O)=>u.jsx("div",{className:"w-12 h-12 border-2 border-blue-300 bg-white rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-2xl font-bold text-blue-600",children:k})},O))}),u.jsx("p",{className:"text-sm text-blue-700",children:"Show this code to the seller for verification"})]}),u.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(v),ee.success("OTP copied to clipboard!")},className:"flex items-center justify-center space-x-2 mx-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(O4,{className:"h-4 w-4"}),u.jsx("span",{children:"Copy OTP"})]})]}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[u.jsx("h5",{className:"font-medium text-yellow-900 mb-2",children:"Important Instructions:"}),u.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[u.jsx("li",{children:" Both you and the seller have received the same OTP"}),u.jsx("li",{children:" Show this OTP to the seller when collecting your prints"}),u.jsx("li",{children:" The seller will verify this OTP to confirm your order"}),u.jsx("li",{children:" Keep this OTP safe until you collect your order"})]})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{y(!1),i()},className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"}),u.jsx("button",{onClick:()=>{y(!1),i(),ee.success("You can track your order in the Account section")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Track Order"})]})]})})]})}),document.getElementById("modal-root"))},Rne=({file:t})=>{const[e,n]=j.useState(null);return j.useEffect(()=>{const r=URL.createObjectURL(t);return n(r),()=>{URL.revokeObjectURL(r)}},[t]),e?u.jsx("img",{src:e,alt:"File preview",className:"h-10 w-10 object-cover rounded-md border border-gray-200"}):u.jsx(ki,{className:"h-6 w-6 text-blue-600"})},Dne=({file:t,onClose:e})=>{const[n,r]=j.useState(null);if(j.useEffect(()=>{const a=URL.createObjectURL(t);return r(a),()=>{URL.revokeObjectURL(a)}},[t]),!n)return null;const i=t.type.startsWith("image/"),s=t.type==="application/pdf";return u.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-full md:max-w-2xl w-full max-h-[90vh] flex flex-col mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Preview: ",t.name]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":"Close preview",children:u.jsx(vr,{className:"h-6 w-6"})})]}),u.jsxs("div",{className:"flex-grow overflow-hidden p-2 flex items-center justify-center",children:[i&&u.jsx("img",{src:n,alt:"File preview",className:"max-w-full max-h-full object-contain"}),s&&u.jsx("iframe",{src:n,title:"PDF preview",className:"w-full h-full border-none"}),!i&&!s&&u.jsx("p",{className:"text-gray-500",children:"No preview available for this file type."})]})]})})},P5=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),z0=j.createContext({}),W0=j.createContext(null),q0=typeof document<"u",NA=q0?j.useLayoutEffect:j.useEffect,I5=j.createContext({strict:!1}),kA=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Mne="framerAppearId",N5="data-"+kA(Mne);function $ne(t,e,n,r){const{visualElement:i}=j.useContext(z0),s=j.useContext(I5),a=j.useContext(W0),o=j.useContext(P5).reducedMotion,l=j.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;j.useInsertionEffect(()=>{c&&c.update(n,a)});const d=j.useRef(!!(n[N5]&&!window.HandoffComplete));return NA(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),j.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function oc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Lne(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):oc(n)&&(n.current=r))},[e])}function ff(t){return typeof t=="string"||Array.isArray(t)}function H0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const OA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jA=["initial",...OA];function K0(t){return H0(t.animate)||jA.some(e=>ff(t[e]))}function k5(t){return!!(K0(t)||t.variants)}function Vne(t,e){if(K0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ff(n)?n:void 0,animate:ff(r)?r:void 0}}return t.inherit!==!1?e:{}}function Fne(t){const{initial:e,animate:n}=Vne(t,j.useContext(z0));return j.useMemo(()=>({initial:e,animate:n}),[Dj(e),Dj(n)])}function Dj(t){return Array.isArray(t)?t.join(" "):t}const Mj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pf={};for(const t in Mj)pf[t]={isEnabled:e=>Mj[t].some(n=>!!e[n])};function Bne(t){for(const e in t)pf[e]={...pf[e],...t[e]}}const CA=j.createContext({}),O5=j.createContext({}),Une=Symbol.for("motionComponentSymbol");function zne({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Bne(t);function s(o,l){let c;const d={...j.useContext(P5),...o,layoutId:Wne(o)},{isStatic:h}=d,f=Fne(o),m=r(o,h);if(!h&&q0){f.visualElement=$ne(i,m,d,e);const g=j.useContext(O5),y=j.useContext(I5).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,y,t,g))}return j.createElement(z0.Provider,{value:f},c&&f.visualElement?j.createElement(c,{visualElement:f.visualElement,...d}):null,n(i,o,Lne(m,f.visualElement,l),m,h,f.visualElement))}const a=j.forwardRef(s);return a[Une]=i,a}function Wne({layoutId:t}){const e=j.useContext(CA).id;return e&&t!==void 0?e+"-"+t:t}function qne(t){function e(r,i={}){return zne(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Hne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RA(t){return typeof t!="string"||t.includes("-")?!1:!!(Hne.indexOf(t)>-1||/[A-Z]/.test(t))}const Dy={};function Kne(t){Object.assign(Dy,t)}const _p=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(_p);function j5(t,{layout:e,layoutId:n}){return _l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dy[t]||t==="opacity")}const Jn=t=>!!(t&&t.getVelocity),Gne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yne=_p.length;function Xne(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<Yne;a++){const o=_p[a];if(t[o]!==void 0){const l=Gne[o]||o;s+=`${l}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const C5=t=>e=>typeof e=="string"&&e.startsWith(t),R5=C5("--"),P_=C5("var(--"),Qne=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Jne=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Oa=(t,e,n)=>Math.min(Math.max(n,t),e),Sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vh={...Sl,transform:t=>Oa(0,1,t)},Im={...Sl,default:1},xh=t=>Math.round(t*1e5)/1e5,G0=/(-)?([\d]*\.?[\d])+/g,D5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Zne=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Sp(t){return typeof t=="string"}const Tp=t=>({test:e=>Sp(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ws=Tp("deg"),Ai=Tp("%"),Te=Tp("px"),ere=Tp("vh"),tre=Tp("vw"),$j={...Ai,parse:t=>Ai.parse(t)/100,transform:t=>Ai.transform(t*100)},Lj={...Sl,transform:Math.round},M5={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:Im,scaleX:Im,scaleY:Im,scaleZ:Im,skew:Ws,skewX:Ws,skewY:Ws,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:vh,originX:$j,originY:$j,originZ:Te,zIndex:Lj,fillOpacity:vh,strokeOpacity:vh,numOctaves:Lj};function DA(t,e,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=t;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if(R5(h)){s[h]=f;continue}const m=M5[h],g=Jne(f,m);if(_l.has(h)){if(l=!0,a[h]=g,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,o[h]=g):i[h]=g}if(e.transform||(l||r?i.transform=Xne(t.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${f} ${m}`}}const MA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $5(t,e,n){for(const r in e)!Jn(e[r])&&!j5(r,n)&&(t[r]=e[r])}function nre({transformTemplate:t},e,n){return j.useMemo(()=>{const r=MA();return DA(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function rre(t,e,n){const r=t.style||{},i={};return $5(i,r,t),Object.assign(i,nre(t,e,n)),t.transformValues?t.transformValues(i):i}function ire(t,e,n){const r={},i=rre(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const sre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function My(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sre.has(t)}let L5=t=>!My(t);function are(t){t&&(L5=e=>e.startsWith("on")?!My(e):t(e))}try{are(require("@emotion/is-prop-valid").default)}catch{}function ore(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(L5(i)||n===!0&&My(i)||!e&&!My(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Vj(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function lre(t,e,n){const r=Vj(e,t.x,t.width),i=Vj(n,t.y,t.height);return`${r} ${i}`}const cre={offset:"stroke-dashoffset",array:"stroke-dasharray"},ure={offset:"strokeDashoffset",array:"strokeDasharray"};function dre(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?cre:ure;t[s.offset]=Te.transform(-r);const a=Te.transform(e),o=Te.transform(n);t[s.array]=`${a} ${o}`}function $A(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,h,f){if(DA(t,c,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:y}=t;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=lre(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&dre(m,a,o,l,!1)}const V5=()=>({...MA(),attrs:{}}),LA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hre(t,e,n,r){const i=j.useMemo(()=>{const s=V5();return $A(s,e,{enableHardwareAcceleration:!1},LA(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};$5(s,t.style,t),i.style={...s,...i.style}}return i}function fre(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(RA(n)?hre:ire)(r,s,a,n),d={...ore(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=j.useMemo(()=>Jn(h)?h.get():h,[h]);return j.createElement(n,{...d,children:f})}}function F5(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const B5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function U5(t,e,n,r){F5(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(B5.has(i)?i:kA(i),e.attrs[i])}function VA(t,e){const{style:n}=t,r={};for(const i in n)(Jn(n[i])||e.style&&Jn(e.style[i])||j5(i,t))&&(r[i]=n[i]);return r}function z5(t,e){const n=VA(t,e);for(const r in t)if(Jn(t[r])||Jn(e[r])){const i=_p.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function FA(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function W5(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const $y=t=>Array.isArray(t),pre=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mre=t=>$y(t)?t[t.length-1]||0:t;function Tg(t){const e=Jn(t)?t.get():t;return pre(e)?e.toValue():e}function gre({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:yre(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const q5=t=>(e,n)=>{const r=j.useContext(z0),i=j.useContext(W0),s=()=>gre(t,e,r,i);return n?s():W5(s)};function yre(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Tg(s[f]);let{initial:a,animate:o}=t;const l=K0(t),c=k5(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;return h&&typeof h!="boolean"&&!H0(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const g=FA(t,m);if(!g)return;const{transitionEnd:y,transition:v,...w}=g;for(const b in w){let x=w[b];if(Array.isArray(x)){const A=d?x.length-1:0;x=x[A]}x!==null&&(i[b]=x)}for(const b in y)i[b]=y[b]}),i}const Pt=t=>t;class Fj{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function vre(t){let e=new Fj,n=new Fj,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const h=d&&i,f=h?e:n;return c&&a.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),a.has(d)&&(o.schedule(d),t())}i=!1,s&&(s=!1,o.process(l))}};return o}const Nm=["prepare","read","update","preRender","render","postRender"],xre=40;function bre(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Nm.reduce((h,f)=>(h[f]=vre(()=>n=!0),h),{}),a=h=>s[h].process(i),o=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,xre),1),i.timestamp=h,i.isProcessing=!0,Nm.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:Nm.reduce((h,f)=>{const m=s[f];return h[f]=(g,y=!1,v=!1)=>(n||l(),m.schedule(g,y,v)),h},{}),cancel:h=>Nm.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:it,cancel:vs,state:yn,steps:ew}=bre(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pt,!0),wre={useVisualState:q5({scrapeMotionValuesFromProps:z5,createRenderState:V5,onMount:(t,e,{renderState:n,latestValues:r})=>{it.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),it.render(()=>{$A(n,r,{enableHardwareAcceleration:!1},LA(e.tagName),t.transformTemplate),U5(e,n)})}})},_re={useVisualState:q5({scrapeMotionValuesFromProps:VA,createRenderState:MA})};function Sre(t,{forwardMotionProps:e=!1},n,r){return{...RA(t)?wre:_re,preloadedFeatures:n,useRender:fre(e),createVisualElement:r,Component:t}}function Qi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const H5=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Y0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Tre=t=>e=>H5(e)&&t(e,Y0(e));function is(t,e,n,r){return Qi(t,e,Tre(n),r)}const Ere=(t,e)=>n=>e(t(n)),wa=(...t)=>t.reduce(Ere);function K5(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Bj=K5("dragHorizontal"),Uj=K5("dragVertical");function G5(t){let e=!1;if(t==="y")e=Uj();else if(t==="x")e=Bj();else{const n=Bj(),r=Uj();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Y5(){const t=G5(!0);return t?(t(),!1):!0}class Ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}function zj(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||Y5())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&it.update(()=>o[r](s,a))};return is(t.current,n,i,{passive:!t.getProps()[r]})}class Are extends Ua{mount(){this.unmount=wa(zj(this.node,!0),zj(this.node,!1))}unmount(){}}class Pre extends Ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wa(Qi(this.node.current,"focus",()=>this.onFocus()),Qi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const X5=(t,e)=>e?t===e?!0:X5(t,e.parentElement):!1;function tw(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Y0(n))}class Ire extends Ua{constructor(){super(...arguments),this.removeStartListeners=Pt,this.removeEndListeners=Pt,this.removeAccessibleListeners=Pt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=is(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();it.update(()=>{!h&&!X5(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=is(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wa(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||tw("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&it.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Qi(this.node.current,"keyup",a),tw("down",(o,l)=>{this.startPress(o,l)})},n=Qi(this.node.current,"keydown",e),r=()=>{this.isPressing&&tw("cancel",(s,a)=>this.cancelPress(s,a))},i=Qi(this.node.current,"blur",r);this.removeAccessibleListeners=wa(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&it.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Y5()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&it.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=is(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Qi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wa(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const I_=new WeakMap,nw=new WeakMap,Nre=t=>{const e=I_.get(t.target);e&&e(t)},kre=t=>{t.forEach(Nre)};function Ore({root:t,...e}){const n=t||document;nw.has(n)||nw.set(n,{});const r=nw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(kre,{root:t,...e})),r[i]}function jre(t,e,n){const r=Ore(e);return I_.set(t,n),r.observe(t),()=>{I_.delete(t),r.unobserve(t)}}const Cre={some:0,all:1};class Rre extends Ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Cre[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return jre(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dre(e,n))&&this.startObserver()}unmount(){}}function Dre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Mre={inView:{Feature:Rre},tap:{Feature:Ire},focus:{Feature:Pre},hover:{Feature:Are}};function Q5(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function $re(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Lre(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function X0(t,e,n){const r=t.getProps();return FA(r,e,n!==void 0?n:r.custom,$re(t),Lre(t))}let Vre=Pt,BA=Pt;const _a=t=>t*1e3,ss=t=>t/1e3,Fre={current:!1},J5=t=>Array.isArray(t)&&typeof t[0]=="number";function Z5(t){return!!(!t||typeof t=="string"&&eF[t]||J5(t)||Array.isArray(t)&&t.every(Z5))}const Gd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gd([0,.65,.55,1]),circOut:Gd([.55,0,1,.45]),backIn:Gd([.31,.01,.66,-.59]),backOut:Gd([.33,1.53,.69,.99])};function tF(t){if(t)return J5(t)?Gd(t):Array.isArray(t)?t.map(tF):eF[t]}function Bre(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=tF(o);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function Ure(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const nF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zre=1e-7,Wre=12;function qre(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=nF(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>zre&&++o<Wre);return a}function Ep(t,e,n,r){if(t===e&&n===r)return Pt;const i=s=>qre(s,0,1,t,n);return s=>s===0||s===1?s:nF(i(s),e,r)}const Hre=Ep(.42,0,1,1),Kre=Ep(0,0,.58,1),rF=Ep(.42,0,.58,1),Gre=t=>Array.isArray(t)&&typeof t[0]!="number",iF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sF=t=>e=>1-t(1-e),UA=t=>1-Math.sin(Math.acos(t)),aF=sF(UA),Yre=iF(UA),oF=Ep(.33,1.53,.69,.99),zA=sF(oF),Xre=iF(zA),Qre=t=>(t*=2)<1?.5*zA(t):.5*(2-Math.pow(2,-10*(t-1))),Jre={linear:Pt,easeIn:Hre,easeInOut:rF,easeOut:Kre,circIn:UA,circInOut:Yre,circOut:aF,backIn:zA,backInOut:Xre,backOut:oF,anticipate:Qre},Wj=t=>{if(Array.isArray(t)){BA(t.length===4);const[e,n,r,i]=t;return Ep(e,n,r,i)}else if(typeof t=="string")return Jre[t];return t},WA=(t,e)=>n=>!!(Sp(n)&&Zne.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),lF=(t,e,n)=>r=>{if(!Sp(r))return r;const[i,s,a,o]=r.match(G0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Zre=t=>Oa(0,255,t),rw={...Sl,transform:t=>Math.round(Zre(t))},Io={test:WA("rgb","red"),parse:lF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rw.transform(t)+", "+rw.transform(e)+", "+rw.transform(n)+", "+xh(vh.transform(r))+")"};function eie(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const N_={test:WA("#"),parse:eie,transform:Io.transform},lc={test:WA("hsl","hue"),parse:lF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ai.transform(xh(e))+", "+Ai.transform(xh(n))+", "+xh(vh.transform(r))+")"},kn={test:t=>Io.test(t)||N_.test(t)||lc.test(t),parse:t=>Io.test(t)?Io.parse(t):lc.test(t)?lc.parse(t):N_.parse(t),transform:t=>Sp(t)?t:t.hasOwnProperty("red")?Io.transform(t):lc.transform(t)},xt=(t,e,n)=>-n*t+n*e+t;function iw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=iw(l,o,t+1/3),s=iw(l,o,t),a=iw(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const sw=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},nie=[N_,Io,lc],rie=t=>nie.find(e=>e.test(t));function qj(t){const e=rie(t);let n=e.parse(t);return e===lc&&(n=tie(n)),n}const cF=(t,e)=>{const n=qj(t),r=qj(e),i={...n};return s=>(i.red=sw(n.red,r.red,s),i.green=sw(n.green,r.green,s),i.blue=sw(n.blue,r.blue,s),i.alpha=xt(n.alpha,r.alpha,s),Io.transform(i))};function iie(t){var e,n;return isNaN(t)&&Sp(t)&&(((e=t.match(G0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(D5))===null||n===void 0?void 0:n.length)||0)>0}const uF={regex:Qne,countKey:"Vars",token:"${v}",parse:Pt},dF={regex:D5,countKey:"Colors",token:"${c}",parse:kn.parse},hF={regex:G0,countKey:"Numbers",token:"${n}",parse:Sl.parse};function aw(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Ly(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&aw(n,uF),aw(n,dF),aw(n,hF),n}function fF(t){return Ly(t).values}function pF(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Ly(t),s=e.length;return a=>{let o=i;for(let l=0;l<s;l++)l<r?o=o.replace(uF.token,a[l]):l<r+n?o=o.replace(dF.token,kn.transform(a[l])):o=o.replace(hF.token,xh(a[l]));return o}}const sie=t=>typeof t=="number"?0:t;function aie(t){const e=fF(t);return pF(t)(e.map(sie))}const ja={test:iie,parse:fF,createTransformer:pF,getAnimatableNone:aie},mF=(t,e)=>n=>`${n>0?e:t}`;function gF(t,e){return typeof t=="number"?n=>xt(t,e,n):kn.test(t)?cF(t,e):t.startsWith("var(")?mF(t,e):vF(t,e)}const yF=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,a)=>gF(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}},oie=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=gF(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},vF=(t,e)=>{const n=ja.createTransformer(e),r=Ly(t),i=Ly(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wa(yF(r.values,i.values),n):mF(t,e)},mf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Hj=(t,e)=>n=>xt(t,e,n);function lie(t){return typeof t=="number"?Hj:typeof t=="string"?kn.test(t)?cF:vF:Array.isArray(t)?yF:typeof t=="object"?oie:Hj}function cie(t,e,n){const r=[],i=n||lie(t[0]),s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Pt:e;o=wa(l,o)}r.push(o)}return r}function xF(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(BA(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=cie(e,r,i),o=a.length,l=c=>{let d=0;if(o>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=mf(t[d],t[d+1],c);return a[d](h)};return n?c=>l(Oa(t[0],t[s-1],c)):l}function uie(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mf(0,e,r);t.push(xt(n,1,i))}}function die(t){const e=[0];return uie(e,t.length-1),e}function hie(t,e){return t.map(n=>n*e)}function fie(t,e){return t.map(()=>e||rF).splice(0,t.length-1)}function Vy({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Gre(r)?r.map(Wj):Wj(r),s={done:!1,value:e[0]},a=hie(n&&n.length===e.length?n:die(e),t),o=xF(a,e,{ease:Array.isArray(i)?i:fie(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}function bF(t,e){return e?t*(1e3/e):0}const pie=5;function wF(t,e,n){const r=Math.max(e-pie,0);return bF(n-t(r),e-r)}const ow=.001,mie=.01,Kj=10,gie=.05,yie=1;function vie({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;Vre(t<=_a(Kj));let a=1-e;a=Oa(gie,yie,a),t=Oa(mie,Kj,ss(t)),a<1?(i=c=>{const d=c*a,h=d*t,f=d-n,m=k_(c,a),g=Math.exp(-h);return ow-f/m*g},s=c=>{const h=c*a*t,f=h*n+n,m=Math.pow(a,2)*Math.pow(c,2)*t,g=Math.exp(-h),y=k_(Math.pow(c,2),a);return(-i(c)+ow>0?-1:1)*((f-m)*g)/y}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-ow+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const o=5/t,l=bie(i,s,o);if(t=_a(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const xie=12;function bie(t,e,n){let r=n;for(let i=1;i<xie;i++)r=r-t(r)/e(r);return r}function k_(t,e){return t*Math.sqrt(1-e*e)}const wie=["duration","bounce"],_ie=["stiffness","damping","mass"];function Gj(t,e){return e.some(n=>t[n]!==void 0)}function Sie(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Gj(t,_ie)&&Gj(t,wie)){const n=vie(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function _F({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=Sie({...r,velocity:-ss(r.velocity||0)}),m=h||0,g=l/(2*Math.sqrt(o*c)),y=s-i,v=ss(Math.sqrt(o/c)),w=Math.abs(y)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let b;if(g<1){const x=k_(v,g);b=A=>{const T=Math.exp(-g*v*A);return s-T*((m+g*v*y)/x*Math.sin(x*A)+y*Math.cos(x*A))}}else if(g===1)b=x=>s-Math.exp(-v*x)*(y+(m+v*y)*x);else{const x=v*Math.sqrt(g*g-1);b=A=>{const T=Math.exp(-g*v*A),P=Math.min(x*A,300);return s-T*((m+g*v*y)*Math.sinh(P)+x*y*Math.cosh(P))/x}}return{calculatedDuration:f&&d||null,next:x=>{const A=b(x);if(f)a.done=x>=d;else{let T=m;x!==0&&(g<1?T=wF(b,x,A):T=0);const P=Math.abs(T)<=n,E=Math.abs(s-A)<=e;a.done=P&&E}return a.value=a.done?s:A,a}}}function Yj({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>o!==void 0&&S<o||l!==void 0&&S>l,g=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let y=n*e;const v=h+y,w=a===void 0?v:a(v);w!==v&&(y=w-h);const b=S=>-y*Math.exp(-S/r),x=S=>w+b(S),A=S=>{const I=b(S),k=x(S);f.done=Math.abs(I)<=c,f.value=f.done?w:k};let T,P;const E=S=>{m(f.value)&&(T=S,P=_F({keyframes:[f.value,g(f.value)],velocity:wF(x,S,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return E(0),{calculatedDuration:null,next:S=>{let I=!1;return!P&&T===void 0&&(I=!0,A(S),E(S)),T!==void 0&&S>T?P.next(S-T):(!I&&A(S),f)}}}const Tie=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>vs(e),now:()=>yn.isProcessing?yn.timestamp:performance.now()}},Xj=2e4;function Qj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xj;)e+=n,r=t.next(e);return e>=Xj?1/0:e}const Eie={decay:Yj,inertia:Yj,tween:Vy,keyframes:Vy,spring:_F};function Fy({autoplay:t=!0,delay:e=0,driver:n=Tie,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...f}){let m=1,g=!1,y,v;const w=()=>{v=new Promise(te=>{y=te})};w();let b;const x=Eie[i]||Vy;let A;x!==Vy&&typeof r[0]!="number"&&(A=xF([0,100],r,{clamp:!1}),r=[0,100]);const T=x({...f,keyframes:r});let P;o==="mirror"&&(P=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let E="idle",S=null,I=null,k=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=Qj(T));const{calculatedDuration:O}=T;let C=1/0,R=1/0;O!==null&&(C=O+a,R=C*(s+1)-a);let F=0;const B=te=>{if(I===null)return;m>0&&(I=Math.min(I,te)),m<0&&(I=Math.min(te-R/m,I)),S!==null?F=S:F=Math.round(te-I)*m;const Z=F-e*(m>=0?1:-1),ne=m>=0?Z<0:Z>R;F=Math.max(Z,0),E==="finished"&&S===null&&(F=R);let G=F,W=T;if(s){const se=Math.min(F,R)/C;let de=Math.floor(se),V=se%1;!V&&se>=1&&(V=1),V===1&&de--,de=Math.min(de,s+1),!!(de%2)&&(o==="reverse"?(V=1-V,a&&(V-=a/C)):o==="mirror"&&(W=P)),G=Oa(0,1,V)*C}const ce=ne?{done:!1,value:r[0]}:W.next(G);A&&(ce.value=A(ce.value));let{done:me}=ce;!ne&&O!==null&&(me=m>=0?F>=R:F<=0);const $e=S===null&&(E==="finished"||E==="running"&&me);return h&&h(ce.value),$e&&L(),ce},H=()=>{b&&b.stop(),b=void 0},Y=()=>{E="idle",H(),y(),w(),I=k=null},L=()=>{E="finished",d&&d(),H(),y()},q=()=>{if(g)return;b||(b=n(B));const te=b.now();l&&l(),S!==null?I=te-S:(!I||E==="finished")&&(I=te),E==="finished"&&w(),k=I,S=null,E="running",b.start()};t&&q();const X={then(te,Z){return v.then(te,Z)},get time(){return ss(F)},set time(te){te=_a(te),F=te,S!==null||!b||m===0?S=te:I=b.now()-te/m},get duration(){const te=T.calculatedDuration===null?Qj(T):T.calculatedDuration;return ss(te)},get speed(){return m},set speed(te){te===m||!b||(m=te,X.time=ss(F))},get state(){return E},play:q,pause:()=>{E="paused",S=F},stop:()=>{g=!0,E!=="idle"&&(E="idle",c&&c(),Y())},cancel:()=>{k!==null&&B(k),Y()},complete:()=>{E="finished"},sample:te=>(I=0,B(te))};return X}function Aie(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pie=Aie(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Iie=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),km=10,Nie=2e4,kie=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Z5(e.ease);function Oie(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Pie()&&Iie.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const d=()=>{l=new Promise(x=>{o=x})};d();let{keyframes:h,duration:f=300,ease:m,times:g}=i;if(kie(e,i)){const x=Fy({...i,repeat:0,delay:0});let A={done:!1,value:h[0]};const T=[];let P=0;for(;!A.done&&P<Nie;)A=x.sample(P),T.push(A.value),P+=km;g=void 0,h=T,f=P-km,m="linear"}const y=Bre(t.owner.current,e,h,{...i,duration:f,ease:m,times:g}),v=()=>{c=!1,y.cancel()},w=()=>{c=!0,it.update(v),o(),d()};return y.onfinish=()=>{c||(t.set(Ure(h,i)),r&&r(),w())},{then(x,A){return l.then(x,A)},attachTimeline(x){return y.timeline=x,y.onfinish=null,Pt},get time(){return ss(y.currentTime||0)},set time(x){y.currentTime=_a(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return ss(f)},play:()=>{a||(y.play(),vs(v))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const A=Fy({...i,autoplay:!1});t.setWithVelocity(A.sample(x-km).value,A.sample(x).value,km)}w()},complete:()=>{c||y.finish()},cancel:w}}function jie({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Pt,pause:Pt,stop:Pt,then:s=>(s(),Promise.resolve()),cancel:Pt,complete:Pt});return e?Fy({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Cie={type:"spring",stiffness:500,damping:25,restSpeed:10},Rie=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Die={type:"keyframes",duration:.8},Mie={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$ie=(t,{keyframes:e})=>e.length>2?Die:_l.has(t)?t.startsWith("scale")?Rie(e[1]):Cie:Mie,O_=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ja.test(e)||e==="0")&&!e.startsWith("url(")),Lie=new Set(["brightness","contrast","saturate","opacity"]);function Vie(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(G0)||[];if(!r)return t;const i=n.replace(r,"");let s=Lie.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Fie=/([a-z-]*)\(.*?\)/g,j_={...ja,getAnimatableNone:t=>{const e=t.match(Fie);return e?e.map(Vie).join(" "):t}},Bie={...M5,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:j_,WebkitFilter:j_},qA=t=>Bie[t];function SF(t,e){let n=qA(t);return n!==j_&&(n=ja),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const TF=t=>/^0[^.\s]+$/.test(t);function Uie(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||TF(t)}function zie(t,e,n,r){const i=O_(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const a=r.from!==void 0?r.from:t.get();let o;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?a:s[c-1]),Uie(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];s[d]=SF(e,o)}return s}function Wie({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function HA(t,e){return t[e]||t.default||t}const qie={skipAnimations:!1},KA=(t,e,n,r={})=>i=>{const s=HA(r,t)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o=o-_a(a);const l=zie(e,t,n,s),c=l[0],d=l[l.length-1],h=O_(t,c),f=O_(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Wie(s)||(m={...m,...$ie(t,m)}),m.duration&&(m.duration=_a(m.duration)),m.repeatDelay&&(m.repeatDelay=_a(m.repeatDelay)),!h||!f||Fre.current||s.type===!1||qie.skipAnimations)return jie(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=Oie(e,t,m);if(g)return g}return Fy(m)};function By(t){return!!(Jn(t)&&t.add)}const EF=t=>/^\-?\d*\.?\d+$/.test(t);function GA(t,e){t.indexOf(e)===-1&&t.push(e)}function YA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class XA{constructor(){this.subscriptions=[]}add(e){return GA(this.subscriptions,e),()=>YA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hie=t=>!isNaN(parseFloat(t));class Kie{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=yn;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,it.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>it.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Hie(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new XA);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jc(t,e){return new Kie(t,e)}const AF=t=>e=>e.test(t),Gie={test:t=>t==="auto",parse:t=>t},PF=[Sl,Te,Ai,Ws,tre,ere,Gie],Td=t=>PF.find(AF(t)),Yie=[...PF,kn,ja],Xie=t=>Yie.find(AF(t));function Qie(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jc(n))}function Jie(t,e){const n=X0(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){const o=mre(s[a]);Qie(t,a,o)}}function Zie(t,e,n){var r,i;const s=Object.keys(e).filter(o=>!t.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const l=s[o],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(EF(d)||TF(d))?d=parseFloat(d):!Xie(d)&&ja.test(c)&&(d=SF(l,c)),t.addValue(l,Jc(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function ese(t,e){return e?(e[t]||e.default||e).from:void 0}function tse(t,e,n){const r={};for(const i in t){const s=ese(i,e);if(s!==void 0)r[i]=s;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function nse({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rse(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function IF(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const f=t.getValue(h),m=o[h];if(!f||m===void 0||d&&nse(d,h))continue;const g={delay:n,elapsed:0,...HA(s||{},h)};if(window.HandoffAppearAnimations){const w=t.getProps()[N5];if(w){const b=window.HandoffAppearAnimations(w,h,f,it);b!==null&&(g.elapsed=b,g.isHandoff=!0)}}let y=!g.isHandoff&&!rse(f,m);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(KA(h,f,m,t.shouldReduceMotion&&_l.has(h)?{type:!1}:g));const v=f.animation;By(l)&&(l.add(h),v.then(()=>l.remove(h))),c.push(v)}return a&&Promise.all(c).then(()=>{a&&Jie(t,a)}),c}function C_(t,e,n={}){const r=X0(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(IF(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return ise(t,e,c+l,d,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function ise(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(sse).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(C_(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function sse(t,e){return t.sortNodePosition(e)}function ase(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>C_(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=C_(t,e,n);else{const i=typeof e=="function"?X0(t,e,n.custom):e;r=Promise.all(IF(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const ose=[...OA].reverse(),lse=OA.length;function cse(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ase(t,n,r)))}function use(t){let e=cse(t);const n=hse();let r=!0;const i=(l,c)=>{const d=X0(t,c);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function a(l,c){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let g={},y=1/0;for(let w=0;w<lse;w++){const b=ose[w],x=n[b],A=d[b]!==void 0?d[b]:h[b],T=ff(A),P=b===c?x.isActive:null;P===!1&&(y=w);let E=A===h[b]&&A!==d[b]&&T;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...g},!x.isActive&&P===null||!A&&!x.prevProp||H0(A)||typeof A=="boolean")continue;let I=dse(x.prevProp,A)||b===c&&x.isActive&&!E&&T||w>y&&T,k=!1;const O=Array.isArray(A)?A:[A];let C=O.reduce(i,{});P===!1&&(C={});const{prevResolvedValues:R={}}=x,F={...R,...C},B=H=>{I=!0,m.has(H)&&(k=!0,m.delete(H)),x.needsAnimating[H]=!0};for(const H in F){const Y=C[H],L=R[H];if(g.hasOwnProperty(H))continue;let q=!1;$y(Y)&&$y(L)?q=!Q5(Y,L):q=Y!==L,q?Y!==void 0?B(H):m.add(H):Y!==void 0&&m.has(H)?B(H):x.protectedKeys[H]=!0}x.prevProp=A,x.prevResolvedValues=C,x.isActive&&(g={...g,...C}),r&&t.blockInitialAnimation&&(I=!1),I&&(!E||k)&&f.push(...O.map(H=>({animation:H,options:{type:b,...l}})))}if(m.size){const w={};m.forEach(b=>{const x=t.getBaseTarget(b);x!==void 0&&(w[b]=x)}),f.push({animation:w})}let v=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function o(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const f=a(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function dse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Q5(e,t):!1}function Ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hse(){return{animate:Ja(!0),whileInView:Ja(),whileHover:Ja(),whileTap:Ja(),whileDrag:Ja(),whileFocus:Ja(),exit:Ja()}}class fse extends Ua{constructor(e){super(e),e.animationState||(e.animationState=use(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),H0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let pse=0;class mse extends Ua{constructor(){super(...arguments),this.id=pse++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gse={animation:{Feature:fse},exit:{Feature:mse}},Jj=(t,e)=>Math.abs(t-e);function yse(t,e){const n=Jj(t.x,e.x),r=Jj(t.y,e.y);return Math.sqrt(n**2+r**2)}class NF{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=cw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=yse(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=h,{timestamp:y}=yn;this.history.push({...g,timestamp:y});const{onStart:v,onMove:w}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=lw(f,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=cw(h.type==="pointercancel"?this.lastMoveEventInfo:lw(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,v),g&&g(h,v)},!H5(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Y0(e),o=lw(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=yn;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,cw(o,this.history)),this.removeListeners=wa(is(this.contextWindow,"pointermove",this.handlePointerMove),is(this.contextWindow,"pointerup",this.handlePointerUp),is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vs(this.updatePoint)}}function lw(t,e){return e?{point:e(t.point)}:t}function Zj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cw({point:t},e){return{point:t,delta:Zj(t,kF(e)),offset:Zj(t,vse(e)),velocity:xse(e,.1)}}function vse(t){return t[0]}function kF(t){return t[t.length-1]}function xse(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=kF(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_a(e)));)n--;if(!r)return{x:0,y:0};const s=ss(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function wr(t){return t.max-t.min}function R_(t,e=0,n=.01){return Math.abs(t-e)<=n}function eC(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=wr(n)/wr(e),(R_(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(R_(t.translate)||isNaN(t.translate))&&(t.translate=0)}function bh(t,e,n,r){eC(t.x,e.x,n.x,r?r.originX:void 0),eC(t.y,e.y,n.y,r?r.originY:void 0)}function tC(t,e,n){t.min=n.min+e.min,t.max=t.min+wr(e)}function bse(t,e,n){tC(t.x,e.x,n.x),tC(t.y,e.y,n.y)}function nC(t,e,n){t.min=e.min-n.min,t.max=t.min+wr(e)}function wh(t,e,n){nC(t.x,e.x,n.x),nC(t.y,e.y,n.y)}function wse(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function rC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _se(t,{top:e,left:n,bottom:r,right:i}){return{x:rC(t.x,n,i),y:rC(t.y,e,r)}}function iC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Sse(t,e){return{x:iC(t.x,e.x),y:iC(t.y,e.y)}}function Tse(t,e){let n=.5;const r=wr(t),i=wr(e);return i>r?n=mf(e.min,e.max-r,t.min):r>i&&(n=mf(t.min,t.max-i,e.min)),Oa(0,1,n)}function Ese(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const D_=.35;function Ase(t=D_){return t===!1?t=0:t===!0&&(t=D_),{x:sC(t,"left","right"),y:sC(t,"top","bottom")}}function sC(t,e,n){return{min:aC(t,e),max:aC(t,n)}}function aC(t,e){return typeof t=="number"?t:t[e]||0}const oC=()=>({translate:0,scale:1,origin:0,originPoint:0}),cc=()=>({x:oC(),y:oC()}),lC=()=>({min:0,max:0}),kt=()=>({x:lC(),y:lC()});function Nr(t){return[t("x"),t("y")]}function OF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Pse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ise(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uw(t){return t===void 0||t===1}function M_({scale:t,scaleX:e,scaleY:n}){return!uw(t)||!uw(e)||!uw(n)}function co(t){return M_(t)||jF(t)||t.z||t.rotate||t.rotateX||t.rotateY}function jF(t){return cC(t.x)||cC(t.y)}function cC(t){return t&&t!=="0%"}function Uy(t,e,n){const r=t-n,i=e*r;return n+i}function uC(t,e,n,r,i){return i!==void 0&&(t=Uy(t,i,r)),Uy(t,n,r)+e}function $_(t,e=0,n=1,r,i){t.min=uC(t.min,e,n,r,i),t.max=uC(t.max,e,n,r,i)}function CF(t,{x:e,y:n}){$_(t.x,e.translate,e.scale,e.originPoint),$_(t.y,n.translate,n.scale,n.originPoint)}function Nse(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,CF(t,a)),r&&co(s.latestValues)&&uc(t,s.latestValues))}e.x=dC(e.x),e.y=dC(e.y)}function dC(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ks(t,e){t.min=t.min+e,t.max=t.max+e}function hC(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,a=xt(t.min,t.max,s);$_(t,e[n],e[r],a,e.scale)}const kse=["x","scaleX","originX"],Ose=["y","scaleY","originY"];function uc(t,e){hC(t.x,e,kse),hC(t.y,e,Ose)}function RF(t,e){return OF(Ise(t.getBoundingClientRect(),e))}function jse(t,e,n){const r=RF(t,n),{scroll:i}=e;return i&&(Ks(r.x,i.offset.x),Ks(r.y,i.offset.y)),r}const DF=({current:t})=>t?t.ownerDocument.defaultView:null,Cse=new WeakMap;class Rse{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Y0(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:g}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=G5(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Ai.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[v];x&&(w=wr(x)*(parseFloat(w)/100))}}this.originPoint[v]=w}),g&&it.update(()=>g(d,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:v}=h;if(m&&this.currentDirection===null){this.currentDirection=Dse(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(d,h)},o=(d,h)=>this.stop(d,h),l=()=>Nr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new NF(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:DF(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&it.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Om(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=wse(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&oc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_se(i.layoutBox,n):this.constraints=!1,this.elastic=Ase(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Nr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=Ese(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jse(r,i.root,this.visualElement.getTransformPagePoint());let a=Sse(i.layout.layoutBox,s);if(n){const o=n(Pse(a));this.hasMutatedConstraints=!!o,o&&(a=OF(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Nr(d=>{if(!Om(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(KA(e,r,0,n))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nr(n=>{const{drag:r}=this.getProps();if(!Om(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-xt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Nr(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();i[a]=Tse({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nr(a=>{if(!Om(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(xt(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Cse.set(this.visualElement,this);const e=this.visualElement.current,n=is(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();oc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=Qi(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=D_,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Om(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Dse(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Mse extends Ua{constructor(e){super(e),this.removeGroupControls=Pt,this.removeListeners=Pt,this.controls=new Rse(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const fC=t=>(e,n)=>{t&&it.update(()=>t(e,n))};class $se extends Ua{constructor(){super(...arguments),this.removePointerDownListener=Pt}onPointerDown(e){this.session=new NF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fC(e),onStart:fC(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&it.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=is(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Lse(){const t=j.useContext(W0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=j.useId();return j.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ed={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=pC(t,e.target.x),r=pC(t,e.target.y);return`${n}% ${r}%`}},Vse={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ja.parse(t);if(i.length>5)return r;const s=ja.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=xt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class Fse extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Kne(Bse),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||it.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MF(t){const[e,n]=Lse(),r=j.useContext(CA);return $.createElement(Fse,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(O5),isPresent:e,safeToRemove:n})}const Bse={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:Vse},$F=["TopLeft","TopRight","BottomLeft","BottomRight"],Use=$F.length,mC=t=>typeof t=="string"?parseFloat(t):t,gC=t=>typeof t=="number"||Te.test(t);function zse(t,e,n,r,i,s){i?(t.opacity=xt(0,n.opacity!==void 0?n.opacity:1,Wse(r)),t.opacityExit=xt(e.opacity!==void 0?e.opacity:1,0,qse(r))):s&&(t.opacity=xt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<Use;a++){const o=`border${$F[a]}Radius`;let l=yC(e,o),c=yC(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||gC(l)===gC(c)?(t[o]=Math.max(xt(mC(l),mC(c),r),0),(Ai.test(c)||Ai.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function yC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wse=LF(0,.5,aF),qse=LF(.5,.95,Pt);function LF(t,e,n){return r=>r<t?0:r>e?1:n(mf(t,e,r))}function vC(t,e){t.min=e.min,t.max=e.max}function Er(t,e){vC(t.x,e.x),vC(t.y,e.y)}function xC(t,e,n,r,i){return t-=e,t=Uy(t,1/n,r),i!==void 0&&(t=Uy(t,1/i,r)),t}function Hse(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ai.test(e)&&(e=parseFloat(e),e=xt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=xt(s.min,s.max,r);t===s&&(o-=e),t.min=xC(t.min,e,n,o,i),t.max=xC(t.max,e,n,o,i)}function bC(t,e,[n,r,i],s,a){Hse(t,e[n],e[r],e[i],e.scale,s,a)}const Kse=["x","scaleX","originX"],Gse=["y","scaleY","originY"];function wC(t,e,n,r){bC(t.x,e,Kse,n?n.x:void 0,r?r.x:void 0),bC(t.y,e,Gse,n?n.y:void 0,r?r.y:void 0)}function _C(t){return t.translate===0&&t.scale===1}function VF(t){return _C(t.x)&&_C(t.y)}function Yse(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function FF(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function SC(t){return wr(t.x)/wr(t.y)}class Xse{constructor(){this.members=[]}add(e){GA(this.members,e),e.scheduleRender()}remove(e){if(YA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TC(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const Qse=(t,e)=>t.depth-e.depth;class Jse{constructor(){this.children=[],this.isDirty=!1}add(e){GA(this.children,e),this.isDirty=!0}remove(e){YA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qse),this.isDirty=!1,this.children.forEach(e)}}function Zse(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(vs(r),t(s-e))};return it.read(r,!0),()=>vs(r)}function eae(t){window.MotionDebug&&window.MotionDebug.record(t)}function tae(t){return t instanceof SVGElement&&t.tagName!=="svg"}function nae(t,e,n){const r=Jn(t)?t:Jc(t);return r.start(KA("",r,e,n)),r.animation}const EC=["","X","Y","Z"],rae={visibility:"hidden"},AC=1e3;let iae=0;const uo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function BF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=iae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uo.totalNodes=uo.resolvedTargetDeltas=uo.recalculatedProjection=0,this.nodes.forEach(oae),this.nodes.forEach(hae),this.nodes.forEach(fae),this.nodes.forEach(lae),eae(uo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jse)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new XA),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tae(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Zse(f,250),Eg.hasAnimatedSinceResize&&(Eg.hasAnimatedSinceResize=!1,this.nodes.forEach(IC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||vae,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),b=!this.targetLayout||!FF(this.targetLayout,g)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const A={...HA(y,"layout"),onPlay:v,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||IC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pae),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PC);return}this.isUpdating||this.nodes.forEach(uae),this.isUpdating=!1,this.nodes.forEach(dae),this.nodes.forEach(sae),this.nodes.forEach(aae),this.clearAllSnapshots();const o=performance.now();yn.delta=Oa(0,1e3/60,o-yn.timestamp),yn.timestamp=o,yn.isProcessing=!0,ew.update.process(yn),ew.preRender.process(yn),ew.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(cae),this.sharedNodes.forEach(mae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!VF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||co(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),xae(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return kt();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Ks(o.x,l.offset.x),Ks(o.y,l.offset.y)),o}removeElementScroll(a){const o=kt();Er(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){Er(o,a);const{scroll:f}=this.root;f&&(Ks(o.x,-f.offset.x),Ks(o.y,-f.offset.y))}Ks(o.x,d.offset.x),Ks(o.y,d.offset.y)}}return o}applyTransform(a,o=!1){const l=kt();Er(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&uc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),co(d.latestValues)&&uc(l,d.latestValues)}return co(this.latestValues)&&uc(l,this.latestValues),l}removeTransform(a){const o=kt();Er(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!co(c.latestValues))continue;M_(c.latestValues)&&c.updateSnapshot();const d=kt(),h=c.measurePageBox();Er(d,h),wC(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return co(this.latestValues)&&wC(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),wh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),CF(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),wh(this.relativeTargetOrigin,this.target,m.target),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||M_(this.parent.latestValues)||jF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Er(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Nse(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:g}=o;if(!g){this.projectionTransform&&(this.projectionDelta=cc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=cc(),this.projectionDeltaWithTransform=cc());const y=this.projectionTransform;bh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=TC(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),uo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=kt(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,v=this.getStack(),w=!v||v.members.length<=1,b=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(yae));this.animationProgress=0;let x;this.mixTargetDelta=A=>{const T=A/1e3;NC(h.x,a.x,T),NC(h.y,a.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gae(this.relativeTarget,this.relativeTargetOrigin,f,T),x&&Yse(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=kt()),Er(x,this.relativeTarget)),y&&(this.animationValues=d,zse(d,c,this.latestValues,T,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Eg.hasAnimatedSinceResize=!0,this.currentAnimation=nae(0,AC,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&UF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||kt();const h=wr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const f=wr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Er(o,l),uc(o,d),bh(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Xse),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<EC.length;d++){const h="rotate"+EC[d];l[h]&&(c[h]=l[h],a.setStaticValue(h,0))}a.render();for(const d in c)a.setStaticValue(d,c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rae;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Tg(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Tg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=TC(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Dy){if(f[y]===void 0)continue;const{correct:v,applyTo:w}=Dy[y],b=c.transform==="none"?f[y]:v(f[y],h);if(w){const x=w.length;for(let A=0;A<x;A++)c[w[A]]=b}else c[y]=b}return this.options.layoutId&&(c.pointerEvents=h===this?Tg(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(PC),this.root.sharedNodes.clear()}}}function sae(t){t.updateLayout()}function aae(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Nr(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=wr(f);f.min=r[h].min,f.max=f.min+m}):UF(s,n.layoutBox,r)&&Nr(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=wr(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=cc();bh(o,r,n.layoutBox);const l=cc();a?bh(l,t.applyTransform(i,!0),n.measuredBox):bh(l,r,n.layoutBox);const c=!VF(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=kt();wh(g,n.layoutBox,f.layoutBox);const y=kt();wh(y,r,m.layoutBox),FF(g,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oae(t){uo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cae(t){t.clearSnapshot()}function PC(t){t.clearMeasurements()}function uae(t){t.isLayoutDirty=!1}function dae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hae(t){t.resolveTargetDelta()}function fae(t){t.calcProjection()}function pae(t){t.resetRotation()}function mae(t){t.removeLeadSnapshot()}function NC(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kC(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function gae(t,e,n,r){kC(t.x,e.x,n.x,r),kC(t.y,e.y,n.y,r)}function yae(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vae={duration:.45,ease:[.4,0,.1,1]},OC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),jC=OC("applewebkit/")&&!OC("chrome/")?Math.round:Pt;function CC(t){t.min=jC(t.min),t.max=jC(t.max)}function xae(t){CC(t.x),CC(t.y)}function UF(t,e,n){return t==="position"||t==="preserve-aspect"&&!R_(SC(e),SC(n),.2)}const bae=BF({attachResizeListener:(t,e)=>Qi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dw={current:void 0},zF=BF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dw.current){const t=new bae({});t.mount(window),t.setOptions({layoutScroll:!0}),dw.current=t}return dw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wae={pan:{Feature:$se},drag:{Feature:Mse,ProjectionNode:zF,MeasureLayout:MF}},_ae=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Sae(t){const e=_ae.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function L_(t,e,n=1){const[r,i]=Sae(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return EF(a)?parseFloat(a):a}else return P_(i)?L_(i,e,n+1):i}function Tae(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!P_(s))return;const a=L_(s,r);a&&i.set(a)});for(const i in e){const s=e[i];if(!P_(s))continue;const a=L_(s,r);a&&(e[i]=a,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Eae=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),WF=t=>Eae.has(t),Aae=t=>Object.keys(t).some(WF),RC=t=>t===Sl||t===Te,DC=(t,e)=>parseFloat(t.split(", ")[e]),MC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return DC(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?DC(s[1],t):0}},Pae=new Set(["x","y","z"]),Iae=_p.filter(t=>!Pae.has(t));function Nae(t){const e=[];return Iae.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Zc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:MC(4,13),y:MC(5,14)};Zc.translateX=Zc.x;Zc.translateY=Zc.y;const kae=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{o[c]=Zc[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(o[c]),t[c]=Zc[c](l,s)}),t},Oae=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(WF);let s=[],a=!1;const o=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Td(d);const f=e[l];let m;if($y(f)){const g=f.length,y=f[0]===null?1:0;d=f[y],h=Td(d);for(let v=y;v<g&&f[v]!==null;v++)m?BA(Td(f[v])===m):m=Td(f[v])}else m=Td(f);if(h!==m)if(RC(h)&&RC(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===Te&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(f):(a||(s=Nae(t),a=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=kae(e,t,o);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),q0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function jae(t,e,n,r){return Aae(e)?Oae(t,e,n,r):{target:e,transitionEnd:r}}const Cae=(t,e,n,r)=>{const i=Tae(t,e,r);return e=i.target,r=i.transitionEnd,jae(t,e,n,r)},V_={current:null},qF={current:!1};function Rae(){if(qF.current=!0,!!q0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>V_.current=t.matches;t.addListener(e),e()}else V_.current=!1}function Dae(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(Jn(s))t.addValue(i,s),By(r)&&r.add(i);else if(Jn(a))t.addValue(i,Jc(s,{owner:t})),By(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,Jc(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const $C=new WeakMap,HF=Object.keys(pf),Mae=HF.length,LC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$ae=jA.length;class Lae{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>it.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=K0(n),this.isVariantNode=k5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];o[h]!==void 0&&Jn(f)&&(f.set(o[h],!1),By(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,$C.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qF.current||Rae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:V_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$C.delete(this.current),this.projection&&this.projection.unmount(),vs(this.notifyUpdate),vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=_l.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&it.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let a,o;for(let l=0;l<Mae;l++){const c=HF[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=pf[c];f&&(a=f),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&oc(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LC.length;r++){const i=LC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Dae(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<$ae;r++){const i=jA[r],s=this.props[i];(ff(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=FA(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Jn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new XA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KF extends Lae{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let a=tse(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),s){Zie(this,r,a);const o=Cae(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function Vae(t){return window.getComputedStyle(t)}class Fae extends KF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(_l.has(n)){const r=qA(n);return r&&r.default||0}else{const r=Vae(e),i=(R5(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RF(e,n)}build(e,n,r,i){DA(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return VA(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){F5(e,n,r,i)}}class Bae extends KF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_l.has(n)){const r=qA(n);return r&&r.default||0}return n=B5.has(n)?n:kA(n),e.getAttribute(n)}measureInstanceViewportBox(){return kt()}scrapeMotionValuesFromProps(e,n){return z5(e,n)}build(e,n,r,i){$A(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){U5(e,n,r,i)}mount(e){this.isSVGTag=LA(e.tagName),super.mount(e)}}const Uae=(t,e)=>RA(t)?new Bae(e,{enableHardwareAcceleration:!1}):new Fae(e,{enableHardwareAcceleration:!0}),zae={layout:{ProjectionNode:zF,MeasureLayout:MF}},Wae={...gse,...Mre,...wae,...zae},VC=qne((t,e)=>Sre(t,e,Wae,Uae));function GF(){const t=j.useRef(!1);return NA(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function qae(){const t=GF(),[e,n]=j.useState(0),r=j.useCallback(()=>{t.current&&n(e+1)},[e]);return[j.useCallback(()=>it.postRender(r),[r]),e]}class Hae extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Kae({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:l}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),j.createElement(Hae,{isPresent:e,childRef:r,sizeRef:i},j.cloneElement(t,{ref:r}))}const hw=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=W5(Gae),l=j.useId(),c=j.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{o.set(d,!0);for(const h of o.values())if(!h)return;r&&r()},register:d=>(o.set(d,!1),()=>o.delete(d))}),s?void 0:[n]);return j.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[n]),j.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=j.createElement(Kae,{isPresent:n},t)),j.createElement(W0.Provider,{value:c},t)};function Gae(){return new Map}function Yae(t){return j.useEffect(()=>()=>t(),[])}const ho=t=>t.key||"";function Xae(t,e){t.forEach(n=>{const r=ho(n);e.set(r,n)})}function Qae(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const YF=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=j.useContext(CA).forceRender||qae()[0],l=GF(),c=Qae(t);let d=c;const h=j.useRef(new Map).current,f=j.useRef(d),m=j.useRef(new Map).current,g=j.useRef(!0);if(NA(()=>{g.current=!1,Xae(c,m),f.current=d}),Yae(()=>{g.current=!0,m.clear(),h.clear()}),g.current)return j.createElement(j.Fragment,null,d.map(b=>j.createElement(hw,{key:ho(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a},b)));d=[...d];const y=f.current.map(ho),v=c.map(ho),w=y.length;for(let b=0;b<w;b++){const x=y[b];v.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((b,x)=>{if(v.indexOf(x)!==-1)return;const A=m.get(x);if(!A)return;const T=y.indexOf(x);let P=b;if(!P){const E=()=>{h.delete(x);const S=Array.from(m.keys()).filter(I=>!v.includes(I));if(S.forEach(I=>m.delete(I)),f.current=c.filter(I=>{const k=ho(I);return k===x||S.includes(k)}),!h.size){if(l.current===!1)return;o(),r&&r()}};P=j.createElement(hw,{key:ho(A),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:s,mode:a},A),h.set(x,P)}d.splice(T,0,P)}),d=d.map(b=>{const x=b.key;return h.has(x)?b:j.createElement(hw,{key:ho(b),isPresent:!0,presenceAffectsLayout:s,mode:a},b)}),j.createElement(j.Fragment,null,h.size?d:d.map(b=>j.cloneElement(b)))},XF=({itemCount:t,onClick:e,className:n=""})=>u.jsxs("button",{onClick:e,className:`relative p-1.5 text-gray-600 hover:text-blue-600 transition-colors ${n}`,children:[u.jsx(U1,{className:"h-5 w-5"}),u.jsx(YF,{children:t>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t})})]}),Jae=({itemCount:t,onClick:e,isVisible:n})=>u.jsx(YF,{children:n&&u.jsx(VC.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:20},className:"fixed bottom-6 right-6 z-40",children:u.jsx(VC.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"bg-white rounded-full shadow-lg p-2",children:u.jsx(XF,{itemCount:t,onClick:e,className:"!p-3"})})})}),Zae=({file:t,onAnalysisComplete:e,onOptimize:n})=>{const[r,i]=j.useState(!1),[s,a]=j.useState(null),[o,l]=j.useState(!1),c=j.useCallback(async()=>{i(!0);try{await new Promise(g=>setTimeout(g,2e3));const m={fileType:t.type,pageCount:Math.floor(Math.random()*20)+1,colorPages:Math.floor(Math.random()*5),blackWhitePages:Math.floor(Math.random()*15)+1,estimatedCost:Math.floor(Math.random()*100)+20,recommendations:["Consider using black & white printing for text-heavy pages to save costs","This document has good print quality and should print clearly","Recommended paper size: A4"],warnings:["Some images may appear pixelated when printed at current resolution","Document contains small text that may be difficult to read"],optimizations:["Reduce image resolution to optimize file size","Convert color images to grayscale for cost savings","Compress document to reduce printing time"],qualityScore:Math.floor(Math.random()*30)+70};a(m),e(m),ee.success("Document analysis completed!")}catch(m){console.error("Document analysis failed:",m),ee.error("Failed to analyze document")}finally{i(!1)}},[t,e]),d=async()=>{if(s)try{ee.loading("Optimizing document...",{duration:2e3});const m=new File([t],`optimized_${t.name}`,{type:t.type});n==null||n(m),ee.success("Document optimized successfully!")}catch(m){console.error("Document optimization failed:",m),ee.error("Failed to optimize document")}},h=m=>m>=90?"text-green-600":m>=80?"text-blue-600":m>=70?"text-yellow-600":"text-red-600",f=m=>m>=90?"Excellent":m>=80?"Good":m>=70?"Fair":"Poor";return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(ny,{className:"h-6 w-6 text-blue-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Document Analysis"})]}),u.jsxs("button",{onClick:c,disabled:r,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(zH,{className:"h-4 w-4"}),u.jsx("span",{children:r?"Analyzing...":"Analyze Document"})]})]}),r&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Analyzing document with AI..."})]}),s&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.pageCount}),u.jsx("p",{className:"text-sm text-gray-600",children:"Total Pages"})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.colorPages}),u.jsx("p",{className:"text-sm text-gray-600",children:"Color Pages"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-gray-600",children:s.blackWhitePages}),u.jsx("p",{className:"text-sm text-gray-600",children:"B&W Pages"})]}),u.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[u.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",s.estimatedCost]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Est. Cost"})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"Print Quality Score"}),u.jsxs("span",{className:`font-semibold ${h(s.qualityScore)}`,children:[s.qualityScore,"/100 - ",f(s.qualityScore)]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-full rounded-full ${s.qualityScore>=90?"bg-green-500":s.qualityScore>=70?"bg-yellow-500":"bg-red-500"} transition-all duration-300`,style:{width:`${s.qualityScore}%`}})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"AI Recommendations"}),u.jsx("div",{className:"space-y-3",children:s.recommendations.map((m,g)=>u.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[u.jsx(Lr,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-gray-700",children:m})]},g))})]}),s.warnings.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"Warnings"}),u.jsx("div",{className:"space-y-3",children:s.warnings.map((m,g)=>u.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 rounded-lg",children:[u.jsx(PH,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-gray-700",children:m})]},g))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"Optimization Options"}),u.jsxs("button",{onClick:()=>l(!o),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:[o?"Hide":"Show"," Options"]})]}),o&&u.jsxs("div",{className:"space-y-3",children:[s.optimizations.map((m,g)=>u.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx(C4,{className:"h-5 w-5 text-gray-600 mt-0.5 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-gray-700",children:m})]},g)),u.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 py-2 px-4 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:[u.jsx(ty,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Apply Optimizations"})]})]})]})]})]})},eoe=({order:t,onStatusUpdate:e})=>{const[n,r]=j.useState(""),[i,s]=j.useState(""),[a,o]=j.useState([]);j.useEffect(()=>{l(),c()},[t]);const l=()=>{const f=[{id:"1",status:"pending",timestamp:t.timestamp,description:"Order placed successfully",location:"Customer Location"},{id:"2",status:"processing",timestamp:new Date(Date.now()-6e5).toISOString(),description:"Order confirmed and sent to print shop",location:"Print Shop - "+t.shopId},{id:"3",status:"processing",timestamp:new Date(Date.now()-3e5).toISOString(),description:"Printing in progress",location:"Print Shop - "+t.shopId}];t.status==="completed"&&f.push({id:"4",status:"completed",timestamp:new Date().toISOString(),description:"Order ready for pickup",location:"Print Shop - "+t.shopId}),o(f)},c=()=>{const f=["Print Shop - Processing","Print Shop - Quality Check","Print Shop - Packaging","Ready for Pickup"];let m=0;const g=setInterval(()=>{m<f.length?(r(f[m]),m++):clearInterval(g)},3e3),y=new Date(Date.now()+20*60*1e3);return s(y.toLocaleTimeString()),()=>clearInterval(g)},d=f=>{switch(f){case"pending":return u.jsx(zr,{className:"h-5 w-5 text-yellow-500"});case"processing":return u.jsx(ag,{className:"h-5 w-5 text-blue-500"});case"completed":return u.jsx(Lr,{className:"h-5 w-5 text-green-500"});case"rejected":return u.jsx(Gh,{className:"h-5 w-5 text-red-500"});default:return u.jsx(zr,{className:"h-5 w-5 text-gray-500"})}},h=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Tracking"}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(t.status)}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})})]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Order ID"}),u.jsxs("p",{className:"font-medium text-gray-900",children:["#",t.id]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),u.jsxs("p",{className:"font-medium text-gray-900",children:["",t.total.toFixed(2)]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Items"}),u.jsxs("p",{className:"font-medium text-gray-900",children:[t.items.length," files"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Ready"}),u.jsx("p",{className:"font-medium text-gray-900",children:i})]})]})}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:d(t.status)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"Current Status"}),u.jsx("p",{className:"text-sm text-gray-600",children:n})]})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:"Order Timeline"}),u.jsx("div",{className:"relative",children:a.map((f,m)=>u.jsxs("div",{className:"relative flex items-start space-x-4",children:[m<a.length-1&&u.jsx("div",{className:"absolute left-4 top-8 w-0.5 h-16 bg-gray-200"}),u.jsx("div",{className:`relative z-10 p-2 rounded-full ${f.status===t.status?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:d(f.status)}),u.jsxs("div",{className:"flex-1 pb-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h5",{className:"font-medium text-gray-900",children:f.description}),u.jsx("span",{className:"text-sm text-gray-500",children:new Date(f.timestamp).toLocaleTimeString()})]}),f.location&&u.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[u.jsx(jn,{className:"h-4 w-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-600",children:f.location})]})]})]},f.id))})]}),u.jsxs("div",{className:"mt-6 flex space-x-3",children:[u.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(jn,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:"View on Map"})]}),u.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(CH,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Get Directions"})]})]}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Need Help?"}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"If you have any questions about your order, contact the print shop directly."}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Call Print Shop"}),u.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Send Message"})]})]})]})},toe=({orderId:t,customerPhone:e,sellerPhone:n,onVerificationSuccess:r,onVerificationFailed:i,onClose:s,isOpen:a})=>{const[o,l]=j.useState(""),[c,d]=j.useState(!1),[h,f]=j.useState(300),[m,g]=j.useState(!1),[y,v]=j.useState(0),w=j.useRef([]);j.useEffect(()=>{a&&(l(""),f(300),v(0),g(!1),b(),x())},[a]),j.useEffect(()=>{if(h>0){const k=setTimeout(()=>f(h-1),1e3);return()=>clearTimeout(k)}else g(!0)},[h]);const b=async()=>{try{const k=Math.floor(1e3+Math.random()*9e3).toString();localStorage.setItem(`otp_${t}`,k),localStorage.setItem(`otp_${t}_timestamp`,Date.now().toString()),console.log(`OTP ${k} sent to customer: ${e}`),console.log(`OTP ${k} sent to seller: ${n}`),ee.success("OTP sent to both customer and seller!")}catch(k){console.error("Error generating OTP:",k),ee.error("Failed to send OTP. Please try again.")}},x=()=>{f(300),g(!1)},A=(k,O)=>{var R;if(O.length>1)return;const C=o.split("");C[k]=O,l(C.join("")),O&&k<3&&((R=w.current[k+1])==null||R.focus())},T=(k,O)=>{var C;O.key==="Backspace"&&!o[k]&&k>0&&((C=w.current[k-1])==null||C.focus())},P=k=>{var C;k.preventDefault();const O=k.clipboardData.getData("text").replace(/[^0-9]/g,"").slice(0,4);l(O),(C=w.current[Math.min(O.length,3)])==null||C.focus()},E=async()=>{if(o.length!==4){ee.error("Please enter the complete 4-digit OTP");return}d(!0);try{const k=localStorage.getItem(`otp_${t}`),O=localStorage.getItem(`otp_${t}_timestamp`);if(!k||!O){ee.error("OTP not found. Please request a new one."),d(!1);return}if(Date.now()-parseInt(O)>3e5){ee.error("OTP has expired. Please request a new one."),d(!1);return}o===k?(localStorage.removeItem(`otp_${t}`),localStorage.removeItem(`otp_${t}_timestamp`),ee.success("OTP verified successfully! Order confirmed."),r()):(v(y+1),y>=2?(ee.error("Too many failed attempts. Please request a new OTP."),i()):ee.error(`Invalid OTP. ${2-y} attempts remaining.`))}catch(k){console.error("Error verifying OTP:",k),ee.error("Verification failed. Please try again.")}finally{d(!1)}},S=async()=>{m&&(await b(),x(),ee.success("New OTP sent!"))},I=k=>{const O=Math.floor(k/60),C=k%60;return`${O}:${C.toString().padStart(2,"0")}`};return a?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:u.jsx(Rr,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verify Order"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Enter the 4-digit OTP"})]})]}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close verification",children:u.jsx(vr,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-gray-900",children:["Order #",t.slice(-8)]}),u.jsxs("p",{className:"text-gray-500",children:["Customer: ",e]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-gray-500",children:["Seller: ",n]}),u.jsx("p",{className:"text-gray-500",children:"Both parties received OTP"})]})]})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 text-center",children:"Enter 4-digit OTP"}),u.jsx("div",{className:"flex justify-center space-x-3",children:[0,1,2,3].map(k=>u.jsx("input",{ref:O=>w.current[k]=O,type:"text",inputMode:"numeric",maxLength:1,value:o[k]||"",onChange:O=>A(k,O.target.value.replace(/[^0-9]/g,"")),onKeyDown:O=>T(k,O),onPaste:P,className:"w-14 h-14 text-center text-2xl font-bold border-2 border-blue-300 bg-white rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-colors shadow-sm",disabled:c,"aria-label":`OTP digit ${k+1}`,title:`Enter digit ${k+1} of the OTP`},k))})]}),u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(zr,{className:"h-4 w-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-500",children:h>0?`Expires in ${I(h)}`:"OTP Expired"})]}),u.jsxs("button",{onClick:S,disabled:!m||c,className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:[u.jsx($H,{className:`h-4 w-4 ${m?"animate-spin":""}`}),u.jsx("span",{className:"text-sm font-medium",children:"Resend OTP"})]})]}),u.jsx("button",{onClick:E,disabled:o.length!==4||c,className:"w-full flex items-center justify-center space-x-2 py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),u.jsx("span",{children:"Verifying..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Lr,{className:"h-4 w-4"}),u.jsx("span",{children:"Verify OTP"})]})}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:u.jsx("p",{className:"text-xs text-blue-700 text-center",children:"Both you and the seller have received the same OTP. Enter it to confirm the order pickup."})})]})}):null},noe=({isOpen:t,onClose:e})=>{const[n,r]=j.useState([]),[i,s]=j.useState(0);j.useEffect(()=>{const f=localStorage.getItem("quickxerox_notifications");if(f){const m=JSON.parse(f);r(m),s(m.filter(g=>!g.isRead).length)}else{const m=[{id:"1",type:"success",title:"Order Completed",message:"Your print order #12345 is ready for pickup",timestamp:new Date(Date.now()-3e5).toISOString(),isRead:!1,actionUrl:"/orders/12345",actionText:"View Order"},{id:"2",type:"info",title:"New Print Shop Available",message:"A new print shop has opened near your location",timestamp:new Date(Date.now()-18e5).toISOString(),isRead:!1},{id:"3",type:"warning",title:"Payment Pending",message:"Your payment for order #12344 is still pending",timestamp:new Date(Date.now()-36e5).toISOString(),isRead:!0,actionUrl:"/payment/12344",actionText:"Complete Payment"}];r(m),s(2),localStorage.setItem("quickxerox_notifications",JSON.stringify(m))}},[]);const a=f=>{r(m=>{const g=m.map(y=>y.id===f?{...y,isRead:!0}:y);return localStorage.setItem("quickxerox_notifications",JSON.stringify(g)),g}),s(m=>m-1)},o=()=>{r(f=>{const m=f.map(g=>({...g,isRead:!0}));return localStorage.setItem("quickxerox_notifications",JSON.stringify(m)),m}),s(0),ee.success("All notifications marked as read")},l=f=>{r(m=>{const g=m.filter(y=>y.id!==f);return localStorage.setItem("quickxerox_notifications",JSON.stringify(g)),g}),ee.success("Notification deleted")},c=f=>{switch(f){case"success":return u.jsx(Lr,{className:"h-5 w-5 text-green-500"});case"warning":return u.jsx(Gh,{className:"h-5 w-5 text-yellow-500"});case"error":return u.jsx(Gh,{className:"h-5 w-5 text-red-500"});default:return u.jsx(C4,{className:"h-5 w-5 text-blue-500"})}},d=f=>{switch(f){case"success":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200";default:return"bg-blue-50 border-blue-200"}},h=f=>{const m=new Date(f),y=Math.floor((new Date().getTime()-m.getTime())/(1e3*60));return y<1?"Just now":y<60?`${y}m ago`:y<1440?`${Math.floor(y/60)}h ago`:m.toLocaleDateString()};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(ey,{className:"h-6 w-6 text-blue-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),i>0&&u.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:i})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[i>0&&u.jsx("button",{onClick:o,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Mark all read"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(vr,{className:"h-6 w-6"})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:n.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(ey,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):n.map(f=>u.jsx("div",{className:`p-4 rounded-lg border ${f.isRead?"bg-gray-50 border-gray-200":d(f.type)}`,children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:c(f.type)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:`text-sm font-medium ${f.isRead?"text-gray-600":"text-gray-900"}`,children:f.title}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:h(f.timestamp)}),!f.isRead&&u.jsx("button",{onClick:()=>a(f.id),className:"text-gray-400 hover:text-gray-600",title:"Mark as read","aria-label":"Mark as read",children:u.jsx(NH,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>l(f.id),className:"text-gray-400 hover:text-gray-600",title:"Delete notification","aria-label":"Delete notification",children:u.jsx(vr,{className:"h-4 w-4"})})]})]}),u.jsx("p",{className:`text-sm mt-1 ${f.isRead?"text-gray-500":"text-gray-700"}`,children:f.message}),f.actionUrl&&f.actionText&&u.jsx("button",{className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:f.actionText})]})]})},f.id))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm text-gray-500",children:[n.length," total notifications"]}),u.jsx("button",{onClick:()=>{r([]),s(0),localStorage.removeItem("quickxerox_notifications"),ee.success("All notifications cleared")},className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Clear All"})]})})]})}):null};function roe(){const t=Zn();Nu();const[e,n]=j.useState([]),[r,i]=j.useState(!1),[s,a]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState([]),[h,f]=j.useState("Fetching location..."),[m,g]=j.useState(!1),[y,v]=j.useState(null),[w,b]=j.useState(!1),[x,A]=j.useState(null),[T,P]=j.useState(!1),[E,S]=j.useState(null);j.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){t("/login",{replace:!0});return}const q=()=>{const X=window.scrollY;l(X>80)};return window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)},[t]),j.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async L=>{const q=L.coords.latitude,X=L.coords.longitude;try{const ne=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${q}&lon=${X}`)).json()).address||{},G=ne.city||ne.town||ne.village||ne.hamlet||ne.county||"Unknown location";f(G)}catch{f("Unknown location")}},L=>{f("Location permission denied")}):f("Geolocation not supported")},[]),j.useEffect(()=>{const L=ns(We,"shopOwners"),q=xg(L,X=>{const te=[];X.forEach(Z=>{var G,W,ce,me,$e,se,de,V,M,we,ye,je;const ne=Z.data();(W=(G=ne.settings)==null?void 0:G.shop)!=null&&W.name&&te.push({id:Z.id,name:((me=(ce=ne.settings)==null?void 0:ce.shop)==null?void 0:me.name)||"N/A",rating:ne.rating||4.5,distance:ne.distance||"N/A",price:((se=($e=ne.settings)==null?void 0:$e.preferences)==null?void 0:se.perPageCostAdjustment)??2.5,eta:ne.eta||"20-30",image:((V=(de=ne.settings)==null?void 0:de.shop)==null?void 0:V.shopPictureUrl)||ne.image||"https://lh3.googleusercontent.com/gps-cs-s/AC9h4noan8Hek57X2BZ6IMo3jnJ-PXolN7bl_rS8ddcpJvRbQbRMHj-5vw1gjJ9fVXXqS8_6NtLH_im9FvLhzehe5jmmpiCRraA_pZqxg_a62-7hir81dcPYwUAFN3n6HGMtqWkBNpqYVQ=s1360-w1360-h1020-rw",isShopOpen:((we=(M=ne.settings)==null?void 0:M.businessHours)==null?void 0:we.isShopOpen)??!0,perPageCostAdjustment:((je=(ye=ne.settings)==null?void 0:ye.preferences)==null?void 0:je.perPageCostAdjustment)??0})}),console.log("Fetched shops (real-time):",te.map(Z=>({id:Z.id,name:Z.name,price:Z.price,perPageCostAdjustmentFetched:Z.perPageCostAdjustment,image:Z.image,isShopOpen:Z.isShopOpen}))),d(te)},X=>{console.error("Error fetching print shops in real-time:",X),ee.error("Failed to load print shops in real-time.")});return()=>q()},[]),j.useEffect(()=>{const L=q=>{localStorage.getItem("isAuthenticated")&&(q.preventDefault(),q.returnValue="")};return window.addEventListener("beforeunload",L),()=>window.removeEventListener("beforeunload",L)},[]);const I=()=>{localStorage.clear(),t("/login",{replace:!0})},k=L=>{const q=Array.from(L).map(X=>({id:GH(),file:X,copies:1,isColor:!1}));n([...e,...q])},O=L=>{n(e.map(q=>q.id===L.id?L:q))},C=L=>{n(e.filter(q=>q.id!==L))},R=L=>{const q=c.find(X=>X.id===L);a(q||null)},F=L=>{console.log("Document analysis completed:",L),ee.success("Document analyzed successfully!")},B=L=>{const q=e.map(X=>X.file.name===(y==null?void 0:y.name)?{...X,file:L}:X);n(q),v(null),ee.success("Document optimized successfully!")},H=()=>{E&&(console.log("Order verified successfully:",E.id),ee.success("Order verified successfully! You can now collect your prints.")),P(!1),S(null)},Y=()=>{console.log("OTP verification failed"),ee.error("OTP verification failed. Please try again."),P(!1),S(null)};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-30",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2 sm:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[u.jsx(ki,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"}),u.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"QuickXerox"})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[u.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[u.jsx(jn,{className:"h-5 w-5 text-gray-500"}),u.jsx("span",{className:"text-gray-600 text-sm max-w-xs truncate",title:h,children:h})]}),u.jsxs("button",{onClick:()=>g(!0),className:"relative p-1 sm:p-2 text-gray-600 hover:text-blue-600 transition-colors",title:"Notifications","aria-label":"Notifications",children:[u.jsx(ey,{className:"h-5 w-5 sm:h-6 sm:w-6"}),u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:"3"})]}),u.jsx(XF,{itemCount:e.length,onClick:()=>i(!0)}),u.jsx("button",{onClick:()=>t("/account"),className:"p-1 sm:p-2 text-gray-600 hover:text-blue-600 transition-colors",title:"View Account","aria-label":"View Account",children:u.jsx(dE,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),u.jsxs("button",{onClick:I,className:"flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors",title:"Logout","aria-label":"Logout",children:[u.jsx(uE,{className:"h-4 w-4 sm:h-5 sm:w-5"}),u.jsx("span",{className:"hidden sm:inline text-sm",children:"Logout"})]})]})]})})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[u.jsxs("div",{className:"text-center mb-6 sm:mb-12",children:[u.jsx("h2",{className:"text-xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-4",children:"Print Documents at Nearby Shops"}),u.jsx("p",{className:"text-sm sm:text-xl text-gray-600",children:"Upload your files and get them printed at trusted local print shops"})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-6 mb-6 sm:mb-8",children:u.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[u.jsx(XH,{onFileSelect:k}),e.length>0&&u.jsx(QH,{jobs:e,onUpdateJob:O,onRemoveJob:C})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-3 sm:mb-6",children:"Nearby Print Shops"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:c.map(L=>u.jsx(YH,{shop:L,isSelected:(s==null?void 0:s.id)===L.id,onSelect:()=>{R(L.id),e.length>0&&i(!0)}},L.id))})]}),u.jsxs("div",{className:"mt-8 sm:mt-16 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8",children:[u.jsxs("div",{className:"flex flex-col items-center text-center p-3",children:[u.jsx(zr,{className:"h-8 w-8 sm:h-12 sm:w-12 text-blue-600 mb-1 sm:mb-4"}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-1 sm:mb-2",children:"Quick Turnaround"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Get your prints in as little as 15 minutes"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center p-3",children:[u.jsx(cE,{className:"h-8 w-8 sm:h-12 sm:w-12 text-blue-600 mb-1 sm:mb-4"}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-1 sm:mb-2",children:"Secure Payment"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Pay securely online or at the shop"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center p-3",children:[u.jsx(Lr,{className:"h-8 w-8 sm:h-12 sm:w-12 text-blue-600 mb-1 sm:mb-4"}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-1 sm:mb-2",children:"Quality Guaranteed"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"100% satisfaction guaranteed"})]})]})]}),u.jsx(Jae,{itemCount:e.length,onClick:()=>i(!0),isVisible:o&&e.length>0}),u.jsx(Cne,{items:e,onRemove:C,basePrice:(s==null?void 0:s.price)||2.5,isOpen:r,onClose:()=>i(!1),selectedShop:s,onShopSelect:R,shops:c}),y&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Document Analysis"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",title:"Close document analysis","aria-label":"Close document analysis",children:u.jsx(vr,{className:"h-6 w-6"})})]}),u.jsx(Zae,{file:y,onAnalysisComplete:F,onOptimize:B})]})})}),w&&x&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Tracking"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",title:"Close order tracking","aria-label":"Close order tracking",children:u.jsx(vr,{className:"h-6 w-6"})})]}),u.jsx(eoe,{order:x,onStatusUpdate:L=>{A({...x,status:L})}})]})})}),E&&u.jsx(toe,{orderId:E.id,customerPhone:E.customerPhone,sellerPhone:E.sellerPhone,onVerificationSuccess:H,onVerificationFailed:Y,onClose:()=>P(!1),isOpen:T}),u.jsx(noe,{isOpen:m,onClose:()=>g(!1)})]})}const ioe=({orders:t,onStatusChange:e,onOTPVerificationComplete:n})=>{const[r,i]=j.useState({}),s=f=>{i(m=>({...m,[f]:!m[f]}))},a=f=>localStorage.getItem(`otp_${f}`)||"",o=f=>{navigator.clipboard.writeText(f),ee.success("OTP copied to clipboard!")},l=f=>{const m={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return m[f]||m.pending},c=f=>{const m={pending:u.jsx(zr,{className:"h-5 w-5 text-yellow-500"}),processing:u.jsx(Gh,{className:"h-5 w-5 text-blue-500"}),completed:u.jsx(Lr,{className:"h-5 w-5 text-green-500"}),rejected:u.jsx(D4,{className:"h-5 w-5 text-red-500"})};return m[f]||m.pending},d=f=>{const m=`/files/${f}`,g=document.createElement("a");g.href=m,g.download=f,document.body.appendChild(g),g.click(),document.body.removeChild(g)},h=f=>{const m=`/files/${f}`;window.open(m,"_blank")};return u.jsx("div",{className:"bg-white shadow-sm rounded-lg divide-y divide-gray-200",children:t.map(f=>u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[c(f.status),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Order #",f.id]}),u.jsx("p",{className:"text-sm text-gray-500",children:new Date(f.timestamp).toLocaleString()})]})]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l(f.status)}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsx("p",{className:"font-medium text-gray-900",children:f.customerName}),f.items.map(m=>u.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[u.jsxs("span",{children:[m.fileName," - ",m.copies," ",m.copies===1?"copy":"copies"," "," ",m.isColor?"Color":"B&W","  ",m.pages," pages"]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>d(m.fileName),className:"flex items-center space-x-1 text-blue-500 hover:underline",children:[u.jsx(ty,{className:"h-4 w-4"}),u.jsx("span",{children:"Download"})]}),u.jsxs("button",{onClick:()=>h(m.fileName),className:"flex items-center space-x-1 text-blue-500 hover:underline",children:[u.jsx(Go,{className:"h-4 w-4"})," ",u.jsx("span",{children:"View"})]})]})]},m.id))]})}),f.status==="processing"&&f.isPaid&&u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Rr,{className:"h-5 w-5 text-blue-600"}),u.jsx("h4",{className:"font-medium text-blue-900",children:"Customer OTP"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>s(f.id),className:"text-blue-600 hover:text-blue-800 transition-colors",title:r[f.id]?"Hide OTP":"Show OTP",children:r[f.id]?u.jsx(ku,{className:"h-4 w-4"}):u.jsx(Go,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>o(a(f.id)),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Copy OTP",children:u.jsx(ty,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"flex justify-center space-x-2 mb-2",children:a(f.id).split("").map((m,g)=>u.jsx("div",{className:"w-10 h-10 border-2 border-blue-300 bg-white rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-bold text-blue-600",children:r[f.id]?m:""})},g))}),u.jsxs("p",{className:"text-xs text-blue-700 text-center",children:["Customer: ",f.customerPhone,"  Ask customer to show this OTP"]})]})}),u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total:"}),u.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",f.total.toFixed(2)]}),f.isPaid&&u.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Paid"})]}),f.status==="pending"&&u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("button",{onClick:()=>e(f.id,"processing"),className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx(Lr,{className:"h-4 w-4 mr-1"}),"Accept"]})}),f.status==="processing"&&u.jsx("div",{className:"flex items-center space-x-3",children:u.jsxs("button",{onClick:()=>e(f.id,"completed"),className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[u.jsx(Lr,{className:"h-4 w-4 mr-1"}),"Mark as Complete"]})})]})]},f.id))})},soe=({orders:t})=>{const e={pending:t.filter(r=>r.status==="pending").length,processing:t.filter(r=>r.status==="processing").length,completed:t.filter(r=>r.status==="completed").length,totalRevenue:t.filter(r=>r.status==="completed").reduce((r,i)=>r+i.total,0)},n=[{title:"Pending Orders",value:e.pending,icon:u.jsx(zr,{className:"h-6 w-6 text-yellow-400"}),bgColor:"bg-yellow-100"},{title:"Processing Orders",value:e.processing,icon:u.jsx(zr,{className:"h-6 w-6 text-blue-400"}),bgColor:"bg-blue-100"},{title:"Completed Orders",value:e.completed,icon:u.jsx(Lr,{className:"h-6 w-6 text-green-400"}),bgColor:"bg-green-100"},{title:"Today's Revenue",value:`${e.totalRevenue.toFixed(2)}`,icon:u.jsx(j4,{className:"h-6 w-6 text-green-400"}),bgColor:"bg-green-100"}];return u.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:n.map((r,i)=>u.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:u.jsx("div",{className:"p-5",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${r.bgColor}`,children:r.icon}),u.jsx("div",{className:"ml-5 w-0 flex-1",children:u.jsxs("dl",{children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:r.title}),u.jsx("dd",{className:"flex items-baseline",children:u.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:r.value})})]})})]})})},i))})};function QF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=QF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=QF(t))&&(r&&(r+=" "),r+=e);return r}var aoe=Array.isArray,er=aoe,ooe=typeof Jp=="object"&&Jp&&Jp.Object===Object&&Jp,JF=ooe,loe=JF,coe=typeof self=="object"&&self&&self.Object===Object&&self,uoe=loe||coe||Function("return this")(),Mi=uoe,doe=Mi,hoe=doe.Symbol,Ap=hoe,FC=Ap,ZF=Object.prototype,foe=ZF.hasOwnProperty,poe=ZF.toString,Ad=FC?FC.toStringTag:void 0;function moe(t){var e=foe.call(t,Ad),n=t[Ad];try{t[Ad]=void 0;var r=!0}catch{}var i=poe.call(t);return r&&(e?t[Ad]=n:delete t[Ad]),i}var goe=moe,yoe=Object.prototype,voe=yoe.toString;function xoe(t){return voe.call(t)}var boe=xoe,BC=Ap,woe=goe,_oe=boe,Soe="[object Null]",Toe="[object Undefined]",UC=BC?BC.toStringTag:void 0;function Eoe(t){return t==null?t===void 0?Toe:Soe:UC&&UC in Object(t)?woe(t):_oe(t)}var Os=Eoe;function Aoe(t){return t!=null&&typeof t=="object"}var js=Aoe,Poe=Os,Ioe=js,Noe="[object Symbol]";function koe(t){return typeof t=="symbol"||Ioe(t)&&Poe(t)==Noe}var Lu=koe,Ooe=er,joe=Lu,Coe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Roe=/^\w*$/;function Doe(t,e){if(Ooe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||joe(t)?!0:Roe.test(t)||!Coe.test(t)||e!=null&&t in Object(e)}var QA=Doe;function Moe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var za=Moe;const Vu=qe(za);var $oe=Os,Loe=za,Voe="[object AsyncFunction]",Foe="[object Function]",Boe="[object GeneratorFunction]",Uoe="[object Proxy]";function zoe(t){if(!Loe(t))return!1;var e=$oe(t);return e==Foe||e==Boe||e==Voe||e==Uoe}var JA=zoe;const Ae=qe(JA);var Woe=Mi,qoe=Woe["__core-js_shared__"],Hoe=qoe,fw=Hoe,zC=function(){var t=/[^.]+$/.exec(fw&&fw.keys&&fw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Koe(t){return!!zC&&zC in t}var Goe=Koe,Yoe=Function.prototype,Xoe=Yoe.toString;function Qoe(t){if(t!=null){try{return Xoe.call(t)}catch{}try{return t+""}catch{}}return""}var eB=Qoe,Joe=JA,Zoe=Goe,ele=za,tle=eB,nle=/[\\^$.*+?()[\]{}|]/g,rle=/^\[object .+?Constructor\]$/,ile=Function.prototype,sle=Object.prototype,ale=ile.toString,ole=sle.hasOwnProperty,lle=RegExp("^"+ale.call(ole).replace(nle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cle(t){if(!ele(t)||Zoe(t))return!1;var e=Joe(t)?lle:rle;return e.test(tle(t))}var ule=cle;function dle(t,e){return t==null?void 0:t[e]}var hle=dle,fle=ule,ple=hle;function mle(t,e){var n=ple(t,e);return fle(n)?n:void 0}var Tl=mle,gle=Tl,yle=gle(Object,"create"),Q0=yle,WC=Q0;function vle(){this.__data__=WC?WC(null):{},this.size=0}var xle=vle;function ble(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wle=ble,_le=Q0,Sle="__lodash_hash_undefined__",Tle=Object.prototype,Ele=Tle.hasOwnProperty;function Ale(t){var e=this.__data__;if(_le){var n=e[t];return n===Sle?void 0:n}return Ele.call(e,t)?e[t]:void 0}var Ple=Ale,Ile=Q0,Nle=Object.prototype,kle=Nle.hasOwnProperty;function Ole(t){var e=this.__data__;return Ile?e[t]!==void 0:kle.call(e,t)}var jle=Ole,Cle=Q0,Rle="__lodash_hash_undefined__";function Dle(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cle&&e===void 0?Rle:e,this}var Mle=Dle,$le=xle,Lle=wle,Vle=Ple,Fle=jle,Ble=Mle;function Fu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fu.prototype.clear=$le;Fu.prototype.delete=Lle;Fu.prototype.get=Vle;Fu.prototype.has=Fle;Fu.prototype.set=Ble;var Ule=Fu;function zle(){this.__data__=[],this.size=0}var Wle=zle;function qle(t,e){return t===e||t!==t&&e!==e}var ZA=qle,Hle=ZA;function Kle(t,e){for(var n=t.length;n--;)if(Hle(t[n][0],e))return n;return-1}var J0=Kle,Gle=J0,Yle=Array.prototype,Xle=Yle.splice;function Qle(t){var e=this.__data__,n=Gle(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xle.call(e,n,1),--this.size,!0}var Jle=Qle,Zle=J0;function ece(t){var e=this.__data__,n=Zle(e,t);return n<0?void 0:e[n][1]}var tce=ece,nce=J0;function rce(t){return nce(this.__data__,t)>-1}var ice=rce,sce=J0;function ace(t,e){var n=this.__data__,r=sce(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var oce=ace,lce=Wle,cce=Jle,uce=tce,dce=ice,hce=oce;function Bu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bu.prototype.clear=lce;Bu.prototype.delete=cce;Bu.prototype.get=uce;Bu.prototype.has=dce;Bu.prototype.set=hce;var Z0=Bu,fce=Tl,pce=Mi,mce=fce(pce,"Map"),eP=mce,qC=Ule,gce=Z0,yce=eP;function vce(){this.size=0,this.__data__={hash:new qC,map:new(yce||gce),string:new qC}}var xce=vce;function bce(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wce=bce,_ce=wce;function Sce(t,e){var n=t.__data__;return _ce(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ex=Sce,Tce=ex;function Ece(t){var e=Tce(this,t).delete(t);return this.size-=e?1:0,e}var Ace=Ece,Pce=ex;function Ice(t){return Pce(this,t).get(t)}var Nce=Ice,kce=ex;function Oce(t){return kce(this,t).has(t)}var jce=Oce,Cce=ex;function Rce(t,e){var n=Cce(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Dce=Rce,Mce=xce,$ce=Ace,Lce=Nce,Vce=jce,Fce=Dce;function Uu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uu.prototype.clear=Mce;Uu.prototype.delete=$ce;Uu.prototype.get=Lce;Uu.prototype.has=Vce;Uu.prototype.set=Fce;var tP=Uu,tB=tP,Bce="Expected a function";function nP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Bce);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(nP.Cache||tB),n}nP.Cache=tB;var nB=nP;const Uce=qe(nB);var zce=nB,Wce=500;function qce(t){var e=zce(t,function(r){return n.size===Wce&&n.clear(),r}),n=e.cache;return e}var Hce=qce,Kce=Hce,Gce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yce=/\\(\\)?/g,Xce=Kce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Gce,function(n,r,i,s){e.push(i?s.replace(Yce,"$1"):r||n)}),e}),Qce=Xce;function Jce(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var rP=Jce,HC=Ap,Zce=rP,eue=er,tue=Lu,nue=1/0,KC=HC?HC.prototype:void 0,GC=KC?KC.toString:void 0;function rB(t){if(typeof t=="string")return t;if(eue(t))return Zce(t,rB)+"";if(tue(t))return GC?GC.call(t):"";var e=t+"";return e=="0"&&1/t==-nue?"-0":e}var rue=rB,iue=rue;function sue(t){return t==null?"":iue(t)}var iB=sue,aue=er,oue=QA,lue=Qce,cue=iB;function uue(t,e){return aue(t)?t:oue(t,e)?[t]:lue(cue(t))}var sB=uue,due=Lu,hue=1/0;function fue(t){if(typeof t=="string"||due(t))return t;var e=t+"";return e=="0"&&1/t==-hue?"-0":e}var tx=fue,pue=sB,mue=tx;function gue(t,e){e=pue(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[mue(e[n++])];return n&&n==r?t:void 0}var iP=gue,yue=iP;function vue(t,e,n){var r=t==null?void 0:yue(t,e);return r===void 0?n:r}var aB=vue;const mr=qe(aB);function xue(t){return t==null}var bue=xue;const Ie=qe(bue);var wue=Os,_ue=er,Sue=js,Tue="[object String]";function Eue(t){return typeof t=="string"||!_ue(t)&&Sue(t)&&wue(t)==Tue}var Aue=Eue;const ol=qe(Aue);var oB={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=Symbol.for("react.element"),aP=Symbol.for("react.portal"),nx=Symbol.for("react.fragment"),rx=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ax=Symbol.for("react.context"),Pue=Symbol.for("react.server_context"),ox=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),cx=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),dx=Symbol.for("react.lazy"),Iue=Symbol.for("react.offscreen"),lB;lB=Symbol.for("react.module.reference");function Gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sP:switch(t=t.type,t){case nx:case ix:case rx:case lx:case cx:return t;default:switch(t=t&&t.$$typeof,t){case Pue:case ax:case ox:case dx:case ux:case sx:return t;default:return e}}case aP:return e}}}Xe.ContextConsumer=ax;Xe.ContextProvider=sx;Xe.Element=sP;Xe.ForwardRef=ox;Xe.Fragment=nx;Xe.Lazy=dx;Xe.Memo=ux;Xe.Portal=aP;Xe.Profiler=ix;Xe.StrictMode=rx;Xe.Suspense=lx;Xe.SuspenseList=cx;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return Gr(t)===ax};Xe.isContextProvider=function(t){return Gr(t)===sx};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sP};Xe.isForwardRef=function(t){return Gr(t)===ox};Xe.isFragment=function(t){return Gr(t)===nx};Xe.isLazy=function(t){return Gr(t)===dx};Xe.isMemo=function(t){return Gr(t)===ux};Xe.isPortal=function(t){return Gr(t)===aP};Xe.isProfiler=function(t){return Gr(t)===ix};Xe.isStrictMode=function(t){return Gr(t)===rx};Xe.isSuspense=function(t){return Gr(t)===lx};Xe.isSuspenseList=function(t){return Gr(t)===cx};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nx||t===ix||t===rx||t===lx||t===cx||t===Iue||typeof t=="object"&&t!==null&&(t.$$typeof===dx||t.$$typeof===ux||t.$$typeof===sx||t.$$typeof===ax||t.$$typeof===ox||t.$$typeof===lB||t.getModuleId!==void 0)};Xe.typeOf=Gr;oB.exports=Xe;var Nue=oB.exports,kue=Os,Oue=js,jue="[object Number]";function Cue(t){return typeof t=="number"||Oue(t)&&kue(t)==jue}var cB=Cue;const Rue=qe(cB);var Due=cB;function Mue(t){return Due(t)&&t!=+t}var $ue=Mue;const Pp=qe($ue);var Dn=function(e){return e===0?0:e>0?1:-1},No=function(e){return ol(e)&&e.indexOf("%")===e.length-1},ae=function(e){return Rue(e)&&!Pp(e)},Bt=function(e){return ae(e)||ol(e)},Lue=0,zu=function(e){var n=++Lue;return"".concat(e||"").concat(n)},Mn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!ol(e))return r;var s;if(No(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Pp(s)&&(s=r),i&&s>n&&(s=n),s},na=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Vue=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},lr=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function zy(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):mr(r,e))===n})}var Fue=function(e,n){return ae(e)&&ae(n)?e-n:ol(e)&&ol(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ac(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function F_(t){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F_(t)}var Bue=["viewBox","children"],Uue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YC=["points","pathLength"],pw={svg:Bue,polygon:YC,polyline:YC},oP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wy=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Vu(r))return null;var i={};return Object.keys(r).forEach(function(s){oP.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},zue=function(e,n,r){return function(i){return e(n,r,i),null}},ll=function(e,n,r){if(!Vu(e)||F_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];oP.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=zue(a,n,r))}),i},Wue=["children"],que=["children"];function XC(t,e){if(t==null)return{};var n=Hue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B_(t){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B_(t)}var QC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},as=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},JC=null,mw=null,lP=function t(e){if(e===JC&&Array.isArray(mw))return mw;var n=[];return j.Children.forEach(e,function(r){Ie(r)||(Nue.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),mw=n,JC=e,n};function gr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return as(i)}):r=[as(e)],lP(t).forEach(function(i){var s=mr(i,"type.displayName")||mr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function sr(t,e){var n=gr(t,e);return n&&n[0]}var ZC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},Kue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gue=function(e){return e&&e.type&&ol(e.type)&&Kue.indexOf(e.type)>=0},Yue=function(e){return e&&B_(e)==="object"&&"clipDot"in e},Xue=function(e,n,r,i){var s,a=(s=pw==null?void 0:pw[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ae(e)&&(i&&a.includes(n)||Uue.includes(n))||r&&oP.includes(n)},be=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Vu(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Xue((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},U_=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return e2(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!e2(s,a))return!1}return!0},e2=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,s=XC(r,Wue),a=n.props||{},o=a.children,l=XC(a,que);return i&&o?Ac(s,l)&&U_(i,o):!i&&!o?Ac(s,l):!1}return!1},t2=function(e,n){var r=[],i={};return lP(e).forEach(function(s,a){if(Gue(s))r.push(s);else if(s){var o=as(s.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var h=c(s,o,a);r.push(h),i[o]=!0}}}),r},Que=function(e){var n=e&&e.type;return n&&QC[n]?QC[n]:null},Jue=function(e,n){return lP(n).indexOf(e)},Zue=["children","width","height","viewBox","className","style","title","desc"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}function ede(t,e){if(t==null)return{};var n=tde(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=ede(t,Zue),d=i||{width:n,height:r,x:0,y:0},h=ke("recharts-surface",s);return $.createElement("svg",z_({},be(c,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,o),$.createElement("desc",null,l),e)}var nde=["children","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function rde(t,e){if(t==null)return{};var n=ide(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Fe=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=rde(t,nde),s=ke("recharts-layer",r);return $.createElement("g",q_({className:s},be(i,!0),{ref:e}),n)}),di=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function sde(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var ade=sde,ode=ade;function lde(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ode(t,e,n)}var cde=lde,ude="\\ud800-\\udfff",dde="\\u0300-\\u036f",hde="\\ufe20-\\ufe2f",fde="\\u20d0-\\u20ff",pde=dde+hde+fde,mde="\\ufe0e\\ufe0f",gde="\\u200d",yde=RegExp("["+gde+ude+pde+mde+"]");function vde(t){return yde.test(t)}var uB=vde;function xde(t){return t.split("")}var bde=xde,dB="\\ud800-\\udfff",wde="\\u0300-\\u036f",_de="\\ufe20-\\ufe2f",Sde="\\u20d0-\\u20ff",Tde=wde+_de+Sde,Ede="\\ufe0e\\ufe0f",Ade="["+dB+"]",H_="["+Tde+"]",K_="\\ud83c[\\udffb-\\udfff]",Pde="(?:"+H_+"|"+K_+")",hB="[^"+dB+"]",fB="(?:\\ud83c[\\udde6-\\uddff]){2}",pB="[\\ud800-\\udbff][\\udc00-\\udfff]",Ide="\\u200d",mB=Pde+"?",gB="["+Ede+"]?",Nde="(?:"+Ide+"(?:"+[hB,fB,pB].join("|")+")"+gB+mB+")*",kde=gB+mB+Nde,Ode="(?:"+[hB+H_+"?",H_,fB,pB,Ade].join("|")+")",jde=RegExp(K_+"(?="+K_+")|"+Ode+kde,"g");function Cde(t){return t.match(jde)||[]}var Rde=Cde,Dde=bde,Mde=uB,$de=Rde;function Lde(t){return Mde(t)?$de(t):Dde(t)}var Vde=Lde,Fde=cde,Bde=uB,Ude=Vde,zde=iB;function Wde(t){return function(e){e=zde(e);var n=Bde(e)?Ude(e):void 0,r=n?n[0]:e.charAt(0),i=n?Fde(n,1).join(""):e.slice(1);return r[t]()+i}}var qde=Wde,Hde=qde,Kde=Hde("toUpperCase"),Gde=Kde;const hx=qe(Gde);function nt(t){return function(){return t}}const yB=Math.cos,qy=Math.sin,fi=Math.sqrt,Hy=Math.PI,fx=2*Hy,G_=Math.PI,Y_=2*G_,fo=1e-6,Yde=Y_-fo;function vB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xde(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vB;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Qde{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vB:Xde(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,d=a-e,h=o-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>fo)if(!(Math.abs(h*l-c*d)>fo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-o,y=l*l+c*c,v=m*m+g*g,w=Math.sqrt(y),b=Math.sqrt(f),x=s*Math.tan((G_-Math.acos((y+f-v)/(2*w*b)))/2),A=x/b,T=x/w;Math.abs(A-1)>fo&&this._append`L${e+A*d},${n+A*h}`,this._append`A${s},${s},0,0,${+(h*m>d*g)},${this._x1=e+T*l},${this._y1=n+T*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>fo||Math.abs(this._y1-d)>fo)&&this._append`L${c},${d}`,r&&(f<0&&(f=f%Y_+Y_),f>Yde?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=d}`:f>fo&&this._append`A${r},${r},0,${+(f>=G_)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Qde(e)}function uP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xB(t){this._context=t}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function px(t){return new xB(t)}function bB(t){return t[0]}function wB(t){return t[1]}function _B(t,e){var n=nt(!0),r=null,i=px,s=null,a=cP(o);t=typeof t=="function"?t:t===void 0?bB:nt(t),e=typeof e=="function"?e:e===void 0?wB:nt(e);function o(l){var c,d=(l=uP(l)).length,h,f=!1,m;for(r==null&&(s=i(m=a())),c=0;c<=d;++c)!(c<d&&n(h=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,c,l),+e(h,c,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:nt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:nt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function jm(t,e,n){var r=null,i=nt(!0),s=null,a=px,o=null,l=cP(c);t=typeof t=="function"?t:t===void 0?bB:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wB:nt(+n);function c(h){var f,m,g,y=(h=uP(h)).length,v,w=!1,b,x=new Array(y),A=new Array(y);for(s==null&&(o=a(b=l())),f=0;f<=y;++f){if(!(f<y&&i(v=h[f],f,h))===w)if(w=!w)m=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=m;--g)o.point(x[g],A[g]);o.lineEnd(),o.areaEnd()}w&&(x[f]=+t(v,f,h),A[f]=+e(v,f,h),o.point(r?+r(v,f,h):x[f],n?+n(v,f,h):A[f]))}if(b)return o=null,b+""||null}function d(){return _B().defined(i).curve(a).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:nt(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:nt(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:nt(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:nt(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:nt(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:nt(+h),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:nt(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),c):a},c.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),c):s},c}class SB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Jde(t){return new SB(t,!0)}function Zde(t){return new SB(t,!1)}const dP={draw(t,e){const n=fi(e/Hy);t.moveTo(n,0),t.arc(0,0,n,0,fx)}},ehe={draw(t,e){const n=fi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TB=fi(1/3),the=TB*2,nhe={draw(t,e){const n=fi(e/the),r=n*TB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rhe={draw(t,e){const n=fi(e),r=-n/2;t.rect(r,r,n,n)}},ihe=.8908130915292852,EB=qy(Hy/10)/qy(7*Hy/10),she=qy(fx/10)*EB,ahe=-yB(fx/10)*EB,ohe={draw(t,e){const n=fi(e*ihe),r=she*n,i=ahe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=fx*s/5,o=yB(a),l=qy(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},gw=fi(3),lhe={draw(t,e){const n=-fi(e/(gw*3));t.moveTo(0,n*2),t.lineTo(-gw*n,-n),t.lineTo(gw*n,-n),t.closePath()}},Ar=-.5,Pr=fi(3)/2,X_=1/fi(12),che=(X_/2+1)*3,uhe={draw(t,e){const n=fi(e/che),r=n/2,i=n*X_,s=r,a=n*X_+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Ar*r-Pr*i,Pr*r+Ar*i),t.lineTo(Ar*s-Pr*a,Pr*s+Ar*a),t.lineTo(Ar*o-Pr*l,Pr*o+Ar*l),t.lineTo(Ar*r+Pr*i,Ar*i-Pr*r),t.lineTo(Ar*s+Pr*a,Ar*a-Pr*s),t.lineTo(Ar*o+Pr*l,Ar*l-Pr*o),t.closePath()}};function dhe(t,e){let n=null,r=cP(i);t=typeof t=="function"?t:nt(t||dP),e=typeof e=="function"?e:nt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:nt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:nt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ky(){}function Gy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function AB(t){this._context=t}AB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hhe(t){return new AB(t)}function PB(t){this._context=t}PB.prototype={areaStart:Ky,areaEnd:Ky,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fhe(t){return new PB(t)}function IB(t){this._context=t}IB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function phe(t){return new IB(t)}function NB(t){this._context=t}NB.prototype={areaStart:Ky,areaEnd:Ky,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mhe(t){return new NB(t)}function n2(t){return t<0?-1:1}function r2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(n2(s)+n2(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function i2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yw(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Yy(t){this._context=t}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yw(this,this._t0,i2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yw(this,i2(this,n=r2(this,t,e)),n);break;default:yw(this,this._t0,n=r2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kB(t){this._context=new OB(t)}(kB.prototype=Object.create(Yy.prototype)).point=function(t,e){Yy.prototype.point.call(this,e,t)};function OB(t){this._context=t}OB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function ghe(t){return new Yy(t)}function yhe(t){return new kB(t)}function jB(t){this._context=t}jB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=s2(t),i=s2(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function s2(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function vhe(t){return new jB(t)}function mx(t,e){this._context=t,this._t=e}mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function xhe(t){return new mx(t,.5)}function bhe(t){return new mx(t,0)}function whe(t){return new mx(t,1)}function eu(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Q_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _he(t,e){return t[e]}function She(t){const e=[];return e.key=t,e}function The(){var t=nt([]),e=Q_,n=eu,r=_he;function i(s){var a=Array.from(t.apply(this,arguments),She),o,l=a.length,c=-1,d;for(const h of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(h,a[o].key,c,s)]).data=h;for(o=0,d=uP(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:nt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:nt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Q_:typeof s=="function"?s:nt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??eu,i):n},i}function Ehe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}eu(t,e)}}function Ahe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}eu(t,e)}}function Phe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=t[e[o]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,g=0;g<o;++g){var y=t[e[g]],v=y[r][1]||0,w=y[r-1][1]||0;m+=v-w}l+=h,c+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,eu(t,e)}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var Ihe=["type","size","sizeType"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){Nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nhe(t,e,n){return e=khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Ohe(t,"string");return gf(e)=="symbol"?e:e+""}function Ohe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jhe(t,e){if(t==null)return{};var n=Che(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Che(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CB={symbolCircle:dP,symbolCross:ehe,symbolDiamond:nhe,symbolSquare:rhe,symbolStar:ohe,symbolTriangle:lhe,symbolWye:uhe},Rhe=Math.PI/180,Dhe=function(e){var n="symbol".concat(hx(e));return CB[n]||dP},Mhe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Rhe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$he=function(e,n){CB["symbol".concat(hx(e))]=n},hP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=jhe(e,Ihe),c=o2(o2({},l),{},{type:r,size:s,sizeType:o}),d=function(){var v=Dhe(r),w=dhe().type(v).size(Mhe(s,o,r));return w()},h=c.className,f=c.cx,m=c.cy,g=be(c,!0);return f===+f&&m===+m&&s===+s?$.createElement("path",J_({},g,{className:ke("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};hP.registerSymbol=$he;function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){yf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DB(r.key),r)}}function Fhe(t,e,n){return e&&c2(t.prototype,e),n&&c2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bhe(t,e,n){return e=Xy(e),Uhe(t,RB()?Reflect.construct(e,n||[],Xy(t).constructor):e.apply(t,n))}function Uhe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zhe(t)}function zhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xy(t)}function Whe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eS(t,e)}function yf(t,e,n){return e=DB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DB(t){var e=qhe(t,"string");return tu(e)=="symbol"?e:e+""}function qhe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ir=32,fP=function(t){function e(){return Vhe(this,e),Bhe(this,e,arguments)}return Whe(e,t),Fhe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Ir/2,a=Ir/6,o=Ir/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Ir,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Ir,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ir/8,"h").concat(Ir,"v").concat(Ir*3/4,"h").concat(-Ir,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var c=Lhe({},r);return delete c.legendIcon,$.cloneElement(r.legendIcon,c)}return $.createElement(hP,{fill:l,cx:s,cy:s,size:Ir,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Ir,height:Ir},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var y=m.formatter||l,v=ke(yf(yf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=Ae(m.value)?null:m.value;di(!Ae(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?c:m.color;return $.createElement("li",Z_({className:v,style:h,key:"legend-item-".concat(g)},ll(r.props,m,g)),$.createElement(W_,{width:a,height:a,viewBox:d,style:f},r.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(w,m,g):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(j.PureComponent);yf(fP,"displayName","Legend");yf(fP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hhe=Z0;function Khe(){this.__data__=new Hhe,this.size=0}var Ghe=Khe;function Yhe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Xhe=Yhe;function Qhe(t){return this.__data__.get(t)}var Jhe=Qhe;function Zhe(t){return this.__data__.has(t)}var efe=Zhe,tfe=Z0,nfe=eP,rfe=tP,ife=200;function sfe(t,e){var n=this.__data__;if(n instanceof tfe){var r=n.__data__;if(!nfe||r.length<ife-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rfe(r)}return n.set(t,e),this.size=n.size,this}var afe=sfe,ofe=Z0,lfe=Ghe,cfe=Xhe,ufe=Jhe,dfe=efe,hfe=afe;function Wu(t){var e=this.__data__=new ofe(t);this.size=e.size}Wu.prototype.clear=lfe;Wu.prototype.delete=cfe;Wu.prototype.get=ufe;Wu.prototype.has=dfe;Wu.prototype.set=hfe;var MB=Wu,ffe="__lodash_hash_undefined__";function pfe(t){return this.__data__.set(t,ffe),this}var mfe=pfe;function gfe(t){return this.__data__.has(t)}var yfe=gfe,vfe=tP,xfe=mfe,bfe=yfe;function Qy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new vfe;++e<n;)this.add(t[e])}Qy.prototype.add=Qy.prototype.push=xfe;Qy.prototype.has=bfe;var $B=Qy;function wfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var LB=wfe;function _fe(t,e){return t.has(e)}var VB=_fe,Sfe=$B,Tfe=LB,Efe=VB,Afe=1,Pfe=2;function Ife(t,e,n,r,i,s){var a=n&Afe,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,m=n&Pfe?new Sfe:void 0;for(s.set(t,e),s.set(e,t);++h<o;){var g=t[h],y=e[h];if(r)var v=a?r(y,g,h,e,t,s):r(g,y,h,t,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!Tfe(e,function(w,b){if(!Efe(m,b)&&(g===w||i(g,w,n,r,s)))return m.push(b)})){f=!1;break}}else if(!(g===y||i(g,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var FB=Ife,Nfe=Mi,kfe=Nfe.Uint8Array,Ofe=kfe;function jfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Cfe=jfe;function Rfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var pP=Rfe,u2=Ap,d2=Ofe,Dfe=ZA,Mfe=FB,$fe=Cfe,Lfe=pP,Vfe=1,Ffe=2,Bfe="[object Boolean]",Ufe="[object Date]",zfe="[object Error]",Wfe="[object Map]",qfe="[object Number]",Hfe="[object RegExp]",Kfe="[object Set]",Gfe="[object String]",Yfe="[object Symbol]",Xfe="[object ArrayBuffer]",Qfe="[object DataView]",h2=u2?u2.prototype:void 0,vw=h2?h2.valueOf:void 0;function Jfe(t,e,n,r,i,s,a){switch(n){case Qfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xfe:return!(t.byteLength!=e.byteLength||!s(new d2(t),new d2(e)));case Bfe:case Ufe:case qfe:return Dfe(+t,+e);case zfe:return t.name==e.name&&t.message==e.message;case Hfe:case Gfe:return t==e+"";case Wfe:var o=$fe;case Kfe:var l=r&Vfe;if(o||(o=Lfe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Ffe,a.set(t,e);var d=Mfe(o(t),o(e),r,i,s,a);return a.delete(t),d;case Yfe:if(vw)return vw.call(t)==vw.call(e)}return!1}var Zfe=Jfe;function epe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var BB=epe,tpe=BB,npe=er;function rpe(t,e,n){var r=e(t);return npe(t)?r:tpe(r,n(t))}var ipe=rpe;function spe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var ape=spe;function ope(){return[]}var lpe=ope,cpe=ape,upe=lpe,dpe=Object.prototype,hpe=dpe.propertyIsEnumerable,f2=Object.getOwnPropertySymbols,fpe=f2?function(t){return t==null?[]:(t=Object(t),cpe(f2(t),function(e){return hpe.call(t,e)}))}:upe,ppe=fpe;function mpe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gpe=mpe,ype=Os,vpe=js,xpe="[object Arguments]";function bpe(t){return vpe(t)&&ype(t)==xpe}var wpe=bpe,p2=wpe,_pe=js,UB=Object.prototype,Spe=UB.hasOwnProperty,Tpe=UB.propertyIsEnumerable,Epe=p2(function(){return arguments}())?p2:function(t){return _pe(t)&&Spe.call(t,"callee")&&!Tpe.call(t,"callee")},mP=Epe,Jy={exports:{}};function Ape(){return!1}var Ppe=Ape;Jy.exports;(function(t,e){var n=Mi,r=Ppe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Jy,Jy.exports);var zB=Jy.exports,Ipe=9007199254740991,Npe=/^(?:0|[1-9]\d*)$/;function kpe(t,e){var n=typeof t;return e=e??Ipe,!!e&&(n=="number"||n!="symbol"&&Npe.test(t))&&t>-1&&t%1==0&&t<e}var gP=kpe,Ope=9007199254740991;function jpe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ope}var yP=jpe,Cpe=Os,Rpe=yP,Dpe=js,Mpe="[object Arguments]",$pe="[object Array]",Lpe="[object Boolean]",Vpe="[object Date]",Fpe="[object Error]",Bpe="[object Function]",Upe="[object Map]",zpe="[object Number]",Wpe="[object Object]",qpe="[object RegExp]",Hpe="[object Set]",Kpe="[object String]",Gpe="[object WeakMap]",Ype="[object ArrayBuffer]",Xpe="[object DataView]",Qpe="[object Float32Array]",Jpe="[object Float64Array]",Zpe="[object Int8Array]",eme="[object Int16Array]",tme="[object Int32Array]",nme="[object Uint8Array]",rme="[object Uint8ClampedArray]",ime="[object Uint16Array]",sme="[object Uint32Array]",ct={};ct[Qpe]=ct[Jpe]=ct[Zpe]=ct[eme]=ct[tme]=ct[nme]=ct[rme]=ct[ime]=ct[sme]=!0;ct[Mpe]=ct[$pe]=ct[Ype]=ct[Lpe]=ct[Xpe]=ct[Vpe]=ct[Fpe]=ct[Bpe]=ct[Upe]=ct[zpe]=ct[Wpe]=ct[qpe]=ct[Hpe]=ct[Kpe]=ct[Gpe]=!1;function ame(t){return Dpe(t)&&Rpe(t.length)&&!!ct[Cpe(t)]}var ome=ame;function lme(t){return function(e){return t(e)}}var WB=lme,Zy={exports:{}};Zy.exports;(function(t,e){var n=JF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Zy,Zy.exports);var cme=Zy.exports,ume=ome,dme=WB,m2=cme,g2=m2&&m2.isTypedArray,hme=g2?dme(g2):ume,qB=hme,fme=gpe,pme=mP,mme=er,gme=zB,yme=gP,vme=qB,xme=Object.prototype,bme=xme.hasOwnProperty;function wme(t,e){var n=mme(t),r=!n&&pme(t),i=!n&&!r&&gme(t),s=!n&&!r&&!i&&vme(t),a=n||r||i||s,o=a?fme(t.length,String):[],l=o.length;for(var c in t)(e||bme.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||yme(c,l)))&&o.push(c);return o}var _me=wme,Sme=Object.prototype;function Tme(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Sme;return t===n}var Eme=Tme;function Ame(t,e){return function(n){return t(e(n))}}var HB=Ame,Pme=HB,Ime=Pme(Object.keys,Object),Nme=Ime,kme=Eme,Ome=Nme,jme=Object.prototype,Cme=jme.hasOwnProperty;function Rme(t){if(!kme(t))return Ome(t);var e=[];for(var n in Object(t))Cme.call(t,n)&&n!="constructor"&&e.push(n);return e}var Dme=Rme,Mme=JA,$me=yP;function Lme(t){return t!=null&&$me(t.length)&&!Mme(t)}var Ip=Lme,Vme=_me,Fme=Dme,Bme=Ip;function Ume(t){return Bme(t)?Vme(t):Fme(t)}var gx=Ume,zme=ipe,Wme=ppe,qme=gx;function Hme(t){return zme(t,qme,Wme)}var Kme=Hme,y2=Kme,Gme=1,Yme=Object.prototype,Xme=Yme.hasOwnProperty;function Qme(t,e,n,r,i,s){var a=n&Gme,o=y2(t),l=o.length,c=y2(e),d=c.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=o[h];if(!(a?f in e:Xme.call(e,f)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var y=!0;s.set(t,e),s.set(e,t);for(var v=a;++h<l;){f=o[h];var w=t[f],b=e[f];if(r)var x=a?r(b,w,f,e,t,s):r(w,b,f,t,e,s);if(!(x===void 0?w===b||i(w,b,n,r,s):x)){y=!1;break}v||(v=f=="constructor")}if(y&&!v){var A=t.constructor,T=e.constructor;A!=T&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof T=="function"&&T instanceof T)&&(y=!1)}return s.delete(t),s.delete(e),y}var Jme=Qme,Zme=Tl,ege=Mi,tge=Zme(ege,"DataView"),nge=tge,rge=Tl,ige=Mi,sge=rge(ige,"Promise"),age=sge,oge=Tl,lge=Mi,cge=oge(lge,"Set"),KB=cge,uge=Tl,dge=Mi,hge=uge(dge,"WeakMap"),fge=hge,tS=nge,nS=eP,rS=age,iS=KB,sS=fge,GB=Os,qu=eB,v2="[object Map]",pge="[object Object]",x2="[object Promise]",b2="[object Set]",w2="[object WeakMap]",_2="[object DataView]",mge=qu(tS),gge=qu(nS),yge=qu(rS),vge=qu(iS),xge=qu(sS),po=GB;(tS&&po(new tS(new ArrayBuffer(1)))!=_2||nS&&po(new nS)!=v2||rS&&po(rS.resolve())!=x2||iS&&po(new iS)!=b2||sS&&po(new sS)!=w2)&&(po=function(t){var e=GB(t),n=e==pge?t.constructor:void 0,r=n?qu(n):"";if(r)switch(r){case mge:return _2;case gge:return v2;case yge:return x2;case vge:return b2;case xge:return w2}return e});var bge=po,xw=MB,wge=FB,_ge=Zfe,Sge=Jme,S2=bge,T2=er,E2=zB,Tge=qB,Ege=1,A2="[object Arguments]",P2="[object Array]",Cm="[object Object]",Age=Object.prototype,I2=Age.hasOwnProperty;function Pge(t,e,n,r,i,s){var a=T2(t),o=T2(e),l=a?P2:S2(t),c=o?P2:S2(e);l=l==A2?Cm:l,c=c==A2?Cm:c;var d=l==Cm,h=c==Cm,f=l==c;if(f&&E2(t)){if(!E2(e))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new xw),a||Tge(t)?wge(t,e,n,r,i,s):_ge(t,e,l,n,r,i,s);if(!(n&Ege)){var m=d&&I2.call(t,"__wrapped__"),g=h&&I2.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,v=g?e.value():e;return s||(s=new xw),i(y,v,n,r,s)}}return f?(s||(s=new xw),Sge(t,e,n,r,i,s)):!1}var Ige=Pge,Nge=Ige,N2=js;function YB(t,e,n,r,i){return t===e?!0:t==null||e==null||!N2(t)&&!N2(e)?t!==t&&e!==e:Nge(t,e,n,r,YB,i)}var vP=YB,kge=MB,Oge=vP,jge=1,Cge=2;function Rge(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],d=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var h=new kge;if(r)var f=r(c,d,l,t,e,h);if(!(f===void 0?Oge(d,c,jge|Cge,r,h):f))return!1}}return!0}var Dge=Rge,Mge=za;function $ge(t){return t===t&&!Mge(t)}var XB=$ge,Lge=XB,Vge=gx;function Fge(t){for(var e=Vge(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Lge(i)]}return e}var Bge=Fge;function Uge(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var QB=Uge,zge=Dge,Wge=Bge,qge=QB;function Hge(t){var e=Wge(t);return e.length==1&&e[0][2]?qge(e[0][0],e[0][1]):function(n){return n===t||zge(n,t,e)}}var Kge=Hge;function Gge(t,e){return t!=null&&e in Object(t)}var Yge=Gge,Xge=sB,Qge=mP,Jge=er,Zge=gP,eye=yP,tye=tx;function nye(t,e,n){e=Xge(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=tye(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&eye(i)&&Zge(a,i)&&(Jge(t)||Qge(t)))}var rye=nye,iye=Yge,sye=rye;function aye(t,e){return t!=null&&sye(t,e,iye)}var oye=aye,lye=vP,cye=aB,uye=oye,dye=QA,hye=XB,fye=QB,pye=tx,mye=1,gye=2;function yye(t,e){return dye(t)&&hye(e)?fye(pye(t),e):function(n){var r=cye(n,t);return r===void 0&&r===e?uye(n,t):lye(e,r,mye|gye)}}var vye=yye;function xye(t){return t}var Hu=xye;function bye(t){return function(e){return e==null?void 0:e[t]}}var wye=bye,_ye=iP;function Sye(t){return function(e){return _ye(e,t)}}var Tye=Sye,Eye=wye,Aye=Tye,Pye=QA,Iye=tx;function Nye(t){return Pye(t)?Eye(Iye(t)):Aye(t)}var kye=Nye,Oye=Kge,jye=vye,Cye=Hu,Rye=er,Dye=kye;function Mye(t){return typeof t=="function"?t:t==null?Cye:typeof t=="object"?Rye(t)?jye(t[0],t[1]):Oye(t):Dye(t)}var $i=Mye;function $ye(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var JB=$ye;function Lye(t){return t!==t}var Vye=Lye;function Fye(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Bye=Fye,Uye=JB,zye=Vye,Wye=Bye;function qye(t,e,n){return e===e?Wye(t,e,n):Uye(t,zye,n)}var Hye=qye,Kye=Hye;function Gye(t,e){var n=t==null?0:t.length;return!!n&&Kye(t,e,0)>-1}var Yye=Gye;function Xye(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Qye=Xye;function Jye(){}var Zye=Jye,bw=KB,eve=Zye,tve=pP,nve=1/0,rve=bw&&1/tve(new bw([,-0]))[1]==nve?function(t){return new bw(t)}:eve,ive=rve,sve=$B,ave=Yye,ove=Qye,lve=VB,cve=ive,uve=pP,dve=200;function hve(t,e,n){var r=-1,i=ave,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=ove;else if(s>=dve){var c=e?null:cve(t);if(c)return uve(c);a=!1,i=lve,l=new sve}else l=e?[]:o;e:for(;++r<s;){var d=t[r],h=e?e(d):d;if(d=n||d!==0?d:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),o.push(d)}else i(l,h,n)||(l!==o&&l.push(h),o.push(d))}return o}var fve=hve,pve=$i,mve=fve;function gve(t,e){return t&&t.length?mve(t,pve(e)):[]}var yve=gve;const k2=qe(yve);function ZB(t,e,n){return e===!0?k2(t,n):Ae(e)?k2(t,e):t}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var vve=["ref"];function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tU(r.key),r)}}function bve(t,e,n){return e&&j2(t.prototype,e),n&&j2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wve(t,e,n){return e=ev(e),_ve(t,eU()?Reflect.construct(e,n||[],ev(t).constructor):e.apply(t,n))}function _ve(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(t)}function Sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(t)}function Tve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aS(t,e)}function yx(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=Eve(t,"string");return nu(e)=="symbol"?e:e+""}function Eve(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ave(t,e){if(t==null)return{};var n=Pve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ive(t){return t.value}function Nve(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=Ave(e,vve);return $.createElement(fP,n)}var C2=1,Fo=function(t){function e(){var n;xve(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=wve(this,e,[].concat(i)),yx(n,"lastBoundingBox",{width:-1,height:-1}),n}return Tve(e,t),bve(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>C2||Math.abs(i.height-this.lastBoundingBox.height)>C2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();h={left:((c||0)-m.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Bi(Bi({},h),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,h=Bi(Bi({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},Nve(s,Bi(Bi({},this.props),{},{payload:ZB(d,c,Ive)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Bi(Bi({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ae(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);yx(Fo,"displayName","Legend");yx(Fo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var R2=Ap,kve=mP,Ove=er,D2=R2?R2.isConcatSpreadable:void 0;function jve(t){return Ove(t)||kve(t)||!!(D2&&t&&t[D2])}var Cve=jve,Rve=BB,Dve=Cve;function nU(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=Dve),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?nU(o,e-1,n,r,i):Rve(i,o):r||(i[i.length]=o)}return i}var rU=nU;function Mve(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var $ve=Mve,Lve=$ve,Vve=Lve(),Fve=Vve,Bve=Fve,Uve=gx;function zve(t,e){return t&&Bve(t,e,Uve)}var iU=zve,Wve=Ip;function qve(t,e){return function(n,r){if(n==null)return n;if(!Wve(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var Hve=qve,Kve=iU,Gve=Hve,Yve=Gve(Kve),xP=Yve,Xve=xP,Qve=Ip;function Jve(t,e){var n=-1,r=Qve(t)?Array(t.length):[];return Xve(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var sU=Jve;function Zve(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var e0e=Zve,M2=Lu;function t0e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=M2(t),a=e!==void 0,o=e===null,l=e===e,c=M2(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var n0e=t0e,r0e=n0e;function i0e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=r0e(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var s0e=i0e,ww=rP,a0e=iP,o0e=$i,l0e=sU,c0e=e0e,u0e=WB,d0e=s0e,h0e=Hu,f0e=er;function p0e(t,e,n){e.length?e=ww(e,function(s){return f0e(s)?function(a){return a0e(a,s.length===1?s[0]:s)}:s}):e=[h0e];var r=-1;e=ww(e,u0e(o0e));var i=l0e(t,function(s,a,o){var l=ww(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return c0e(i,function(s,a){return d0e(s,a,n)})}var m0e=p0e;function g0e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var y0e=g0e,v0e=y0e,$2=Math.max;function x0e(t,e,n){return e=$2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=$2(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),v0e(t,this,o)}}var b0e=x0e;function w0e(t){return function(){return t}}var _0e=w0e,S0e=Tl,T0e=function(){try{var t=S0e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aU=T0e,E0e=_0e,L2=aU,A0e=Hu,P0e=L2?function(t,e){return L2(t,"toString",{configurable:!0,enumerable:!1,value:E0e(e),writable:!0})}:A0e,I0e=P0e,N0e=800,k0e=16,O0e=Date.now;function j0e(t){var e=0,n=0;return function(){var r=O0e(),i=k0e-(r-n);if(n=r,i>0){if(++e>=N0e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var C0e=j0e,R0e=I0e,D0e=C0e,M0e=D0e(R0e),$0e=M0e,L0e=Hu,V0e=b0e,F0e=$0e;function B0e(t,e){return F0e(V0e(t,e,L0e),t+"")}var U0e=B0e,z0e=ZA,W0e=Ip,q0e=gP,H0e=za;function K0e(t,e,n){if(!H0e(n))return!1;var r=typeof e;return(r=="number"?W0e(n)&&q0e(e,n.length):r=="string"&&e in n)?z0e(n[e],t):!1}var vx=K0e,G0e=rU,Y0e=m0e,X0e=U0e,V2=vx,Q0e=X0e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&V2(t,e[0],e[1])?e=[]:n>2&&V2(e[0],e[1],e[2])&&(e=[e[0]]),Y0e(t,G0e(e,1),[])}),J0e=Q0e;const bP=qe(J0e);function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function Z0e(t,e){return rxe(t)||nxe(t,e)||txe(t,e)||exe()}function exe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function txe(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function rxe(t){if(Array.isArray(t))return t}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ixe(t,e,n){return e=sxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sxe(t){var e=axe(t,"string");return vf(e)=="symbol"?e:e+""}function axe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oxe(t){return Array.isArray(t)&&Bt(t[0])&&Bt(t[1])?t.join(" ~ "):t}var lxe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,h=e.formatter,f=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,x=function(){if(d&&d.length){var C={padding:0,margin:0},R=(f?bP(d,f):d).map(function(F,B){if(F.type==="none")return null;var H=_w({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},o),Y=F.formatter||h||oxe,L=F.value,q=F.name,X=L,te=q;if(Y&&X!=null&&te!=null){var Z=Y(L,q,F,B,d);if(Array.isArray(Z)){var ne=Z0e(Z,2);X=ne[0],te=ne[1]}else X=Z}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:H},Bt(te)?$.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Bt(te)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},X),$.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:C},R)}return null},A=_w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=_w({margin:0},c),P=!Ie(y),E=P?y:"",S=ke("recharts-default-tooltip",m),I=ke("recharts-tooltip-label",g);P&&v&&d!==void 0&&d!==null&&(E=v(y,d));var k=b?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",oS({className:S,style:A},k),$.createElement("p",{className:I,style:T},$.isValidElement(E)?E:"".concat(E)),x())};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Rm(t,e,n){return e=cxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cxe(t){var e=uxe(t,"string");return xf(e)=="symbol"?e:e+""}function uxe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pd="recharts-tooltip-wrapper",dxe={visibility:"hidden"};function hxe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Pd,Rm(Rm(Rm(Rm({},"".concat(Pd,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(Pd,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(Pd,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(Pd,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function U2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ae(s[r]))return s[r];var d=n[r]-o-i,h=n[r]+i;if(e[r])return a[r]?d:h;if(a[r]){var f=d,m=l[r];return f<m?Math.max(h,l[r]):Math.max(d,l[r])}var g=h+o,y=l[r]+c;return g>y?Math.max(d,l[r]):Math.max(h,l[r])}function fxe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function pxe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,h;return a.height>0&&a.width>0&&n?(d=U2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=U2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=fxe({translateX:d,translateY:h,useTranslate3d:o})):c=dxe,{cssProperties:c,cssClasses:hxe({translateX:d,translateY:h,coordinate:n})}}function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){cS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lU(r.key),r)}}function gxe(t,e,n){return e&&q2(t.prototype,e),n&&q2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yxe(t,e,n){return e=tv(e),vxe(t,oU()?Reflect.construct(e,n||[],tv(t).constructor):e.apply(t,n))}function vxe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxe(t)}function xxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tv(t)}function bxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lS(t,e)}function cS(t,e,n){return e=lU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lU(t){var e=wxe(t,"string");return ru(e)=="symbol"?e:e+""}function wxe(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H2=1,_xe=function(t){function e(){var n;mxe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yxe(this,e,[].concat(i)),cS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cS(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return bxe(e,t),gxe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>H2||Math.abs(r.height-this.state.lastBoundingBox.height)>H2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,x=pxe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),A=x.cssClasses,T=x.cssProperties,P=W2(W2({transition:f&&s?"transform ".concat(o,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return $.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(S){r.wrapperNode=S}},c)}}])}(j.PureComponent),Sxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pi={isSsr:Sxe(),get:function(e){return Pi[e]},set:function(e,n){if(typeof e=="string")Pi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Pi[i]=e[i]})}}};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){wP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function Exe(t,e,n){return e&&Y2(t.prototype,e),n&&Y2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Axe(t,e,n){return e=nv(e),Pxe(t,cU()?Reflect.construct(e,n||[],nv(t).constructor):e.apply(t,n))}function Pxe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ixe(t)}function Ixe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nv(t)}function Nxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uS(t,e)}function wP(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=kxe(t,"string");return iu(e)=="symbol"?e:e+""}function kxe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oxe(t){return t.dataKey}function jxe(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(lxe,e)}var or=function(t){function e(){return Txe(this,e),Axe(this,e,arguments)}return Nxe(e,t),Exe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,w=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,A=i.wrapperStyle,T=g??[];h&&T.length&&(T=ZB(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),y,Oxe));var P=T.length>0;return $.createElement(_xe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:f,active:s,coordinate:d,hasPayload:P,offset:m,position:v,reverseDirection:w,useTranslate3d:b,viewBox:x,wrapperStyle:A},jxe(c,G2(G2({},this.props),{},{payload:T})))}}])}(j.PureComponent);wP(or,"displayName","Tooltip");wP(or,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cxe=Mi,Rxe=function(){return Cxe.Date.now()},Dxe=Rxe,Mxe=/\s/;function $xe(t){for(var e=t.length;e--&&Mxe.test(t.charAt(e)););return e}var Lxe=$xe,Vxe=Lxe,Fxe=/^\s+/;function Bxe(t){return t&&t.slice(0,Vxe(t)+1).replace(Fxe,"")}var Uxe=Bxe,zxe=Uxe,X2=za,Wxe=Lu,Q2=0/0,qxe=/^[-+]0x[0-9a-f]+$/i,Hxe=/^0b[01]+$/i,Kxe=/^0o[0-7]+$/i,Gxe=parseInt;function Yxe(t){if(typeof t=="number")return t;if(Wxe(t))return Q2;if(X2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=X2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zxe(t);var n=Hxe.test(t);return n||Kxe.test(t)?Gxe(t.slice(2),n?2:8):qxe.test(t)?Q2:+t}var dU=Yxe,Xxe=za,Sw=Dxe,J2=dU,Qxe="Expected a function",Jxe=Math.max,Zxe=Math.min;function ebe(t,e,n){var r,i,s,a,o,l,c=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Qxe);e=J2(e)||0,Xxe(n)&&(d=!!n.leading,h="maxWait"in n,s=h?Jxe(J2(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function m(P){var E=r,S=i;return r=i=void 0,c=P,a=t.apply(S,E),a}function g(P){return c=P,o=setTimeout(w,e),d?m(P):a}function y(P){var E=P-l,S=P-c,I=e-E;return h?Zxe(I,s-S):I}function v(P){var E=P-l,S=P-c;return l===void 0||E>=e||E<0||h&&S>=s}function w(){var P=Sw();if(v(P))return b(P);o=setTimeout(w,y(P))}function b(P){return o=void 0,f&&r?m(P):(r=i=void 0,a)}function x(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function A(){return o===void 0?a:b(Sw())}function T(){var P=Sw(),E=v(P);if(r=arguments,i=this,l=P,E){if(o===void 0)return g(l);if(h)return clearTimeout(o),o=setTimeout(w,e),m(l)}return o===void 0&&(o=setTimeout(w,e)),a}return T.cancel=x,T.flush=A,T}var tbe=ebe,nbe=tbe,rbe=za,ibe="Expected a function";function sbe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ibe);return rbe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nbe(t,e,{leading:r,maxWait:e,trailing:i})}var abe=sbe;const hU=qe(abe);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){obe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function obe(t,e,n){return e=lbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lbe(t){var e=cbe(t,"string");return bf(e)=="symbol"?e:e+""}function cbe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ube(t,e){return pbe(t)||fbe(t,e)||hbe(t,e)||dbe()}function dbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(t,e){if(t){if(typeof t=="string")return eR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eR(t,e)}}function eR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function pbe(t){if(Array.isArray(t))return t}var Ag=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,h=t.minHeight,f=t.maxHeight,m=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,w=t.className,b=t.onResize,x=t.style,A=x===void 0?{}:x,T=j.useRef(null),P=j.useRef();P.current=b,j.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=j.useState({containerWidth:i.width,containerHeight:i.height}),S=ube(E,2),I=S[0],k=S[1],O=j.useCallback(function(R,F){k(function(B){var H=Math.round(R),Y=Math.round(F);return B.containerWidth===H&&B.containerHeight===Y?B:{containerWidth:H,containerHeight:Y}})},[]);j.useEffect(function(){var R=function(q){var X,te=q[0].contentRect,Z=te.width,ne=te.height;O(Z,ne),(X=P.current)===null||X===void 0||X.call(P,Z,ne)};y>0&&(R=hU(R,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),B=T.current.getBoundingClientRect(),H=B.width,Y=B.height;return O(H,Y),F.observe(T.current),function(){F.disconnect()}},[O,y]);var C=j.useMemo(function(){var R=I.containerWidth,F=I.containerHeight;if(R<0||F<0)return null;di(No(a)||No(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),di(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=No(a)?R:a,H=No(l)?F:l;n&&n>0&&(B?H=B/n:H&&(B=H*n),f&&H>f&&(H=f)),di(B>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,H,a,l,d,h,n);var Y=!Array.isArray(m)&&as(m.type).endsWith("Chart");return $.Children.map(m,function(L){return $.isValidElement(L)?j.cloneElement(L,Dm({width:B,height:H},Y?{style:Dm({height:"100%",width:"100%",maxHeight:H,maxWidth:B},L.props.style)}:{})):L})},[n,m,l,f,h,d,I,a]);return $.createElement("div",{id:v?"".concat(v):void 0,className:ke("recharts-responsive-container",w),style:Dm(Dm({},A),{},{width:a,height:l,minWidth:d,minHeight:h,maxHeight:f}),ref:T},C)}),xx=function(e){return null};xx.displayName="Cell";function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){mbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mbe(t,e,n){return e=gbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gbe(t){var e=ybe(t,"string");return wf(e)=="symbol"?e:e+""}function ybe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fl={widthCache:{},cacheCount:0},vbe=2e3,xbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nR="recharts_measurement_span";function bbe(t){var e=dS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var _h=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pi.isSsr)return{width:0,height:0};var r=bbe(n),i=JSON.stringify({text:e,copyStyle:r});if(Fl.widthCache[i])return Fl.widthCache[i];try{var s=document.getElementById(nR);s||(s=document.createElement("span"),s.setAttribute("id",nR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=dS(dS({},xbe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Fl.widthCache[i]=l,++Fl.cacheCount>vbe&&(Fl.cacheCount=0,Fl.widthCache={}),l}catch{return{width:0,height:0}}},wbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function rv(t,e){return Ebe(t)||Tbe(t,e)||Sbe(t,e)||_be()}function _be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sbe(t,e){if(t){if(typeof t=="string")return rR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(t,e)}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Ebe(t){if(Array.isArray(t))return t}function Abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ibe(r.key),r)}}function Pbe(t,e,n){return e&&iR(t.prototype,e),n&&iR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ibe(t){var e=Nbe(t,"string");return _f(e)=="symbol"?e:e+""}function Nbe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Obe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jbe=Object.keys(fU),dc="NaN";function Cbe(t,e){return t*fU[e]}var Mm=function(){function t(e,n){Abe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!kbe.test(n)&&(this.num=NaN,this.unit=""),jbe.includes(n)&&(this.num=Cbe(e,n),this.unit="px")}return Pbe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Obe.exec(n))!==null&&r!==void 0?r:[],s=rv(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function pU(t){if(t.includes(dc))return dc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=sR.exec(e))!==null&&n!==void 0?n:[],i=rv(r,4),s=i[1],a=i[2],o=i[3],l=Mm.parse(s??""),c=Mm.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return dc;e=e.replace(sR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=aR.exec(e))!==null&&h!==void 0?h:[],m=rv(f,4),g=m[1],y=m[2],v=m[3],w=Mm.parse(g??""),b=Mm.parse(v??""),x=y==="+"?w.add(b):w.subtract(b);if(x.isNaN())return dc;e=e.replace(aR,x.toString())}return e}var oR=/\(([^()]*)\)/;function Rbe(t){for(var e=t;e.includes("(");){var n=oR.exec(e),r=rv(n,2),i=r[1];e=e.replace(oR,pU(i))}return e}function Dbe(t){var e=t.replace(/\s+/g,"");return e=Rbe(e),e=pU(e),e}function Mbe(t){try{return Dbe(t)}catch{return dc}}function Tw(t){var e=Mbe(t.slice(5,-1));return e===dc?"":e}var $be=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lbe=["dx","dy","angle","className","breakAll"];function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(this,arguments)}function lR(t,e){if(t==null)return{};var n=Vbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cR(t,e){return zbe(t)||Ube(t,e)||Bbe(t,e)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return uR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uR(t,e)}}function uR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ube(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function zbe(t){if(Array.isArray(t))return t}var mU=/[ \f\n\r\t\v\u2028\u2029]+/,gU=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Ie(n)||(r?s=n.toString().split(""):s=n.toString().split(mU));var a=s.map(function(l){return{word:l,width:_h(l,i).width}}),o=r?0:_h("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Wbe=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=ae(a),h=o,f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(H,Y){var L=Y.word,q=Y.width,X=H[H.length-1];if(X&&(i==null||s||X.width+q+r<Number(i)))X.words.push(L),X.width+=q+r;else{var te={words:[L],width:q};H.push(te)}return H},[])},m=f(n),g=function(B){return B.reduce(function(H,Y){return H.width>Y.width?H:Y})};if(!d)return m;for(var y="",v=function(B){var H=h.slice(0,B),Y=gU({breakAll:c,style:l,children:H+y}).wordsWithComputedWidth,L=f(Y),q=L.length>a||g(L).width>Number(i);return[q,L]},w=0,b=h.length-1,x=0,A;w<=b&&x<=h.length-1;){var T=Math.floor((w+b)/2),P=T-1,E=v(P),S=cR(E,2),I=S[0],k=S[1],O=v(T),C=cR(O,1),R=C[0];if(!I&&!R&&(w=T+1),I&&R&&(b=T-1),!I&&R){A=k;break}x++}return A||m},dR=function(e){var n=Ie(e)?[]:e.toString().split(mU);return[{words:n}]},qbe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!Pi.isSsr){var l,c,d=gU({breakAll:a,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;l=h,c=f}else return dR(i);return Wbe({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return dR(i)},hR="#808080",cl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,m=f===void 0?"start":f,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,w=v===void 0?hR:v,b=lR(e,$be),x=j.useMemo(function(){return qbe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),A=b.dx,T=b.dy,P=b.angle,E=b.className,S=b.breakAll,I=lR(b,Lbe);if(!Bt(r)||!Bt(s))return null;var k=r+(ae(A)?A:0),O=s+(ae(T)?T:0),C;switch(y){case"start":C=Tw("calc(".concat(c,")"));break;case"middle":C=Tw("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:C=Tw("calc(".concat(x.length-1," * -").concat(o,")"));break}var R=[];if(h){var F=x[0].width,B=b.width;R.push("scale(".concat((ae(B)?B/F:1)/F,")"))}return P&&R.push("rotate(".concat(P,", ").concat(k,", ").concat(O,")")),R.length&&(I.transform=R.join(" ")),$.createElement("text",hS({},be(I,!0),{x:k,y:O,className:ke("recharts-text",E),textAnchor:m,fill:w.includes("url")?hR:w}),x.map(function(H,Y){var L=H.words.join(S?"":" ");return $.createElement("tspan",{x:k,dy:Y===0?C:o,key:"".concat(L,"-").concat(Y)},L)}))};function Sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hbe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _P(t){let e,n,r;t.length!==2?(e=Sa,n=(o,l)=>Sa(t(o),l),r=(o,l)=>t(o)-l):(e=t===Sa||t===Hbe?t:Kbe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<0?c=h+1:d=h}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function a(o,l,c=0,d=o.length){const h=i(o,l,c,d-1);return h>c&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function Kbe(){return 0}function yU(t){return t===null?NaN:+t}function*Gbe(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Ybe=_P(Sa),Xbe=Ybe.right;_P(yU).center;const Np=Xbe;class fR extends Map{constructor(e,n=Zbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(pR(this,e))}has(e){return super.has(pR(this,e))}set(e,n){return super.set(Qbe(this,e),n)}delete(e){return super.delete(Jbe(this,e))}}function pR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Qbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Jbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zbe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ewe(t=Sa){if(t===Sa)return vU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function vU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const twe=Math.sqrt(50),nwe=Math.sqrt(10),rwe=Math.sqrt(2);function iv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=twe?10:s>=nwe?5:s>=rwe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?iv(t,e,n*2):[o,l,c]}function fS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?iv(e,t,n):iv(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function pS(t,e,n){return e=+e,t=+t,n=+n,iv(t,e,n)[2]}function mS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pS(e,t,n):pS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function mR(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function gR(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function xU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?vU:ewe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*h/l+f)),g=Math.min(r,Math.floor(e+(l-c)*h/l+f));xU(t,e,m,g,i)}const s=t[e];let a=n,o=r;for(Id(t,n,e),i(t[r],s)>0&&Id(t,n,r);a<o;){for(Id(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Id(t,n,o):(++o,Id(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Id(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iwe(t,e,n){if(t=Float64Array.from(Gbe(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gR(t);if(e>=1)return mR(t);var r,i=(r-1)*e,s=Math.floor(i),a=mR(xU(t,s).subarray(0,s+1)),o=gR(t.subarray(s+1));return a+(o-a)*(i-s)}}function swe(t,e,n=yU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function awe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Cs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gS=Symbol("implicit");function SP(){var t=new fR,e=[],n=[],r=gS;function i(s){let a=t.get(s);if(a===void 0){if(r!==gS)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new fR;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return SP(e,n).unknown(r)},Yr.apply(i,arguments),i}function Sf(){var t=SP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete t.unknown;function h(){var f=e().length,m=i<r,g=m?i:r,y=m?r:i;s=(y-g)/Math.max(1,f-l+c*2),o&&(s=Math.floor(s)),g+=(y-g-s*(f-l))*d,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var v=awe(f).map(function(w){return g+s*w});return n(m?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return Sf(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Yr.apply(h(),arguments)}function bU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bU(e())},t}function Sh(){return bU(Sf.apply(null,arguments).paddingInner(1))}function TP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kp(){}var Tf=.7,sv=1/Tf,Pc="\\s*([+-]?\\d+)\\s*",Ef="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",owe=/^#([0-9a-f]{3,8})$/,lwe=new RegExp(`^rgb\\(${Pc},${Pc},${Pc}\\)$`),cwe=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),uwe=new RegExp(`^rgba\\(${Pc},${Pc},${Pc},${Ef}\\)$`),dwe=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${Ef}\\)$`),hwe=new RegExp(`^hsl\\(${Ef},${Ii},${Ii}\\)$`),fwe=new RegExp(`^hsla\\(${Ef},${Ii},${Ii},${Ef}\\)$`),yR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TP(kp,Af,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vR,formatHex:vR,formatHex8:pwe,formatHsl:mwe,formatRgb:xR,toString:xR});function vR(){return this.rgb().formatHex()}function pwe(){return this.rgb().formatHex8()}function mwe(){return _U(this).formatHsl()}function xR(){return this.rgb().formatRgb()}function Af(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=owe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bR(e):n===3?new Kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$m(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$m(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lwe.exec(t))?new Kn(e[1],e[2],e[3],1):(e=cwe.exec(t))?new Kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uwe.exec(t))?$m(e[1],e[2],e[3],e[4]):(e=dwe.exec(t))?$m(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hwe.exec(t))?SR(e[1],e[2]/100,e[3]/100,1):(e=fwe.exec(t))?SR(e[1],e[2]/100,e[3]/100,e[4]):yR.hasOwnProperty(t)?bR(yR[t]):t==="transparent"?new Kn(NaN,NaN,NaN,0):null}function bR(t){return new Kn(t>>16&255,t>>8&255,t&255,1)}function $m(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function gwe(t){return t instanceof kp||(t=Af(t)),t?(t=t.rgb(),new Kn(t.r,t.g,t.b,t.opacity)):new Kn}function yS(t,e,n,r){return arguments.length===1?gwe(t):new Kn(t,e,n,r??1)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}TP(Kn,yS,wU(kp,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Tf:Math.pow(Tf,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(Bo(this.r),Bo(this.g),Bo(this.b),av(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wR,formatHex:wR,formatHex8:ywe,formatRgb:_R,toString:_R}));function wR(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}`}function ywe(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}${ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function _R(){const t=av(this.opacity);return`${t===1?"rgb(":"rgba("}${Bo(this.r)}, ${Bo(this.g)}, ${Bo(this.b)}${t===1?")":`, ${t})`}`}function av(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ko(t){return t=Bo(t),(t<16?"0":"")+t.toString(16)}function SR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new si(t,e,n,r)}function _U(t){if(t instanceof si)return new si(t.h,t.s,t.l,t.opacity);if(t instanceof kp||(t=Af(t)),!t)return new si;if(t instanceof si)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new si(a,o,l,t.opacity)}function vwe(t,e,n,r){return arguments.length===1?_U(t):new si(t,e,n,r??1)}function si(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}TP(si,vwe,wU(kp,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new si(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Tf:Math.pow(Tf,t),new si(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kn(Ew(t>=240?t-240:t+120,i,r),Ew(t,i,r),Ew(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new si(TR(this.h),Lm(this.s),Lm(this.l),av(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=av(this.opacity);return`${t===1?"hsl(":"hsla("}${TR(this.h)}, ${Lm(this.s)*100}%, ${Lm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TR(t){return t=(t||0)%360,t<0?t+360:t}function Lm(t){return Math.max(0,Math.min(1,t||0))}function Ew(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const EP=t=>()=>t;function xwe(t,e){return function(n){return t+n*e}}function bwe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wwe(t){return(t=+t)==1?SU:function(e,n){return n-e?bwe(e,n,t):EP(isNaN(e)?n:e)}}function SU(t,e){var n=e-t;return n?xwe(t,n):EP(isNaN(t)?e:t)}const ER=function t(e){var n=wwe(e);function r(i,s){var a=n((i=yS(i)).r,(s=yS(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=SU(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function _we(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Swe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Twe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Ku(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Ewe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ov(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Awe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ku(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var vS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Aw=new RegExp(vS.source,"g");function Pwe(t){return function(){return t}}function Iwe(t){return function(e){return t(e)+""}}function Nwe(t,e){var n=vS.lastIndex=Aw.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=vS.exec(t))&&(i=Aw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:ov(r,i)})),n=Aw.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Iwe(l[0].x):Pwe(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}function Ku(t,e){var n=typeof e,r;return e==null||n==="boolean"?EP(e):(n==="number"?ov:n==="string"?(r=Af(e))?(e=r,ER):Nwe:e instanceof Af?ER:e instanceof Date?Ewe:Swe(e)?_we:Array.isArray(e)?Twe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Awe:ov)(t,e)}function AP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kwe(t,e){e===void 0&&(e=t,t=Ku);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Owe(t){return function(){return t}}function lv(t){return+t}var AR=[0,1];function $n(t){return t}function xS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Owe(isNaN(e)?NaN:.5)}function jwe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cwe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=xS(i,r),s=n(a,s)):(r=xS(r,i),s=n(s,a)),function(o){return s(r(o))}}function Rwe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xS(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Np(t,o,1,r)-1;return s[l](i[l](o))}}function Op(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bx(){var t=AR,e=AR,n=Ku,r,i,s,a=$n,o,l,c;function d(){var f=Math.min(t.length,e.length);return a!==$n&&(a=jwe(t[0],t[f-1])),o=f>2?Rwe:Cwe,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((c||(c=o(e,t.map(r),ov)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,lv),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=AP,d()},h.clamp=function(f){return arguments.length?(a=f?!0:$n,d()):a!==$n},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,m){return r=f,i=m,d()}}function PP(){return bx()($n,$n)}function Dwe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function su(t){return t=cv(Math.abs(t)),t?t[1]:NaN}function Mwe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function $we(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pf(t){if(!(e=Lwe.exec(t)))throw new Error("invalid format: "+t);var e;return new IP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pf.prototype=IP.prototype;function IP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vwe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var TU;function Fwe(t,e){var n=cv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(TU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+cv(t,Math.max(0,e+s-1))[0]}function PR(t,e){var n=cv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Dwe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>PR(t*100,e),r:PR,s:Fwe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NR(t){return t}var kR=Array.prototype.map,OR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bwe(t){var e=t.grouping===void 0||t.thousands===void 0?NR:Mwe(kR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?NR:$we(kR.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Pf(h);var f=h.fill,m=h.align,g=h.sign,y=h.symbol,v=h.zero,w=h.width,b=h.comma,x=h.precision,A=h.trim,T=h.type;T==="n"?(b=!0,T="g"):IR[T]||(x===void 0&&(x=12),A=!0,T="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var P=y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=y==="$"?r:/[%p]/.test(T)?a:"",S=IR[T],I=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(O){var C=P,R=E,F,B,H;if(T==="c")R=S(O)+R,O="";else{O=+O;var Y=O<0||1/O<0;if(O=isNaN(O)?l:S(Math.abs(O),x),A&&(O=Vwe(O)),Y&&+O==0&&g!=="+"&&(Y=!1),C=(Y?g==="("?g:o:g==="-"||g==="("?"":g)+C,R=(T==="s"?OR[8+TU/3]:"")+R+(Y&&g==="("?")":""),I){for(F=-1,B=O.length;++F<B;)if(H=O.charCodeAt(F),48>H||H>57){R=(H===46?i+O.slice(F+1):O.slice(F))+R,O=O.slice(0,F);break}}}b&&!v&&(O=e(O,1/0));var L=C.length+O.length+R.length,q=L<w?new Array(w-L+1).join(f):"";switch(b&&v&&(O=e(q+O,q.length?w-R.length:1/0),q=""),m){case"<":O=C+O+R+q;break;case"=":O=C+q+O+R;break;case"^":O=q.slice(0,L=q.length>>1)+C+O+R+q.slice(L);break;default:O=q+C+O+R;break}return s(O)}return k.toString=function(){return h+""},k}function d(h,f){var m=c((h=Pf(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(su(f)/3)))*3,y=Math.pow(10,-g),v=OR[8+g/3];return function(w){return m(y*w)+v}}return{format:c,formatPrefix:d}}var Vm,NP,EU;Uwe({thousands:",",grouping:[3],currency:["$",""]});function Uwe(t){return Vm=Bwe(t),NP=Vm.format,EU=Vm.formatPrefix,Vm}function zwe(t){return Math.max(0,-su(Math.abs(t)))}function Wwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(su(e)/3)))*3-su(Math.abs(t)))}function qwe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,su(e)-su(t))+1}function AU(t,e,n,r){var i=mS(t,e,n),s;switch(r=Pf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Wwe(i,a))&&(r.precision=s),EU(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=qwe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=zwe(i))&&(r.precision=s-(r.type==="%")*2);break}}return NP(r)}function Wa(t){var e=t.domain;return t.ticks=function(n){var r=e();return fS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return AU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=pS(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function uv(){var t=PP();return t.copy=function(){return Op(t,uv())},Yr.apply(t,arguments),Wa(t)}function PU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return PU(t).unknown(e)},t=arguments.length?Array.from(t,lv):[0,1],Wa(n)}function IU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function jR(t){return Math.log(t)}function CR(t){return Math.exp(t)}function Hwe(t){return-Math.log(-t)}function Kwe(t){return-Math.exp(-t)}function Gwe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ywe(t){return t===10?Gwe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xwe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function RR(t){return(e,n)=>-t(-e,n)}function kP(t){const e=t(jR,CR),n=e.domain;let r=10,i,s;function a(){return i=Xwe(r),s=Ywe(r),n()[0]<0?(i=RR(i),s=RR(s),t(Hwe,Kwe)):t(jR,CR),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const h=d<c;h&&([c,d]=[d,c]);let f=i(c),m=i(d),g,y;const v=o==null?10:+o;let w=[];if(!(r%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),c>0){for(;f<=m;++f)for(g=1;g<r;++g)if(y=f<0?g/s(-f):g*s(f),!(y<c)){if(y>d)break;w.push(y)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(y=f>0?g/s(-f):g*s(f),!(y<c)){if(y>d)break;w.push(y)}w.length*2<v&&(w=fS(c,d,v))}else w=fS(f,m,Math.min(m-f,v)).map(s);return h?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Pf(l)).precision==null&&(l.trim=!0),l=NP(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=c?l(d):""}},e.nice=()=>n(IU(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function NU(){const t=kP(bx()).domain([1,10]);return t.copy=()=>Op(t,NU()).base(t.base()),Yr.apply(t,arguments),t}function DR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OP(t){var e=1,n=t(DR(e),MR(e));return n.constant=function(r){return arguments.length?t(DR(e=+r),MR(e)):e},Wa(n)}function kU(){var t=OP(bx());return t.copy=function(){return Op(t,kU()).constant(t.constant())},Yr.apply(t,arguments)}function $R(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qwe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jwe(t){return t<0?-t*t:t*t}function jP(t){var e=t($n,$n),n=1;function r(){return n===1?t($n,$n):n===.5?t(Qwe,Jwe):t($R(n),$R(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wa(e)}function CP(){var t=jP(bx());return t.copy=function(){return Op(t,CP()).exponent(t.exponent())},Yr.apply(t,arguments),t}function Zwe(){return CP.apply(null,arguments).exponent(.5)}function LR(t){return Math.sign(t)*t*t}function e1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OU(){var t=PP(),e=[0,1],n=!1,r;function i(s){var a=e1e(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(LR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,lv)).map(LR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return OU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Yr.apply(i,arguments),Wa(i)}function jU(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=swe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Np(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Sa),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return jU().domain(t).range(e).unknown(r)},Yr.apply(s,arguments)}function CU(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Np(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return CU().domain([t,e]).range(i).unknown(s)},Yr.apply(Wa(a),arguments)}function RU(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Np(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return RU().domain(t).range(e).unknown(n)},Yr.apply(i,arguments)}const Pw=new Date,Iw=new Date;function Wt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Wt(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(Pw.setTime(+s),Iw.setTime(+a),t(Pw),t(Iw),Math.floor(n(Pw,Iw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const dv=Wt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dv);dv.range;const Ji=1e3,Mr=Ji*60,Zi=Mr*60,xs=Zi*24,RP=xs*7,VR=xs*30,Nw=xs*365,Oo=Wt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getUTCSeconds());Oo.range;const DP=Wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ji)},(t,e)=>{t.setTime(+t+e*Mr)},(t,e)=>(e-t)/Mr,t=>t.getMinutes());DP.range;const MP=Wt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mr)},(t,e)=>(e-t)/Mr,t=>t.getUTCMinutes());MP.range;const $P=Wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ji-t.getMinutes()*Mr)},(t,e)=>{t.setTime(+t+e*Zi)},(t,e)=>(e-t)/Zi,t=>t.getHours());$P.range;const LP=Wt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Zi)},(t,e)=>(e-t)/Zi,t=>t.getUTCHours());LP.range;const jp=Wt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mr)/xs,t=>t.getDate()-1);jp.range;const wx=Wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xs,t=>t.getUTCDate()-1);wx.range;const DU=Wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xs,t=>Math.floor(t/xs));DU.range;function El(t){return Wt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mr)/RP)}const _x=El(0),hv=El(1),t1e=El(2),n1e=El(3),au=El(4),r1e=El(5),i1e=El(6);_x.range;hv.range;t1e.range;n1e.range;au.range;r1e.range;i1e.range;function Al(t){return Wt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/RP)}const Sx=Al(0),fv=Al(1),s1e=Al(2),a1e=Al(3),ou=Al(4),o1e=Al(5),l1e=Al(6);Sx.range;fv.range;s1e.range;a1e.range;ou.range;o1e.range;l1e.range;const VP=Wt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VP.range;const FP=Wt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FP.range;const bs=Wt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const ws=Wt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ws.range;function MU(t,e,n,r,i,s){const a=[[Oo,1,Ji],[Oo,5,5*Ji],[Oo,15,15*Ji],[Oo,30,30*Ji],[s,1,Mr],[s,5,5*Mr],[s,15,15*Mr],[s,30,30*Mr],[i,1,Zi],[i,3,3*Zi],[i,6,6*Zi],[i,12,12*Zi],[r,1,xs],[r,2,2*xs],[n,1,RP],[e,1,VR],[e,3,3*VR],[t,1,Nw]];function o(c,d,h){const f=d<c;f&&([c,d]=[d,c]);const m=h&&typeof h.range=="function"?h:l(c,d,h),g=m?m.range(c,+d+1):[];return f?g.reverse():g}function l(c,d,h){const f=Math.abs(d-c)/h,m=_P(([,,v])=>v).right(a,f);if(m===a.length)return t.every(mS(c/Nw,d/Nw,h));if(m===0)return dv.every(Math.max(mS(c,d,h),1));const[g,y]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return g.every(y)}return[o,l]}const[c1e,u1e]=MU(ws,FP,Sx,DU,LP,MP),[d1e,h1e]=MU(bs,VP,_x,jp,$P,DP);function kw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ow(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function f1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=kd(i),d=Od(i),h=kd(s),f=Od(s),m=kd(a),g=Od(a),y=kd(o),v=Od(o),w=kd(l),b=Od(l),x={a:Y,A:L,b:q,B:X,c:null,d:qR,e:qR,f:M1e,g:H1e,G:G1e,H:C1e,I:R1e,j:D1e,L:$U,m:$1e,M:L1e,p:te,q:Z,Q:GR,s:YR,S:V1e,u:F1e,U:B1e,V:U1e,w:z1e,W:W1e,x:null,X:null,y:q1e,Y:K1e,Z:Y1e,"%":KR},A={a:ne,A:G,b:W,B:ce,c:null,d:HR,e:HR,f:Z1e,g:c_e,G:d_e,H:X1e,I:Q1e,j:J1e,L:VU,m:e_e,M:t_e,p:me,q:$e,Q:GR,s:YR,S:n_e,u:r_e,U:i_e,V:s_e,w:a_e,W:o_e,x:null,X:null,y:l_e,Y:u_e,Z:h_e,"%":KR},T={a:k,A:O,b:C,B:R,c:F,d:zR,e:zR,f:N1e,g:UR,G:BR,H:WR,I:WR,j:E1e,L:I1e,m:T1e,M:A1e,p:I,q:S1e,Q:O1e,s:j1e,S:P1e,u:v1e,U:x1e,V:b1e,w:y1e,W:w1e,x:B,X:H,y:UR,Y:BR,Z:_1e,"%":k1e};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),A.x=P(n,A),A.X=P(r,A),A.c=P(e,A);function P(se,de){return function(V){var M=[],we=-1,ye=0,je=se.length,He,gt,ln;for(V instanceof Date||(V=new Date(+V));++we<je;)se.charCodeAt(we)===37&&(M.push(se.slice(ye,we)),(gt=FR[He=se.charAt(++we)])!=null?He=se.charAt(++we):gt=He==="e"?" ":"0",(ln=de[He])&&(He=ln(V,gt)),M.push(He),ye=we+1);return M.push(se.slice(ye,we)),M.join("")}}function E(se,de){return function(V){var M=Nd(1900,void 0,1),we=S(M,se,V+="",0),ye,je;if(we!=V.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(de&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(ye=Ow(Nd(M.y,0,1)),je=ye.getUTCDay(),ye=je>4||je===0?fv.ceil(ye):fv(ye),ye=wx.offset(ye,(M.V-1)*7),M.y=ye.getUTCFullYear(),M.m=ye.getUTCMonth(),M.d=ye.getUTCDate()+(M.w+6)%7):(ye=kw(Nd(M.y,0,1)),je=ye.getDay(),ye=je>4||je===0?hv.ceil(ye):hv(ye),ye=jp.offset(ye,(M.V-1)*7),M.y=ye.getFullYear(),M.m=ye.getMonth(),M.d=ye.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),je="Z"in M?Ow(Nd(M.y,0,1)).getUTCDay():kw(Nd(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(je+5)%7:M.w+M.U*7-(je+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,Ow(M)):kw(M)}}function S(se,de,V,M){for(var we=0,ye=de.length,je=V.length,He,gt;we<ye;){if(M>=je)return-1;if(He=de.charCodeAt(we++),He===37){if(He=de.charAt(we++),gt=T[He in FR?de.charAt(we++):He],!gt||(M=gt(se,V,M))<0)return-1}else if(He!=V.charCodeAt(M++))return-1}return M}function I(se,de,V){var M=c.exec(de.slice(V));return M?(se.p=d.get(M[0].toLowerCase()),V+M[0].length):-1}function k(se,de,V){var M=m.exec(de.slice(V));return M?(se.w=g.get(M[0].toLowerCase()),V+M[0].length):-1}function O(se,de,V){var M=h.exec(de.slice(V));return M?(se.w=f.get(M[0].toLowerCase()),V+M[0].length):-1}function C(se,de,V){var M=w.exec(de.slice(V));return M?(se.m=b.get(M[0].toLowerCase()),V+M[0].length):-1}function R(se,de,V){var M=y.exec(de.slice(V));return M?(se.m=v.get(M[0].toLowerCase()),V+M[0].length):-1}function F(se,de,V){return S(se,e,de,V)}function B(se,de,V){return S(se,n,de,V)}function H(se,de,V){return S(se,r,de,V)}function Y(se){return a[se.getDay()]}function L(se){return s[se.getDay()]}function q(se){return l[se.getMonth()]}function X(se){return o[se.getMonth()]}function te(se){return i[+(se.getHours()>=12)]}function Z(se){return 1+~~(se.getMonth()/3)}function ne(se){return a[se.getUTCDay()]}function G(se){return s[se.getUTCDay()]}function W(se){return l[se.getUTCMonth()]}function ce(se){return o[se.getUTCMonth()]}function me(se){return i[+(se.getUTCHours()>=12)]}function $e(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var de=P(se+="",x);return de.toString=function(){return se},de},parse:function(se){var de=E(se+="",!1);return de.toString=function(){return se},de},utcFormat:function(se){var de=P(se+="",A);return de.toString=function(){return se},de},utcParse:function(se){var de=E(se+="",!0);return de.toString=function(){return se},de}}}var FR={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,p1e=/^%/,m1e=/[\\^$*+?|[\]().{}]/g;function Be(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function g1e(t){return t.replace(m1e,"\\$&")}function kd(t){return new RegExp("^(?:"+t.map(g1e).join("|")+")","i")}function Od(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function y1e(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v1e(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function x1e(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function b1e(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function w1e(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function BR(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function UR(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _1e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S1e(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function T1e(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zR(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function E1e(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function WR(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function A1e(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function P1e(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function I1e(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function N1e(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k1e(t,e,n){var r=p1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function O1e(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function j1e(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qR(t,e){return Be(t.getDate(),e,2)}function C1e(t,e){return Be(t.getHours(),e,2)}function R1e(t,e){return Be(t.getHours()%12||12,e,2)}function D1e(t,e){return Be(1+jp.count(bs(t),t),e,3)}function $U(t,e){return Be(t.getMilliseconds(),e,3)}function M1e(t,e){return $U(t,e)+"000"}function $1e(t,e){return Be(t.getMonth()+1,e,2)}function L1e(t,e){return Be(t.getMinutes(),e,2)}function V1e(t,e){return Be(t.getSeconds(),e,2)}function F1e(t){var e=t.getDay();return e===0?7:e}function B1e(t,e){return Be(_x.count(bs(t)-1,t),e,2)}function LU(t){var e=t.getDay();return e>=4||e===0?au(t):au.ceil(t)}function U1e(t,e){return t=LU(t),Be(au.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function z1e(t){return t.getDay()}function W1e(t,e){return Be(hv.count(bs(t)-1,t),e,2)}function q1e(t,e){return Be(t.getFullYear()%100,e,2)}function H1e(t,e){return t=LU(t),Be(t.getFullYear()%100,e,2)}function K1e(t,e){return Be(t.getFullYear()%1e4,e,4)}function G1e(t,e){var n=t.getDay();return t=n>=4||n===0?au(t):au.ceil(t),Be(t.getFullYear()%1e4,e,4)}function Y1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Be(e/60|0,"0",2)+Be(e%60,"0",2)}function HR(t,e){return Be(t.getUTCDate(),e,2)}function X1e(t,e){return Be(t.getUTCHours(),e,2)}function Q1e(t,e){return Be(t.getUTCHours()%12||12,e,2)}function J1e(t,e){return Be(1+wx.count(ws(t),t),e,3)}function VU(t,e){return Be(t.getUTCMilliseconds(),e,3)}function Z1e(t,e){return VU(t,e)+"000"}function e_e(t,e){return Be(t.getUTCMonth()+1,e,2)}function t_e(t,e){return Be(t.getUTCMinutes(),e,2)}function n_e(t,e){return Be(t.getUTCSeconds(),e,2)}function r_e(t){var e=t.getUTCDay();return e===0?7:e}function i_e(t,e){return Be(Sx.count(ws(t)-1,t),e,2)}function FU(t){var e=t.getUTCDay();return e>=4||e===0?ou(t):ou.ceil(t)}function s_e(t,e){return t=FU(t),Be(ou.count(ws(t),t)+(ws(t).getUTCDay()===4),e,2)}function a_e(t){return t.getUTCDay()}function o_e(t,e){return Be(fv.count(ws(t)-1,t),e,2)}function l_e(t,e){return Be(t.getUTCFullYear()%100,e,2)}function c_e(t,e){return t=FU(t),Be(t.getUTCFullYear()%100,e,2)}function u_e(t,e){return Be(t.getUTCFullYear()%1e4,e,4)}function d_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ou(t):ou.ceil(t),Be(t.getUTCFullYear()%1e4,e,4)}function h_e(){return"+0000"}function KR(){return"%"}function GR(t){return+t}function YR(t){return Math.floor(+t/1e3)}var Bl,BU,UU;f_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f_e(t){return Bl=f1e(t),BU=Bl.format,Bl.parse,UU=Bl.utcFormat,Bl.utcParse,Bl}function p_e(t){return new Date(t)}function m_e(t){return t instanceof Date?+t:+new Date(+t)}function BP(t,e,n,r,i,s,a,o,l,c){var d=PP(),h=d.invert,f=d.domain,m=c(".%L"),g=c(":%S"),y=c("%I:%M"),v=c("%I %p"),w=c("%a %d"),b=c("%b %d"),x=c("%B"),A=c("%Y");function T(P){return(l(P)<P?m:o(P)<P?g:a(P)<P?y:s(P)<P?v:r(P)<P?i(P)<P?w:b:n(P)<P?x:A)(P)}return d.invert=function(P){return new Date(h(P))},d.domain=function(P){return arguments.length?f(Array.from(P,m_e)):f().map(p_e)},d.ticks=function(P){var E=f();return t(E[0],E[E.length-1],P??10)},d.tickFormat=function(P,E){return E==null?T:c(E)},d.nice=function(P){var E=f();return(!P||typeof P.range!="function")&&(P=e(E[0],E[E.length-1],P??10)),P?f(IU(E,P)):d},d.copy=function(){return Op(d,BP(t,e,n,r,i,s,a,o,l,c))},d}function g_e(){return Yr.apply(BP(d1e,h1e,bs,VP,_x,jp,$P,DP,Oo,BU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y_e(){return Yr.apply(BP(c1e,u1e,ws,FP,Sx,wx,LP,MP,Oo,UU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tx(){var t=0,e=1,n,r,i,s,a=$n,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(a=h,c):a};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,a=h(m,g),c):[a(0),a(1)]}}return c.range=d(Ku),c.rangeRound=d(AP),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function qa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zU(){var t=Wa(Tx()($n));return t.copy=function(){return qa(t,zU())},Cs.apply(t,arguments)}function WU(){var t=kP(Tx()).domain([1,10]);return t.copy=function(){return qa(t,WU()).base(t.base())},Cs.apply(t,arguments)}function qU(){var t=OP(Tx());return t.copy=function(){return qa(t,qU()).constant(t.constant())},Cs.apply(t,arguments)}function UP(){var t=jP(Tx());return t.copy=function(){return qa(t,UP()).exponent(t.exponent())},Cs.apply(t,arguments)}function v_e(){return UP.apply(null,arguments).exponent(.5)}function HU(){var t=[],e=$n;function n(r){if(r!=null&&!isNaN(r=+r))return e((Np(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Sa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>iwe(t,s/r))},n.copy=function(){return HU(e).domain(t)},Cs.apply(n,arguments)}function Ex(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=$n,d,h=!1,f;function m(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-s)*(r*y<r*s?o:l),c(h?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(h=!!y,m):h},m.interpolator=function(y){return arguments.length?(c=y,m):c};function g(y){return function(v){var w,b,x;return arguments.length?([w,b,x]=v,c=kwe(y,[w,b,x]),m):[c(0),c(.5),c(1)]}}return m.range=g(Ku),m.rangeRound=g(AP),m.unknown=function(y){return arguments.length?(f=y,m):f},function(y){return d=y,i=y(t),s=y(e),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function KU(){var t=Wa(Ex()($n));return t.copy=function(){return qa(t,KU())},Cs.apply(t,arguments)}function GU(){var t=kP(Ex()).domain([.1,1,10]);return t.copy=function(){return qa(t,GU()).base(t.base())},Cs.apply(t,arguments)}function YU(){var t=OP(Ex());return t.copy=function(){return qa(t,YU()).constant(t.constant())},Cs.apply(t,arguments)}function zP(){var t=jP(Ex());return t.copy=function(){return qa(t,zP()).exponent(t.exponent())},Cs.apply(t,arguments)}function x_e(){return zP.apply(null,arguments).exponent(.5)}const XR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sf,scaleDiverging:KU,scaleDivergingLog:GU,scaleDivergingPow:zP,scaleDivergingSqrt:x_e,scaleDivergingSymlog:YU,scaleIdentity:PU,scaleImplicit:gS,scaleLinear:uv,scaleLog:NU,scaleOrdinal:SP,scalePoint:Sh,scalePow:CP,scaleQuantile:jU,scaleQuantize:CU,scaleRadial:OU,scaleSequential:zU,scaleSequentialLog:WU,scaleSequentialPow:UP,scaleSequentialQuantile:HU,scaleSequentialSqrt:v_e,scaleSequentialSymlog:qU,scaleSqrt:Zwe,scaleSymlog:kU,scaleThreshold:RU,scaleTime:g_e,scaleUtc:y_e,tickFormat:AU},Symbol.toStringTag,{value:"Module"}));var b_e=Lu;function w_e(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!b_e(a):n(a,o)))var o=a,l=s}return l}var Ax=w_e;function __e(t,e){return t>e}var XU=__e,S_e=Ax,T_e=XU,E_e=Hu;function A_e(t){return t&&t.length?S_e(t,E_e,T_e):void 0}var P_e=A_e;const Px=qe(P_e);function I_e(t,e){return t<e}var QU=I_e,N_e=Ax,k_e=QU,O_e=Hu;function j_e(t){return t&&t.length?N_e(t,O_e,k_e):void 0}var C_e=j_e;const Ix=qe(C_e);var R_e=rP,D_e=$i,M_e=sU,$_e=er;function L_e(t,e){var n=$_e(t)?R_e:M_e;return n(t,D_e(e))}var V_e=L_e,F_e=rU,B_e=V_e;function U_e(t,e){return F_e(B_e(t,e),1)}var z_e=U_e;const W_e=qe(z_e);var q_e=vP;function H_e(t,e){return q_e(t,e)}var K_e=H_e;const Cp=qe(K_e);var Gu=1e9,G_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qP,pt=!0,Hr="[DecimalError] ",Uo=Hr+"Invalid argument: ",WP=Hr+"Exponent out of range: ",Yu=Math.floor,mo=Math.pow,Y_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cr,Ht=1e7,ut=7,JU=9007199254740991,pv=Yu(JU/ut),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(t){return os(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var e=this,n=e.constructor;return et(os(e,new n(t),0,1),n.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return Dt(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(cr))throw Error(Hr+"NaN");if(n.s<1)throw Error(Hr+(n.s?"NaN":"-Infinity"));return n.eq(cr)?new r(0):(pt=!1,e=os(If(n,s),If(t,s),s),pt=!0,et(e,i))};fe.minus=fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?t9(e,t):ZU(e,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Hr+"NaN");return n.s?(pt=!1,e=os(n,t,0,1).times(t),pt=!0,n.minus(e)):et(new r(n),i)};fe.naturalExponential=fe.exp=function(){return e9(this)};fe.naturalLogarithm=fe.ln=function(){return If(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZU(e,t):t9(e,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Uo+t);if(e=Dt(i)+1,r=i.d.length-1,n=r*ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};fe.squareRoot=fe.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Hr+"NaN")}for(t=Dt(o),pt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=wi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(os(o,s,a+2)).times(.5),wi(s.d).slice(0,a)===(e=wi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(et(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return pt=!0,et(r,n)};fe.times=fe.mul=function(t){var e,n,r,i,s,a,o,l,c,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=f.length,c=m.length,l<c&&(s=f,f=m,m=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+m[r]*f[i-r-1]+e,s[i--]=o%Ht|0,e=o/Ht|0;s[i]=(s[i]+e)%Ht|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,pt?et(t,h.precision):t};fe.toDecimalPlaces=fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ri(t,0,Gu),e===void 0?e=r.rounding:Ri(e,0,8),et(n,t+Dt(n)+1,e))};fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ul(r,!0):(Ri(t,0,Gu),e===void 0?e=i.rounding:Ri(e,0,8),r=et(new i(r),t+1,e),n=ul(r,!0,t+1)),n};fe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?ul(i):(Ri(t,0,Gu),e===void 0?e=s.rounding:Ri(e,0,8),r=et(new s(i),t+Dt(i)+1,e),n=ul(r.abs(),!1,t+Dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var t=this,e=t.constructor;return et(new e(t),Dt(t)+1,e.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(cr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Hr+"Infinity");return o}if(o.eq(cr))return o;if(r=l.precision,t.eq(cr))return et(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=JU){for(i=new l(cr),e=Math.ceil(r/ut+4),pt=!1;n%2&&(i=i.times(o),JR(i.d,e)),n=Yu(n/2),n!==0;)o=o.times(o),JR(o.d,e);return pt=!0,t.s<0?new l(cr).div(i):et(i,r)}}else if(s<0)throw Error(Hr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,pt=!1,i=t.times(If(o,r+c)),pt=!0,i=e9(i),i.s=s,i};fe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Dt(i),r=ul(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ri(t,1,Gu),e===void 0?e=s.rounding:Ri(e,0,8),i=et(new s(i),t,e),n=Dt(i),r=ul(i,t<=n||n<=s.toExpNeg,t)),r};fe.toSignificantDigits=fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ri(t,1,Gu),e===void 0?e=r.rounding:Ri(e,0,8)),et(new r(n),t,e)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dt(t),n=t.constructor;return ul(t,e<=n.toExpNeg||e>=n.toExpPos)};function ZU(t,e){var n,r,i,s,a,o,l,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),pt?et(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(h/ut),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Ht|0,l[s]%=Ht;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,pt?et(e,h):e}function Ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Uo+t)}function wi(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=ut-r.length,n&&(s+=Gs(n)),s+=r;a=t[e],r=a+"",n=ut-r.length,n&&(s+=Gs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var os=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Ht|0,a=s/Ht|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Ht+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,h,f,m,g,y,v,w,b,x,A,T,P,E,S,I=r.constructor,k=r.s==i.s?1:-1,O=r.d,C=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Hr+"Division by zero");for(l=r.e-i.e,E=C.length,T=O.length,m=new I(k),g=m.d=[],c=0;C[c]==(O[c]||0);)++c;if(C[c]>(O[c]||0)&&--l,s==null?b=s=I.precision:a?b=s+(Dt(r)-Dt(i))+1:b=s,b<0)return new I(0);if(b=b/ut+2|0,c=0,E==1)for(d=0,C=C[0],b++;(c<T||d)&&b--;c++)x=d*Ht+(O[c]||0),g[c]=x/C|0,d=x%C|0;else{for(d=Ht/(C[0]+1)|0,d>1&&(C=t(C,d),O=t(O,d),E=C.length,T=O.length),A=E,y=O.slice(0,E),v=y.length;v<E;)y[v++]=0;S=C.slice(),S.unshift(0),P=C[0],C[1]>=Ht/2&&++P;do d=0,o=e(C,y,E,v),o<0?(w=y[0],E!=v&&(w=w*Ht+(y[1]||0)),d=w/P|0,d>1?(d>=Ht&&(d=Ht-1),h=t(C,d),f=h.length,v=y.length,o=e(h,y,f,v),o==1&&(d--,n(h,E<f?S:C,f))):(d==0&&(o=d=1),h=C.slice()),f=h.length,f<v&&h.unshift(0),n(y,h,v),o==-1&&(v=y.length,o=e(C,y,E,v),o<1&&(d++,n(y,E<v?S:C,v))),v=y.length):o===0&&(d++,y=[0]),g[c++]=d,o&&y[0]?y[v++]=O[A]||0:(y=[O[A]],v=1);while((A++<T||y[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=l,et(m,a?s+Dt(m)+1:s)}}();function e9(t,e){var n,r,i,s,a,o,l=0,c=0,d=t.constructor,h=d.precision;if(Dt(t)>16)throw Error(WP+Dt(t));if(!t.s)return new d(cr);for(e==null?(pt=!1,o=h):o=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(mo(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(cr),d.precision=o;;){if(i=et(i.times(t),o),n=n.times(++l),a=s.plus(os(i,n,o)),wi(a.d).slice(0,o)===wi(s.d).slice(0,o)){for(;c--;)s=et(s.times(s),o);return d.precision=h,e==null?(pt=!0,et(s,h)):s}s=a}}function Dt(t){for(var e=t.e*ut,n=t.d[0];n>=10;n/=10)e++;return e}function jw(t,e,n){if(e>t.LN10.sd())throw pt=!0,n&&(t.precision=n),Error(Hr+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Gs(t){for(var e="";t--;)e+="0";return e}function If(t,e){var n,r,i,s,a,o,l,c,d,h=1,f=10,m=t,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(Hr+(m.s?"NaN":"-Infinity"));if(m.eq(cr))return new y(0);if(e==null?(pt=!1,c=v):c=e,m.eq(10))return e==null&&(pt=!0),jw(y,c);if(c+=f,y.precision=c,n=wi(g),r=n.charAt(0),s=Dt(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=wi(m.d),r=n.charAt(0),h++;s=Dt(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1))}else return l=jw(y,c+2,v).times(s+""),m=If(new y(r+"."+n.slice(1)),c-f).plus(l),y.precision=v,e==null?(pt=!0,et(m,v)):m;for(o=a=m=os(m.minus(cr),m.plus(cr),c),d=et(m.times(m),c),i=3;;){if(a=et(a.times(d),c),l=o.plus(os(a,new y(i),c)),wi(l.d).slice(0,c)===wi(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(jw(y,c+2,v).times(s+""))),o=os(o,new y(h),c),y.precision=v,e==null?(pt=!0,et(o,v)):o;o=l,i+=2}}function QR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yu(n/ut),t.d=[],r=(n+1)%ut,n<0&&(r+=ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ut;r<i;)t.d.push(+e.slice(r,r+=ut));e=e.slice(r),r=ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pt&&(t.e>pv||t.e<-pv))throw Error(WP+n)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,n){var r,i,s,a,o,l,c,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=ut,i=e,c=h[d=0];else{if(d=Math.ceil((r+1)/ut),s=h.length,d>=s)return t;for(c=s=h[d],a=1;s>=10;s/=10)a++;r%=ut,i=r-ut+a}if(n!==void 0&&(s=mo(10,a-i-1),o=c/s%10|0,l=e<0||h[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/mo(10,a-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=Dt(t),h.length=1,e=e-s-1,h[0]=mo(10,(ut-e%ut)%ut),t.e=Yu(-e/ut)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=mo(10,ut-r),h[d]=i>0?(c/mo(10,a-i)%mo(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Ht&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Ht)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(pt&&(t.e>pv||t.e<-pv))throw Error(WP+Dt(t));return t}function t9(t,e){var n,r,i,s,a,o,l,c,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),pt?et(e,m):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=h.length):(n=h,r=c,o=l.length),i=Math.max(Math.ceil(m/ut),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Ht-1;--l[s],l[i]+=Ht}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,pt?et(e,m):e):new f(0)}function ul(t,e,n){var r,i=Dt(t),s=wi(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Gs(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Gs(-i-1)+s,n&&(r=n-a)>0&&(s+=Gs(r))):i>=a?(s+=Gs(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Gs(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Gs(r))),t.s<0?"-"+s:s}function JR(t,e){if(t.length>e)return t.length=e,!0}function n9(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Uo+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return QR(a,s.toString())}else if(typeof s!="string")throw Error(Uo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Y_e.test(s))QR(a,s);else throw Error(Uo+s)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=n9,i.config=i.set=X_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function X_e(t){if(!t||typeof t!="object")throw Error(Hr+"Object expected");var e,n,r,i=["precision",1,Gu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Uo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Uo+n+": "+r);return this}var qP=n9(G_e);cr=new qP(1);const Qe=qP;function Q_e(t){return tSe(t)||eSe(t)||Z_e(t)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(t,e){if(t){if(typeof t=="string")return bS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bS(t,e)}}function eSe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tSe(t){if(Array.isArray(t))return bS(t)}function bS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nSe=function(e){return e},r9={"@@functional/placeholder":!0},i9=function(e){return e===r9},ZR=function(e){return function n(){return arguments.length===0||arguments.length===1&&i9(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},rSe=function t(e,n){return e===1?n:ZR(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==r9}).length;return a>=e?n.apply(void 0,i):t(e-a,ZR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(h){return i9(h)?l.shift():h});return n.apply(void 0,Q_e(d).concat(l))}))})},Nx=function(e){return rSe(e.length,e)},wS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},iSe=Nx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),sSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return nSe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},_S=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},s9=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function aSe(t){var e;return t===0?e=1:e=Math.floor(new Qe(t).abs().log(10).toNumber())+1,e}function oSe(t,e,n){for(var r=new Qe(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var lSe=Nx(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),cSe=Nx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),uSe=Nx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const kx={rangeStep:oSe,getDigitCount:aSe,interpolateNumber:lSe,uninterpolateNumber:cSe,uninterpolateTruncation:uSe};function SS(t){return fSe(t)||hSe(t)||a9(t)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hSe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fSe(t){if(Array.isArray(t))return TS(t)}function Nf(t,e){return gSe(t)||mSe(t,e)||a9(t,e)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(t,e){if(t){if(typeof t=="string")return TS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TS(t,e)}}function TS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mSe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function gSe(t){if(Array.isArray(t))return t}function o9(t){var e=Nf(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function l9(t,e,n){if(t.lte(0))return new Qe(0);var r=kx.getDigitCount(t.toNumber()),i=new Qe(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Qe(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Qe(Math.ceil(l))}function ySe(t,e,n){var r=1,i=new Qe(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Qe(10).pow(kx.getDigitCount(t)-1),i=new Qe(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Qe(Math.floor(t)))}else t===0?i=new Qe(Math.floor((e-1)/2)):n||(i=new Qe(Math.floor(t)));var a=Math.floor((e-1)/2),o=sSe(iSe(function(l){return i.add(new Qe(l-a).mul(r)).toNumber()}),wS);return o(0,e)}function c9(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var s=l9(new Qe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Qe(0):(a=new Qe(t).add(e).div(2),a=a.sub(new Qe(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Qe(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?c9(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Qe(o).mul(s)),tickMax:a.add(new Qe(l).mul(s))})}function vSe(t){var e=Nf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=o9([n,r]),l=Nf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var h=d===1/0?[c].concat(SS(wS(0,i-1).map(function(){return 1/0}))):[].concat(SS(wS(0,i-1).map(function(){return-1/0})),[d]);return n>r?_S(h):h}if(c===d)return ySe(c,i,s);var f=c9(c,d,a,s),m=f.step,g=f.tickMin,y=f.tickMax,v=kx.rangeStep(g,y.add(new Qe(.1).mul(m)),m);return n>r?_S(v):v}function xSe(t,e){var n=Nf(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=o9([r,i]),o=Nf(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),h=l9(new Qe(c).sub(l).div(d-1),s,0),f=[].concat(SS(kx.rangeStep(new Qe(l),new Qe(c).sub(new Qe(.99).mul(h)),h)),[c]);return r>i?_S(f):f}var bSe=s9(vSe),wSe=s9(xSe),_Se=!0,Cw="Invariant failed";function dl(t,e){if(!t){if(_Se)throw new Error(Cw);var n=typeof e=="function"?e():e,r=n?"".concat(Cw,": ").concat(n):Cw;throw new Error(r)}}var SSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function TSe(t,e){return ISe(t)||PSe(t,e)||ASe(t,e)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ASe(t,e){if(t){if(typeof t=="string")return eD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eD(t,e)}}function eD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ISe(t){if(Array.isArray(t))return t}function NSe(t,e){if(t==null)return{};var n=kSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h9(r.key),r)}}function jSe(t,e,n){return e&&tD(t.prototype,e),n&&tD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CSe(t,e,n){return e=gv(e),RSe(t,u9()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function RSe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DSe(t)}function DSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function MSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function d9(t,e,n){return e=h9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h9(t){var e=$Se(t,"string");return lu(e)=="symbol"?e:e+""}function $Se(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rp=function(t){function e(){return OSe(this,e),CSe(this,e,arguments)}return MSe(e,t),jSe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=NSe(r,SSe),m=be(f,!1);this.props.direction==="x"&&d.type!=="number"&&dl(!1);var g=l.map(function(y){var v=c(y,o),w=v.x,b=v.y,x=v.value,A=v.errorVal;if(!A)return null;var T=[],P,E;if(Array.isArray(A)){var S=TSe(A,2);P=S[0],E=S[1]}else P=E=A;if(s==="vertical"){var I=d.scale,k=b+i,O=k+a,C=k-a,R=I(x-P),F=I(x+E);T.push({x1:F,y1:O,x2:F,y2:C}),T.push({x1:R,y1:k,x2:F,y2:k}),T.push({x1:R,y1:O,x2:R,y2:C})}else if(s==="horizontal"){var B=h.scale,H=w+i,Y=H-a,L=H+a,q=B(x-P),X=B(x+E);T.push({x1:Y,y1:X,x2:L,y2:X}),T.push({x1:H,y1:q,x2:H,y2:X}),T.push({x1:Y,y1:q,x2:L,y2:q})}return $.createElement(Fe,mv({className:"recharts-errorBar",key:"bar-".concat(T.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},m),T.map(function(te){return $.createElement("line",mv({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return $.createElement(Fe,{className:"recharts-errorBars"},g)}}])}($.Component);d9(Rp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});d9(Rp,"displayName","ErrorBar");function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){LSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LSe(t,e,n){return e=VSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VSe(t){var e=FSe(t,"string");return kf(e)=="symbol"?e:e+""}function FSe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f9=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=sr(n,Fo);if(!a)return null;var o=Fo.defaultProps,l=o!==void 0?Za(Za({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,g=m.sectors||m.data||[];return d.concat(g.map(function(y){return{type:a.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?Za(Za({},f),h.props):{},g=m.dataKey,y=m.name,v=m.legendType,w=m.hide;return{inactive:w,dataKey:g,type:l.iconType||v||"square",color:HP(h),value:y||g,payload:m}}),Za(Za(Za({},l),Fo.getWithHeight(a,i)),{},{payload:c,item:a})};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function rD(t){return WSe(t)||zSe(t)||USe(t)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function USe(t,e){if(t){if(typeof t=="string")return AS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AS(t,e)}}function zSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WSe(t){if(Array.isArray(t))return AS(t)}function AS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Ic(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ic(t,e,n){return e=qSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qSe(t){var e=HSe(t,"string");return Of(e)=="symbol"?e:e+""}function HSe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vt(t,e,n){return Ie(t)||Ie(e)?n:Bt(e)?mr(t,e,n):Ae(e)?e(t):n}function Th(t,e,n,r){var i=W_e(t,function(o){return Vt(o,e)});if(n==="number"){var s=i.filter(function(o){return ae(o)||parseFloat(o)});return s.length?[Ix(s),Px(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Ie(o)}):i;return a.map(function(o){return Bt(o)||o instanceof Date?o:""})}var KSe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,h=i[c].coordinate,f=c>=o-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(Dn(h-d)!==Dn(f-h)){var g=[];if(Dn(f-h)===Dn(l[1]-l[0])){m=f;var y=h+l[1]-l[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{m=d;var v=f+l[1]-l[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>w[0]&&e<=w[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var b=Math.min(d,f),x=Math.max(d,f);if(e>(b+h)/2&&e<=(x+h)/2){a=i[c].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){a=r[A].index;break}return a},HP=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},GSe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var d=s[o[l]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var g=d[h[f]],y=g.items,v=g.cateAxisId,w=y.filter(function(E){return as(E.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,x=b!==void 0?Et(Et({},b),w[0].props):w[0].props,A=x.barSize,T=x[v];a[T]||(a[T]=[]);var P=Ie(A)?n:A;a[T].push({item:w[0],stackList:w.slice(1),barSize:Ie(P)?void 0:Mn(P,r,0)})}}return a},YSe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=Mn(n,i,0,!0),d,h=[];if(a[0].barSize===+a[0].barSize){var f=!1,m=i/l,g=a.reduce(function(A,T){return A+T.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&m>0&&(f=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,v={offset:y-c,size:0};d=a.reduce(function(A,T){var P={item:T.item,position:{offset:v.offset+v.size+c,size:f?m:T.barSize}},E=[].concat(rD(A),[P]);return v=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:v})}),E},h)}else{var w=Mn(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var b=(i-2*w-(l-1)*c)/l;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;d=a.reduce(function(A,T,P){var E=[].concat(rD(A),[{item:T.item,position:{offset:w+(b+c)*P+(b-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},h)}return d},XSe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=f9({children:s,legendWidth:l});if(c){var d=i||{},h=d.width,f=d.height,m=c.align,g=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&ae(e[m]))return Et(Et({},e),{},Ic({},m,e[m]+(h||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&ae(e[g]))return Et(Et({},e),{},Ic({},g,e[g]+(f||0)))}return e},QSe=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},p9=function(e,n,r,i,s){var a=n.props.children,o=gr(a,Rp).filter(function(c){return QSe(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var h=Vt(d,r);if(Ie(h))return c;var f=Array.isArray(h)?[Ix(h),Px(h)]:[h,h],m=l.reduce(function(g,y){var v=Vt(d,y,0),w=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},JSe=function(e,n,r,i,s){var a=n.map(function(o){return p9(e,o,r,s,i)}).filter(function(o){return!Ie(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},m9=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&p9(e,l,c,i)||Th(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var d=0,h=c.length;d<h;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},g9=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},y9=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},es=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Dn(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=s?s.indexOf(h):h;return{coordinate:i(f)+c,value:h,offset:c}});return d.filter(function(h){return!Pp(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+c,value:h,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,f){return{coordinate:i(h)+c,value:s?s[h]:h,index:f,offset:c}})},Rw=new WeakMap,Fm=function(e,n){if(typeof n!="function")return e;Rw.has(e)||Rw.set(e,new WeakMap);var r=Rw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},v9=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Sf(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:uv(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Sh(),realScaleType:"point"}:s==="category"?{scale:Sf(),realScaleType:"band"}:{scale:uv(),realScaleType:"linear"};if(ol(i)){var l="scale".concat(hx(i));return{scale:(XR[l]||Sh)(),realScaleType:XR[l]?l:"point"}}return Ae(i)?{scale:i}:{scale:Sh(),realScaleType:"point"}},sD=1e-4,x9=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-sD,a=Math.max(i[0],i[1])+sD,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},ZSe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},eTe=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(s[0]=r),(!ae(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},tTe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=Pp(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},nTe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Pp(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},rTe={sign:tTe,expand:Ehe,none:eu,silhouette:Ahe,wiggle:Phe,positive:nTe},iTe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=rTe[r],a=The().keys(i).value(function(o,l){return+Vt(o,l,0)}).order(Q_).offset(s);return a(e)},sTe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(h,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Et(Et({},f.type.defaultProps),f.props):f.props,y=g.stackId,v=g.hide;if(v)return h;var w=g[r],b=h[w]||{hasStack:!1,stackGroups:{}};if(Bt(y)){var x=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),b.hasStack=!0,b.stackGroups[y]=x}else b.stackGroups[zu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Et(Et({},h),{},Ic({},w,b))},l),d={};return Object.keys(c).reduce(function(h,f){var m=c[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,v){var w=m.stackGroups[v];return Et(Et({},y),{},Ic({},v,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:iTe(e,w.items,s)}))},g)}return Et(Et({},h),{},Ic({},f,m))},d)},b9=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=bSe(c,s,o);return e.domain([Ix(d),Px(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),f=wSe(h,s,o);return{niceTicks:f}}return null};function aD(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var o=zy(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Vt(i,Ie(a)?e.dataKey:a);return Ie(l)?null:e.scale(l)}var oD=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Vt(a,n.dataKey,n.domain[o]);return Ie(l)?null:n.scale(l)-s/2+i},aTe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},oTe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Bt(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},lTe=function(e){return e.reduce(function(n,r){return[Ix(r.concat([n[0]]).filter(ae)),Px(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},w9=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,d){var h=lTe(d.slice(n,r+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},lD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PS=function(e,n,r){if(Ae(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(lD.test(e[0])){var s=+lD.exec(e[0])[1];i[0]=n[0]-s}else Ae(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(cD.test(e[1])){var a=+cD.exec(e[1])[1];i[1]=n[1]+a}else Ae(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},yv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=bP(n,function(h){return h.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},uD=function(e,n,r){return!e||!e.length||Cp(e,mr(r,"type.defaultProps.domain"))?n:e},_9=function(e,n){var r=e.type.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Et(Et({},be(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:HP(e),value:Vt(n,i),type:l,payload:n,chartType:c,hide:d})};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){S9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S9(t,e,n){return e=cTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cTe(t){var e=uTe(t,"string");return jf(e)=="symbol"?e:e+""}function uTe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dTe(t,e){return mTe(t)||pTe(t,e)||fTe(t,e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fTe(t,e){if(t){if(typeof t=="string")return hD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hD(t,e)}}function hD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function mTe(t){if(Array.isArray(t))return t}var vv=Math.PI/180,gTe=function(e){return e*180/Math.PI},st=function(e,n,r,i){return{x:e+Math.cos(-vv*i)*r,y:n+Math.sin(-vv*i)*r}},T9=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},yTe=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=Mn(e.cx,a,a/2),h=Mn(e.cy,o,o/2),f=T9(a,o,r),m=Mn(e.innerRadius,f,0),g=Mn(e.outerRadius,f,f*.8),y=Object.keys(n);return y.reduce(function(v,w){var b=n[w],x=b.domain,A=b.reversed,T;if(Ie(b.range))i==="angleAxis"?T=[l,c]:i==="radiusAxis"&&(T=[m,g]),A&&(T=[T[1],T[0]]);else{T=b.range;var P=T,E=dTe(P,2);l=E[0],c=E[1]}var S=v9(b,s),I=S.realScaleType,k=S.scale;k.domain(x).range(T),x9(k);var O=b9(k,zi(zi({},b),{},{realScaleType:I})),C=zi(zi(zi({},b),O),{},{range:T,radius:g,realScaleType:I,scale:k,cx:d,cy:h,innerRadius:m,outerRadius:g,startAngle:l,endAngle:c});return zi(zi({},v),{},S9({},w,C))},{})},vTe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},xTe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=vTe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:gTe(c),angleInRadian:c}},bTe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},wTe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},fD=function(e,n){var r=e.x,i=e.y,s=xTe({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=bTe(n),h=d.startAngle,f=d.endAngle,m=o,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?zi(zi({},n),{},{radius:a,angle:wTe(m,n)}):null},E9=function(e){return!j.isValidElement(e)&&!Ae(e)&&typeof e!="boolean"?e.className:""};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}var _Te=["offset"];function STe(t){return PTe(t)||ATe(t)||ETe(t)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ETe(t,e){if(t){if(typeof t=="string")return IS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,e)}}function ATe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PTe(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ITe(t,e){if(t==null)return{};var n=NTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){kTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kTe(t,e,n){return e=OTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OTe(t){var e=jTe(t,"string");return Cf(e)=="symbol"?e:e+""}function jTe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}var CTe=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return Ae(r)?r(i):i},RTe=function(e,n){var r=Dn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},DTe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,d=l.cy,h=l.innerRadius,f=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,v=(h+f)/2,w=RTe(m,g),b=w>=0?1:-1,x,A;i==="insideStart"?(x=m+b*a,A=y):i==="insideEnd"?(x=g-b*a,A=!y):i==="end"&&(x=g+b*a,A=y),A=w<=0?A:!A;var T=st(c,d,v,x),P=st(c,d,v,x+(A?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),S=Ie(e.id)?zu("recharts-radial-line-"):e.id;return $.createElement("text",Rf({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",o)}),$.createElement("defs",null,$.createElement("path",{id:S,d:E})),$.createElement("textPath",{xlinkHref:"#".concat(S)},n))},MTe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,h=s.endAngle,f=(d+h)/2;if(i==="outside"){var m=st(a,o,c+r,f),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,w=st(a,o,v,f),b=w.x,x=w.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},$Te=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,d=a.height,h=d>=0?1:-1,f=h*i,m=h>0?"end":"start",g=h>0?"start":"end",y=c>=0?1:-1,v=y*i,w=y>0?"end":"start",b=y>0?"start":"end";if(s==="top"){var x={x:o+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:m};return $t($t({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var A={x:o+c/2,y:l+d+f,textAnchor:"middle",verticalAnchor:g};return $t($t({},A),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var T={x:o-v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return $t($t({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(s==="right"){var P={x:o+c+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return $t($t({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var E=r?{width:c,height:d}:{};return s==="insideLeft"?$t({x:o+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},E):s==="insideRight"?$t({x:o+c-v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},E):s==="insideTop"?$t({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:g},E):s==="insideBottom"?$t({x:o+c/2,y:l+d-f,textAnchor:"middle",verticalAnchor:m},E):s==="insideTopLeft"?$t({x:o+v,y:l+f,textAnchor:b,verticalAnchor:g},E):s==="insideTopRight"?$t({x:o+c-v,y:l+f,textAnchor:w,verticalAnchor:g},E):s==="insideBottomLeft"?$t({x:o+v,y:l+d-f,textAnchor:b,verticalAnchor:m},E):s==="insideBottomRight"?$t({x:o+c-v,y:l+d-f,textAnchor:w,verticalAnchor:m},E):Vu(s)&&(ae(s.x)||No(s.x))&&(ae(s.y)||No(s.y))?$t({x:o+Mn(s.x,c),y:l+Mn(s.y,d),textAnchor:"end",verticalAnchor:"end"},E):$t({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},LTe=function(e){return"cx"in e&&ae(e.cx)};function Gt(t){var e=t.offset,n=e===void 0?5:e,r=ITe(t,_Te),i=$t({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!s||Ie(o)&&Ie(l)&&!j.isValidElement(c)&&!Ae(c))return null;if(j.isValidElement(c))return j.cloneElement(c,i);var m;if(Ae(c)){if(m=j.createElement(c,i),j.isValidElement(m))return m}else m=CTe(i);var g=LTe(s),y=be(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return DTe(i,m,y);var v=g?MTe(i):$Te(i);return $.createElement(cl,Rf({className:ke("recharts-label",h)},y,v,{breakAll:f}),m)}Gt.displayName="Label";var A9=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,m=e.top,g=e.left,y=e.width,v=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(ae(y)&&ae(v)){if(ae(h)&&ae(f))return{x:h,y:f,width:y,height:v};if(ae(m)&&ae(g))return{x:m,y:g,width:y,height:v}}return ae(h)&&ae(f)?{x:h,y:f,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},VTe=function(e,n){return e?e===!0?$.createElement(Gt,{key:"label-implicit",viewBox:n}):Bt(e)?$.createElement(Gt,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===Gt?j.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(Gt,{key:"label-implicit",content:e,viewBox:n}):Ae(e)?$.createElement(Gt,{key:"label-implicit",content:e,viewBox:n}):Vu(e)?$.createElement(Gt,Rf({viewBox:n},e,{key:"label-implicit"})):null:null},FTe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=A9(e),a=gr(i,Gt).map(function(l,c){return j.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=VTe(e.label,n||s);return[o].concat(STe(a))};Gt.parseViewBox=A9;Gt.renderCallByParent=FTe;function BTe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var UTe=BTe;const zTe=qe(UTe);function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var WTe=["valueAccessor"],qTe=["data","dataKey","clockWise","id","textBreakAll"];function HTe(t){return XTe(t)||YTe(t)||GTe(t)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GTe(t,e){if(t){if(typeof t=="string")return NS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NS(t,e)}}function YTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XTe(t){if(Array.isArray(t))return NS(t)}function NS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){QTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QTe(t,e,n){return e=JTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JTe(t){var e=ZTe(t,"string");return Df(e)=="symbol"?e:e+""}function ZTe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yD(t,e){if(t==null)return{};var n=eEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tEe=function(e){return Array.isArray(e.value)?zTe(e.value):e.value};function ls(t){var e=t.valueAccessor,n=e===void 0?tEe:e,r=yD(t,WTe),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=yD(r,qTe);return!i||!i.length?null:$.createElement(Fe,{className:"recharts-label-list"},i.map(function(d,h){var f=Ie(s)?n(d,h):Vt(d&&d.payload,s),m=Ie(o)?{}:{id:"".concat(o,"-").concat(h)};return $.createElement(Gt,xv({},be(d,!0),c,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:Gt.parseViewBox(Ie(a)?d:gD(gD({},d),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}ls.displayName="LabelList";function nEe(t,e){return t?t===!0?$.createElement(ls,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ae(t)?$.createElement(ls,{key:"labelList-implicit",data:e,content:t}):Vu(t)?$.createElement(ls,xv({data:e},t,{key:"labelList-implicit"})):null:null}function rEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=gr(r,ls).map(function(a,o){return j.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=nEe(t.label,e);return[s].concat(HTe(i))}ls.renderCallByParent=rEe;function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){iEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iEe(t,e,n){return e=sEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sEe(t){var e=aEe(t,"string");return Mf(e)=="symbol"?e:e+""}function aEe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oEe=function(e,n){var r=Dn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Bm=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,h=Math.asin(l/d)/vv,f=c?s:s+a*h,m=st(n,r,d,f),g=st(n,r,i,f),y=c?s-a*h:s,v=st(n,r,d*Math.cos(h*vv),y);return{center:m,circleTangency:g,lineTangency:v,theta:h}},P9=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=oEe(a,o),c=a+l,d=st(n,r,s,a),h=st(n,r,s,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var m=st(n,r,i,a),g=st(n,r,i,c);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},lEe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,h=Dn(d-c),f=Bm({cx:n,cy:r,radius:s,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),m=f.circleTangency,g=f.lineTangency,y=f.theta,v=Bm({cx:n,cy:r,radius:s,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),w=v.circleTangency,b=v.lineTangency,x=v.theta,A=l?Math.abs(c-d):Math.abs(c-d)-y-x;if(A<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):P9({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Bm({cx:n,cy:r,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=P.circleTangency,S=P.lineTangency,I=P.theta,k=Bm({cx:n,cy:r,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=k.circleTangency,C=k.lineTangency,R=k.theta,F=l?Math.abs(c-d):Math.abs(c-d)-I-R;if(F<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},cEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I9=function(e){var n=xD(xD({},cEe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(a<s||d===h)return null;var m=ke("recharts-sector",f),g=a-s,y=Mn(o,g,0,!0),v;return y>0&&Math.abs(d-h)<360?v=lEe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}):v=P9({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:h}),$.createElement("path",kS({},be(n,!0),{className:m,d:v,role:"img"}))};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(this,arguments)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){uEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uEe(t,e,n){return e=dEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dEe(t){var e=hEe(t,"string");return $f(e)=="symbol"?e:e+""}function hEe(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _D={curveBasisClosed:fhe,curveBasisOpen:phe,curveBasis:hhe,curveBumpX:Jde,curveBumpY:Zde,curveLinearClosed:mhe,curveLinear:px,curveMonotoneX:ghe,curveMonotoneY:yhe,curveNatural:vhe,curveStep:xhe,curveStepAfter:whe,curveStepBefore:bhe},Um=function(e){return e.x===+e.x&&e.y===+e.y},jd=function(e){return e.x},Cd=function(e){return e.y},fEe=function(e,n){if(Ae(e))return e;var r="curve".concat(hx(e));return(r==="curveMonotone"||r==="curveBump")&&n?_D["".concat(r).concat(n==="vertical"?"Y":"X")]:_D[r]||px},pEe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=fEe(r,o),h=c?s.filter(function(y){return Um(y)}):s,f;if(Array.isArray(a)){var m=c?a.filter(function(y){return Um(y)}):a,g=h.map(function(y,v){return wD(wD({},y),{},{base:m[v]})});return o==="vertical"?f=jm().y(Cd).x1(jd).x0(function(y){return y.base.x}):f=jm().x(jd).y1(Cd).y0(function(y){return y.base.y}),f.defined(Um).curve(d),f(g)}return o==="vertical"&&ae(a)?f=jm().y(Cd).x1(jd).x0(a):ae(a)?f=jm().x(jd).y1(Cd).y0(a):f=_B().x(jd).y(Cd),f.defined(Um).curve(d),f(h)},bv=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?pEe(e):i;return $.createElement("path",OS({},be(e,!1),Wy(e),{className:ke("recharts-curve",n),d:a,ref:s}))},N9={exports:{}},mEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gEe=mEe,yEe=gEe;function k9(){}function O9(){}O9.resetWarningCache=k9;var vEe=function(){function t(r,i,s,a,o,l){if(l!==yEe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:O9,resetWarningCache:k9};return n.PropTypes=n,n};N9.exports=vEe();var xEe=N9.exports;const Ue=qe(xEe);var bEe=Object.getOwnPropertyNames,wEe=Object.getOwnPropertySymbols,_Ee=Object.prototype.hasOwnProperty;function SD(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function zm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function TD(t){return bEe(t).concat(wEe(t))}var SEe=Object.hasOwn||function(t,e){return _Ee.call(t,e)};function Pl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var TEe="__v",EEe="__o",AEe="_owner",ED=Object.getOwnPropertyDescriptor,AD=Object.keys;function PEe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function IEe(t,e){return Pl(t.getTime(),e.getTime())}function NEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kEe(t,e){return t===e}function PD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),d=!1,h=0;(o=c.next())&&!o.done;){if(i[h]){h++;continue}var f=a.value,m=o.value;if(n.equals(f[0],m[0],l,h,t,e,n)&&n.equals(f[1],m[1],f[0],m[0],t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}var OEe=Pl;function jEe(t,e,n){var r=AD(t),i=r.length;if(AD(e).length!==i)return!1;for(;i-- >0;)if(!j9(t,e,n,r[i]))return!1;return!0}function Rd(t,e,n){var r=TD(t),i=r.length;if(TD(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!j9(t,e,n,s)||(a=ED(t,s),o=ED(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function CEe(t,e){return Pl(t.valueOf(),e.valueOf())}function REe(t,e){return t.source===e.source&&t.flags===e.flags}function ID(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function DEe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function MEe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function j9(t,e,n,r){return(r===AEe||r===EEe||r===TEe)&&(t.$$typeof||e.$$typeof)?!0:SEe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var $Ee="[object Arguments]",LEe="[object Boolean]",VEe="[object Date]",FEe="[object Error]",BEe="[object Map]",UEe="[object Number]",zEe="[object Object]",WEe="[object RegExp]",qEe="[object Set]",HEe="[object String]",KEe="[object URL]",GEe=Array.isArray,ND=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kD=Object.assign,YEe=Object.prototype.toString.call.bind(Object.prototype.toString);function XEe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(g,y,v){if(g===y)return!0;if(g==null||y==null)return!1;var w=typeof g;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?a(g,y,v):w==="function"?i(g,y,v):!1;var b=g.constructor;if(b!==y.constructor)return!1;if(b===Object)return o(g,y,v);if(GEe(g))return e(g,y,v);if(ND!=null&&ND(g))return h(g,y,v);if(b===Date)return n(g,y,v);if(b===RegExp)return c(g,y,v);if(b===Map)return s(g,y,v);if(b===Set)return d(g,y,v);var x=YEe(g);return x===VEe?n(g,y,v):x===WEe?c(g,y,v):x===BEe?s(g,y,v):x===qEe?d(g,y,v):x===zEe?typeof g.then!="function"&&typeof y.then!="function"&&o(g,y,v):x===KEe?f(g,y,v):x===FEe?r(g,y,v):x===$Ee?o(g,y,v):x===LEe||x===UEe||x===HEe?l(g,y,v):!1}}function QEe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Rd:PEe,areDatesEqual:IEe,areErrorsEqual:NEe,areFunctionsEqual:kEe,areMapsEqual:r?SD(PD,Rd):PD,areNumbersEqual:OEe,areObjectsEqual:r?Rd:jEe,arePrimitiveWrappersEqual:CEe,areRegExpsEqual:REe,areSetsEqual:r?SD(ID,Rd):ID,areTypedArraysEqual:r?Rd:DEe,areUrlsEqual:MEe};if(n&&(i=kD({},i,n(i))),e){var s=zm(i.areArraysEqual),a=zm(i.areMapsEqual),o=zm(i.areObjectsEqual),l=zm(i.areSetsEqual);i=kD({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function JEe(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function ZEe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var d=r(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,m=d.meta;return n(l,c,{cache:f,equals:i,meta:m,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var eAe=Ha();Ha({strict:!0});Ha({circular:!0});Ha({circular:!0,strict:!0});Ha({createInternalComparator:function(){return Pl}});Ha({strict:!0,createInternalComparator:function(){return Pl}});Ha({circular:!0,createInternalComparator:function(){return Pl}});Ha({circular:!0,createInternalComparator:function(){return Pl},strict:!0});function Ha(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=QEe(t),l=XEe(o),c=r?r(l):JEe(l);return ZEe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function tAe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function OD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):tAe(i)};requestAnimationFrame(r)}function jS(t){"@babel/helpers - typeof";return jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jS(t)}function nAe(t){return aAe(t)||sAe(t)||iAe(t)||rAe()}function rAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iAe(t,e){if(t){if(typeof t=="string")return jD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jD(t,e)}}function jD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aAe(t){if(Array.isArray(t))return t}function oAe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=nAe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){OD(i.bind(null,c),l);return}i(l),OD(i.bind(null,c));return}jS(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){C9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C9(t,e,n){return e=lAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lAe(t){var e=cAe(t,"string");return Lf(e)==="symbol"?e:String(e)}function cAe(t,e){if(Lf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uAe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},dAe=function(e){return e},hAe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Eh=function(e,n){return Object.keys(n).reduce(function(r,i){return RD(RD({},r),{},C9({},i,e(i,n[i])))},{})},DD=function(e,n,r){return e.map(function(i){return"".concat(hAe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function fAe(t,e){return gAe(t)||mAe(t,e)||R9(t,e)||pAe()}function pAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function gAe(t){if(Array.isArray(t))return t}function yAe(t){return bAe(t)||xAe(t)||R9(t)||vAe()}function vAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R9(t,e){if(t){if(typeof t=="string")return CS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CS(t,e)}}function xAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bAe(t){if(Array.isArray(t))return CS(t)}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wv=1e-4,D9=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},M9=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},MD=function(e,n){return function(r){var i=D9(e,n);return M9(i,r)}},wAe=function(e,n){return function(r){var i=D9(e,n),s=[].concat(yAe(i.map(function(a,o){return a*o}).slice(1)),[0]);return M9(s,r)}},$D=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=fAe(c,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var h=MD(i,a),f=MD(s,o),m=wAe(i,a),g=function(w){return w>1?1:w<0?0:w},y=function(w){for(var b=w>1?1:w,x=b,A=0;A<8;++A){var T=h(x)-b,P=m(x);if(Math.abs(T-b)<wv||P<wv)return f(x);x=g(x-T/P)}return f(x)};return y.isStepper=!1,y},_Ae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,h,f){var m=-(d-h)*r,g=f*s,y=f+(m-g)*o/1e3,v=f*o/1e3+d;return Math.abs(v-h)<wv&&Math.abs(y)<wv?[h,0]:[v,y]};return l.isStepper=!0,l.dt=o,l},SAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $D(i);case"spring":return _Ae();default:if(i.split("(")[0]==="cubic-bezier")return $D(i)}return typeof i=="function"?i:null};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function LD(t){return AAe(t)||EAe(t)||$9(t)||TAe()}function TAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AAe(t){if(Array.isArray(t))return DS(t)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){RS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RS(t,e,n){return e=PAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PAe(t){var e=IAe(t,"string");return Vf(e)==="symbol"?e:String(e)}function IAe(t,e){if(Vf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NAe(t,e){return jAe(t)||OAe(t,e)||$9(t,e)||kAe()}function kAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9(t,e){if(t){if(typeof t=="string")return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(t,e)}}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function jAe(t){if(Array.isArray(t))return t}var _v=function(e,n,r){return e+(n-e)*r},MS=function(e){var n=e.from,r=e.to;return n!==r},CAe=function t(e,n,r){var i=Eh(function(s,a){if(MS(a)){var o=e(a.from,a.to,a.velocity),l=NAe(o,2),c=l[0],d=l[1];return tn(tn({},a),{},{from:c,velocity:d})}return a},n);return r<1?Eh(function(s,a){return MS(a)?tn(tn({},a),{},{velocity:_v(a.velocity,i[s].velocity,r),from:_v(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const RAe=function(t,e,n,r,i){var s=uAe(t,e),a=s.reduce(function(v,w){return tn(tn({},v),{},RS({},w,[t[w],e[w]]))},{}),o=s.reduce(function(v,w){return tn(tn({},v),{},RS({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,d,h=function(){return null},f=function(){return Eh(function(w,b){return b.from},o)},m=function(){return!Object.values(o).filter(MS).length},g=function(w){c||(c=w);var b=w-c,x=b/n.dt;o=CAe(n,o,x),i(tn(tn(tn({},t),e),f())),c=w,m()||(l=requestAnimationFrame(h))},y=function(w){d||(d=w);var b=(w-d)/r,x=Eh(function(T,P){return _v.apply(void 0,LD(P).concat([n(b)]))},a);if(i(tn(tn(tn({},t),e),x)),b<1)l=requestAnimationFrame(h);else{var A=Eh(function(T,P){return _v.apply(void 0,LD(P).concat([n(1)]))},a);i(tn(tn(tn({},t),e),A))}};return h=n.isStepper?g:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}var DAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function MAe(t,e){if(t==null)return{};var n=$Ae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dw(t){return BAe(t)||FAe(t)||VAe(t)||LAe()}function LAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VAe(t,e){if(t){if(typeof t=="string")return $S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(t,e)}}function FAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BAe(t){if(Array.isArray(t))return $S(t)}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){Yd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yd(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L9(r.key),r)}}function zAe(t,e,n){return e&&BD(t.prototype,e),n&&BD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L9(t){var e=WAe(t,"string");return cu(e)==="symbol"?e:String(e)}function WAe(t,e){if(cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LS(t,e)}function HAe(t){var e=KAe();return function(){var r=Sv(t),i;if(e){var s=Sv(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return VS(this,i)}}function VS(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FS(t)}function FS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sv(t)}var Ox=function(t){qAe(n,t);var e=HAe(n);function n(r,i){var s;UAe(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,d=a.to,h=a.steps,f=a.children,m=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(FS(s)),s.changeStyle=s.changeStyle.bind(FS(s)),!o||m<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),VS(s);if(h&&h.length)s.state={style:h[0].style};else if(c){if(typeof f=="function")return s.state={style:c},VS(s);s.state={style:l?Yd({},l,c):c}}else s.state={style:{}};return s}return zAe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,h=s.from,f=this.state.style;if(o){if(!a){var m={style:l?Yd({},l,d):d};this.state&&f&&(l&&f[l]!==d||!l&&f!==d)&&this.setState(m);return}if(!(eAe(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||c?h:i.to;if(this.state&&f){var v={style:l?Yd({},l,y):y};(l&&f[l]!==y||!l&&f!==y)&&this.setState(v)}this.runAnimation(Jr(Jr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,m=RAe(a,o,SAe(c),l,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([f,d,g,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,h=c.duration,f=h===void 0?0:h,m=function(y,v,w){if(w===0)return y;var b=v.duration,x=v.easing,A=x===void 0?"ease":x,T=v.style,P=v.properties,E=v.onAnimationEnd,S=w>0?a[w-1]:v,I=P||Object.keys(T);if(typeof A=="function"||A==="spring")return[].concat(Dw(y),[s.runJSAnimation.bind(s,{from:S.style,to:T,duration:b,easing:A}),b]);var k=DD(I,b,A),O=Jr(Jr(Jr({},S.style),T),{},{transition:k});return[].concat(Dw(y),[O,b,E]).filter(dAe)};return this.manager.start([l].concat(Dw(a.reduce(m,[d,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=oAe());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var y=o?Yd({},o,l):l,v=DD(Object.keys(y),a,c);g.start([d,s,Jr(Jr({},y),{},{transition:v}),a,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=MAe(i,DAe),c=j.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||c===0||a<=0)return s;var h=function(m){var g=m.props,y=g.style,v=y===void 0?{}:y,w=g.className,b=j.cloneElement(m,Jr(Jr({},l),{},{style:Jr(Jr({},v),d),className:w}));return b};return c===1?h(j.Children.only(s)):$.createElement("div",null,j.Children.map(s,function(f){return h(f)}))}}]),n}(j.PureComponent);Ox.displayName="Animate";Ox.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ox.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};const hl=Ox;function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}function GAe(t,e){return JAe(t)||QAe(t,e)||XAe(t,e)||YAe()}function YAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XAe(t,e){if(t){if(typeof t=="string")return UD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UD(t,e)}}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function JAe(t){if(Array.isArray(t))return t}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){ZAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZAe(t,e,n){return e=ePe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ePe(t){var e=tPe(t,"string");return Ff(e)=="symbol"?e:e+""}function tPe(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qD=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=s[f]>a?a:s[f];d="M".concat(e,",").concat(n+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(n)),d+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*h[1])),d+="L ".concat(e+r,",").concat(n+i-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),d+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*h[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);d="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},nPe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),d=Math.max(s,s+o),h=Math.min(a,a+l),f=Math.max(a,a+l);return r>=c&&r<=d&&i>=h&&i<=f}return!1},rPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KP=function(e){var n=WD(WD({},rPe),e),r=j.useRef(),i=j.useState(-1),s=GAe(i,2),a=s[0],o=s[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var l=n.x,c=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var x=ke("recharts-rectangle",m);return b?$.createElement(hl,{canBegin:a>0,from:{width:d,height:h,x:l,y:c},to:{width:d,height:h,x:l,y:c},duration:y,animationEasing:g,isActive:b},function(A){var T=A.width,P=A.height,E=A.x,S=A.y;return $.createElement(hl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:w,easing:g},$.createElement("path",Tv({},be(n,!0),{className:x,d:qD(E,S,T,P,f),ref:r})))}):$.createElement("path",Tv({},be(n,!0),{className:x,d:qD(l,c,d,h,f)}))},iPe=["points","className","baseLinePoints","connectNulls"];function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}function sPe(t,e){if(t==null)return{};var n=aPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HD(t){return uPe(t)||cPe(t)||lPe(t)||oPe()}function oPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lPe(t,e){if(t){if(typeof t=="string")return BS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(t,e)}}function cPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uPe(t){if(Array.isArray(t))return BS(t)}function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KD=function(e){return e&&e.x===+e.x&&e.y===+e.y},dPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){KD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),KD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ah=function(e,n){var r=dPe(e);n&&(r=[r.reduce(function(s,a){return[].concat(HD(s),HD(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},hPe=function(e,n,r){var i=Ah(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ah(n.reverse(),r).slice(1))},fPe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=sPe(e,iPe);if(!n||!n.length)return null;var o=ke("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=hPe(n,i,s);return $.createElement("g",{className:o},$.createElement("path",hc({},be(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?$.createElement("path",hc({},be(a,!0),{fill:"none",d:Ah(n,s)})):null,l?$.createElement("path",hc({},be(a,!0),{fill:"none",d:Ah(i,s)})):null)}var d=Ah(n,s);return $.createElement("path",hc({},be(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},US.apply(this,arguments)}var jx=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=ke("recharts-dot",s);return n===+n&&r===+r&&i===+i?$.createElement("circle",US({},be(e,!1),Wy(e),{className:a,cx:n,cy:r,r:i})):null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var pPe=["x","y","top","left","width","height","className"];function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){gPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gPe(t,e,n){return e=yPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yPe(t){var e=vPe(t,"string");return Bf(e)=="symbol"?e:e+""}function vPe(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xPe(t,e){if(t==null)return{};var n=bPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wPe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},_Pe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,h=d===void 0?0:d,f=e.height,m=f===void 0?0:f,g=e.className,y=xPe(e,pPe),v=mPe({x:r,y:s,top:o,left:c,width:h,height:m},y);return!ae(r)||!ae(s)||!ae(h)||!ae(m)||!ae(o)||!ae(c)?null:$.createElement("path",zS({},be(v,!0),{className:ke("recharts-cross",g),d:wPe(r,s,h,m,o,c)}))},SPe=Ax,TPe=XU,EPe=$i;function APe(t,e){return t&&t.length?SPe(t,EPe(e),TPe):void 0}var PPe=APe;const IPe=qe(PPe);var NPe=Ax,kPe=$i,OPe=QU;function jPe(t,e){return t&&t.length?NPe(t,kPe(e),OPe):void 0}var CPe=jPe;const RPe=qe(CPe);var DPe=["cx","cy","angle","ticks","axisLine"],MPe=["ticks","tick","angle","tickFormatter","stroke"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){Cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XD(t,e){if(t==null)return{};var n=$Pe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F9(r.key),r)}}function VPe(t,e,n){return e&&QD(t.prototype,e),n&&QD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FPe(t,e,n){return e=Ev(e),BPe(t,V9()?Reflect.construct(e,n||[],Ev(t).constructor):e.apply(t,n))}function BPe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UPe(t)}function UPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function zPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function Cx(t,e,n){return e=F9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F9(t){var e=WPe(t,"string");return uu(e)=="symbol"?e:e+""}function WPe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rx=function(t){function e(){return LPe(this,e),FPe(this,e,arguments)}return zPe(e,t),VPe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return st(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=IPe(o,function(d){return d.coordinate||0}),c=RPe(o,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=XD(r,DPe),d=o.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),h=st(i,s,d[0],a),f=st(i,s,d[1],a),m=eo(eo(eo({},be(c,!1)),{},{fill:"none"},be(l,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return $.createElement("line",Ph({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=XD(i,MPe),h=this.getTickTextAnchor(),f=be(d,!1),m=be(a,!1),g=s.map(function(y,v){var w=r.getTickValueCoord(y),b=eo(eo(eo(eo({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},f),{},{stroke:"none",fill:c},m),{},{index:v},w),{},{payload:y});return $.createElement(Fe,Ph({className:ke("recharts-polar-radius-axis-tick",E9(a)),key:"tick-".concat(y.coordinate)},ll(r.props,y,v)),e.renderTickItem(a,b,l?l(y.value,v):y.value))});return $.createElement(Fe,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:$.createElement(Fe,{className:ke("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Gt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return $.isValidElement(r)?a=$.cloneElement(r,i):Ae(r)?a=r(i):a=$.createElement(cl,Ph({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(j.PureComponent);Cx(Rx,"displayName","PolarRadiusAxis");Cx(Rx,"axisType","radiusAxis");Cx(Rx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bo.apply(this,arguments)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U9(r.key),r)}}function HPe(t,e,n){return e&&ZD(t.prototype,e),n&&ZD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KPe(t,e,n){return e=Av(e),GPe(t,B9()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function GPe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(t)}function YPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function XPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qS(t,e)}function Dx(t,e,n){return e=U9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U9(t){var e=QPe(t,"string");return du(e)=="symbol"?e:e+""}function QPe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JPe=Math.PI/180,eM=1e-5,Mx=function(t){function e(){return qPe(this,e),KPe(this,e,arguments)}return XPe(e,t),HPe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,h=st(s,a,o,r.coordinate),f=st(s,a,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*JPe),a;return s>eM?a=i==="outer"?"start":"end":s<-eM?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=to(to({},be(this.props,!1)),{},{fill:"none"},be(o,!1));if(l==="circle")return $.createElement(jx,bo({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var d=this.props.ticks,h=d.map(function(f){return st(i,s,a,f.coordinate)});return $.createElement(fPe,bo({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=be(this.props,!1),h=be(a,!1),f=to(to({},d),{},{fill:"none"},be(o,!1)),m=s.map(function(g,y){var v=r.getTickLineCoord(g),w=r.getTickTextAnchor(g),b=to(to(to({textAnchor:w},d),{},{stroke:"none",fill:c},h),{},{index:y,payload:g,x:v.x2,y:v.y2});return $.createElement(Fe,bo({className:ke("recharts-polar-angle-axis-tick",E9(a)),key:"tick-".concat(g.coordinate)},ll(r.props,g,y)),o&&$.createElement("line",bo({className:"recharts-polar-angle-axis-tick-line"},f,v)),a&&e.renderTickItem(a,b,l?l(g.value,y):g.value))});return $.createElement(Fe,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:$.createElement(Fe,{className:ke("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return $.isValidElement(r)?a=$.cloneElement(r,i):Ae(r)?a=r(i):a=$.createElement(cl,bo({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(j.PureComponent);Dx(Mx,"displayName","PolarAngleAxis");Dx(Mx,"axisType","angleAxis");Dx(Mx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ZPe=HB,eIe=ZPe(Object.getPrototypeOf,Object),tIe=eIe,nIe=Os,rIe=tIe,iIe=js,sIe="[object Object]",aIe=Function.prototype,oIe=Object.prototype,z9=aIe.toString,lIe=oIe.hasOwnProperty,cIe=z9.call(Object);function uIe(t){if(!iIe(t)||nIe(t)!=sIe)return!1;var e=rIe(t);if(e===null)return!0;var n=lIe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&z9.call(n)==cIe}var dIe=uIe;const hIe=qe(dIe);var fIe=Os,pIe=js,mIe="[object Boolean]";function gIe(t){return t===!0||t===!1||pIe(t)&&fIe(t)==mIe}var yIe=gIe;const vIe=qe(yIe);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function xIe(t,e){return SIe(t)||_Ie(t,e)||wIe(t,e)||bIe()}function bIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wIe(t,e){if(t){if(typeof t=="string")return tM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tM(t,e)}}function tM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function SIe(t){if(Array.isArray(t))return t}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){TIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TIe(t,e,n){return e=EIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EIe(t){var e=AIe(t,"string");return Uf(e)=="symbol"?e:e+""}function AIe(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iM=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},PIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IIe=function(e){var n=rM(rM({},PIe),e),r=j.useRef(),i=j.useState(-1),s=xIe(i,2),a=s[0],o=s[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=ke("recharts-trapezoid",m);return w?$.createElement(hl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:d,lowerWidth:h,height:f,x:l,y:c},duration:y,animationEasing:g,isActive:w},function(x){var A=x.upperWidth,T=x.lowerWidth,P=x.height,E=x.x,S=x.y;return $.createElement(hl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},$.createElement("path",Pv({},be(n,!0),{className:b,d:iM(E,S,A,T,P),ref:r})))}):$.createElement("g",null,$.createElement("path",Pv({},be(n,!0),{className:b,d:iM(l,c,d,h,f)})))},NIe=["option","shapeType","propTransformer","activeClassName","isActive"];function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function kIe(t,e){if(t==null)return{};var n=OIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){jIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jIe(t,e,n){return e=CIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CIe(t){var e=RIe(t,"string");return zf(e)=="symbol"?e:e+""}function RIe(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DIe(t,e){return Iv(Iv({},e),t)}function MIe(t,e){return t==="symbols"}function aM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(KP,n);case"trapezoid":return $.createElement(IIe,n);case"sector":return $.createElement(I9,n);case"symbols":if(MIe(e))return $.createElement(hP,n);break;default:return null}}function $Ie(t){return j.isValidElement(t)?t.props:t}function W9(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?DIe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=kIe(t,NIe),c;if(j.isValidElement(e))c=j.cloneElement(e,Iv(Iv({},l),$Ie(e)));else if(Ae(e))c=e(l);else if(hIe(e)&&!vIe(e)){var d=i(e,l);c=$.createElement(aM,{shapeType:n,elementProps:d})}else{var h=l;c=$.createElement(aM,{shapeType:n,elementProps:h})}return o?$.createElement(Fe,{className:a},c):c}function $x(t,e){return e!=null&&"trapezoids"in t.props}function Lx(t,e){return e!=null&&"sectors"in t.props}function Wf(t,e){return e!=null&&"points"in t.props}function LIe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function VIe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function FIe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function BIe(t,e){var n;return $x(t,e)?n=LIe:Lx(t,e)?n=VIe:Wf(t,e)&&(n=FIe),n}function UIe(t,e){var n;return $x(t,e)?n="trapezoids":Lx(t,e)?n="sectors":Wf(t,e)&&(n="points"),n}function zIe(t,e){if($x(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Lx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Wf(t,e)?e.payload:{}}function WIe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=UIe(n,e),s=zIe(n,e),a=r.filter(function(l,c){var d=Cp(s,l),h=n.props[i].filter(function(g){var y=BIe(n,e);return y(g,e)}),f=n.props[i].indexOf(h[h.length-1]),m=c===f;return d&&m}),o=r.indexOf(a[a.length-1]);return o}var Pg;function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H9(r.key),r)}}function HIe(t,e,n){return e&&lM(t.prototype,e),n&&lM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KIe(t,e,n){return e=Nv(e),GIe(t,q9()?Reflect.construct(e,n||[],Nv(t).constructor):e.apply(t,n))}function GIe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YIe(t)}function YIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q9=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(t)}function XIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HS(t,e)}function jr(t,e,n){return e=H9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=QIe(t,"string");return hu(e)=="symbol"?e:e+""}function QIe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rs=function(t){function e(n){var r;return qIe(this,e),r=KIe(this,e,[n]),jr(r,"pieRef",null),jr(r,"sectorRefs",[]),jr(r,"id",zu("recharts-pie-")),jr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ae(i)&&i()}),jr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ae(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return XIe(e,t),HIe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,d=be(this.props,!1),h=be(a,!1),f=be(o,!1),m=a&&a.offsetRadius||20,g=r.map(function(y,v){var w=(y.startAngle+y.endAngle)/2,b=st(y.cx,y.cy,y.outerRadius+m,w),x=tt(tt(tt(tt({},d),y),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(b.x,y.cx)},b),A=tt(tt(tt(tt({},d),y),{},{fill:"none",stroke:y.fill},f),{},{index:v,points:[st(y.cx,y.cy,y.outerRadius,w),b]}),T=l;return Ie(l)&&Ie(c)?T="value":Ie(l)&&(T=c),$.createElement(Fe,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,A,"line"),e.renderLabelItem(a,x,Vt(y,T)))});return $.createElement(Fe,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(d),f=l&&i.hasActiveIndex()?l:null,m=h?a:f,g=tt(tt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return $.createElement(Fe,fc({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ll(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),$.createElement(W9,fc({option:m,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,m=h.prevIsAnimationActive;return $.createElement(hl,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,v=[],w=s&&s[0],b=w.startAngle;return s.forEach(function(x,A){var T=f&&f[A],P=A>0?mr(x,"paddingAngle",0):0;if(T){var E=lr(T.endAngle-T.startAngle,x.endAngle-x.startAngle),S=tt(tt({},x),{},{startAngle:b+P,endAngle:b+E(y)+P});v.push(S),b=S.endAngle}else{var I=x.endAngle,k=x.startAngle,O=lr(0,I-k),C=O(y),R=tt(tt({},x),{},{startAngle:b+P,endAngle:b+C+P});v.push(R),b=R.endAngle}}),$.createElement(Fe,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!Cp(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!a||!a.length||!ae(c)||!ae(d)||!ae(h)||!ae(f))return null;var y=ke("recharts-pie",o);return $.createElement(Fe,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),Gt.renderCallByParent(this.props,null,!1),(!m||g)&&ls.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if($.isValidElement(r))return $.cloneElement(r,i);if(Ae(r))return r(i);var a=ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(bv,fc({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if($.isValidElement(r))return $.cloneElement(r,i);var a=s;if(Ae(r)&&(a=r(i),$.isValidElement(a)))return a;var o=ke("recharts-pie-label-text",typeof r!="boolean"&&!Ae(r)?r.className:"");return $.createElement(cl,fc({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(j.PureComponent);Pg=Rs;jr(Rs,"displayName","Pie");jr(Rs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Pi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});jr(Rs,"parseDeltaAngle",function(t,e){var n=Dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});jr(Rs,"getRealPieData",function(t){var e=t.data,n=t.children,r=be(t,!1),i=gr(n,xx);return e&&e.length?e.map(function(s,a){return tt(tt(tt({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return tt(tt({},r),s.props)}):[]});jr(Rs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=T9(i,s),o=r+Mn(t.cx,i,i/2),l=n+Mn(t.cy,s,s/2),c=Mn(t.innerRadius,a,0),d=Mn(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:h}});jr(Rs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?tt(tt({},e.type.defaultProps),e.props):e.props,i=Pg.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,h=r.valueKey,f=r.tooltipType,m=Math.abs(r.minAngle),g=Pg.parseCoordinateOfPie(r,n),y=Pg.parseDeltaAngle(a,o),v=Math.abs(y),w=c;Ie(c)&&Ie(h)?(di(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ie(c)&&(di(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var b=i.filter(function(S){return Vt(S,w,0)!==0}).length,x=(v>=360?b:b-1)*l,A=v-b*m-x,T=i.reduce(function(S,I){var k=Vt(I,w,0);return S+(ae(k)?k:0)},0),P;if(T>0){var E;P=i.map(function(S,I){var k=Vt(S,w,0),O=Vt(S,d,I),C=(ae(k)?k:0)/T,R;I?R=E.endAngle+Dn(y)*l*(k!==0?1:0):R=a;var F=R+Dn(y)*((k!==0?m:0)+C*A),B=(R+F)/2,H=(g.innerRadius+g.outerRadius)/2,Y=[{name:O,value:k,payload:S,dataKey:w,type:f}],L=st(g.cx,g.cy,H,B);return E=tt(tt(tt({percent:C,cornerRadius:s,name:O,tooltipPayload:Y,midAngle:B,middleRadius:H,tooltipPosition:L},S),g),{},{value:Vt(S,w),startAngle:R,endAngle:F,payload:S,paddingAngle:Dn(y)*l}),E})}return tt(tt({},g),{},{sectors:P,data:i})});var JIe=Math.ceil,ZIe=Math.max;function eNe(t,e,n,r){for(var i=-1,s=ZIe(JIe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var tNe=eNe,nNe=dU,cM=1/0,rNe=17976931348623157e292;function iNe(t){if(!t)return t===0?t:0;if(t=nNe(t),t===cM||t===-cM){var e=t<0?-1:1;return e*rNe}return t===t?t:0}var K9=iNe,sNe=tNe,aNe=vx,Mw=K9;function oNe(t){return function(e,n,r){return r&&typeof r!="number"&&aNe(e,n,r)&&(n=r=void 0),e=Mw(e),n===void 0?(n=e,e=0):n=Mw(n),r=r===void 0?e<n?1:-1:Mw(r),sNe(e,n,r,t)}}var lNe=oNe,cNe=lNe,uNe=cNe(),dNe=uNe;const kv=qe(dNe);function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){G9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G9(t,e,n){return e=hNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hNe(t){var e=fNe(t,"string");return qf(e)=="symbol"?e:e+""}function fNe(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pNe=["Webkit","Moz","O","ms"],mNe=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=pNe.reduce(function(s,a){return dM(dM({},s),{},G9({},a+r,n))},{});return i[e]=n,i};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X9(r.key),r)}}function yNe(t,e,n){return e&&fM(t.prototype,e),n&&fM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vNe(t,e,n){return e=jv(e),xNe(t,Y9()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function xNe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bNe(t)}function bNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y9=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function wNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KS(t,e)}function rr(t,e,n){return e=X9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9(t){var e=_Ne(t,"string");return fu(e)=="symbol"?e:e+""}function _Ne(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SNe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Sh().domain(kv(0,l)).range([s,s+a-o]),d=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},pM=function(e){return e.changedTouches&&!!e.changedTouches.length},pu=function(t){function e(n){var r;return gNe(this,e),r=vNe(this,e,[n]),rr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),rr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),rr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),rr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),rr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),rr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),rr(r,"handleSlideDragStart",function(i){var s=pM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return wNe(e,t),yNe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,h=Math.min(i,s),f=Math.max(i,s),m=e.getIndexInRange(a,h),g=e.getIndexInRange(a,f);return{startIndex:m-m%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Vt(s[r],o,r);return Ae(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,h=l.travellerWidth,f=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-s;y>0?y=Math.min(y,c+d-h-o,c+d-h-a):y<0&&(y=Math.max(y,c-a,c-o));var v=this.getIndex({startX:a+y,endX:o+y});(v.startIndex!==f||v.endIndex!==m)&&g&&g(v),this.setState({startX:a+y,endX:o+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=pM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,g=d.onChange,y=d.gap,v=d.data,w={startX:this.state.startX,endX:this.state.endX},b=r.pageX-s;b>0?b=Math.min(b,h+f-m-c):b<0&&(b=Math.max(b,h-c)),w[a]=c+b;var x=this.getIndex(w),A=x.startIndex,T=x.endIndex,P=function(){var S=v.length-1;return a==="startX"&&(o>l?A%y===0:T%y===0)||o<l&&T===S||a==="endX"&&(o>l?T%y===0:A%y===0)||o>l&&T===S};this.setState(rr(rr({},a,c+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],h=o.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=o.length)){var m=o[f];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(rr({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return $.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,h=j.Children.only(c);return h?$.cloneElement(h,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,d=l.travellerWidth,h=l.height,f=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,w=Math.max(r,this.props.x),b=$w($w({},be(this.props,!1)),{},{x:w,y:c,width:d,height:h}),x=m||"Min value: ".concat((s=g[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return $.createElement(Fe,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),o.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,h=Math.max(Math.abs(i-r)-c,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:h,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,g={pointerEvents:"none",fill:c};return $.createElement(Fe,{className:"recharts-brush-texts"},$.createElement(cl,Ov({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:a+o/2},g),this.getTextOfTick(i)),$.createElement(cl,Ov({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+l+m,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,g=f.endX,y=f.isTextActive,v=f.isSlideMoving,w=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!ae(o)||!ae(l)||!ae(c)||!ae(d)||c<=0||d<=0)return null;var x=ke("recharts-brush",s),A=$.Children.count(a)===1,T=mNe("userSelect","none");return $.createElement(Fe,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||w||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):Ae(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,h=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return $w({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?SNe({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(j.PureComponent);rr(pu,"displayName","Brush");rr(pu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var TNe=xP;function ENe(t,e){var n;return TNe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var ANe=ENe,PNe=LB,INe=$i,NNe=ANe,kNe=er,ONe=vx;function jNe(t,e,n){var r=kNe(t)?PNe:NNe;return n&&ONe(t,e,n)&&(e=void 0),r(t,INe(e))}var CNe=jNe;const RNe=qe(CNe);var Ni=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},mM=aU;function DNe(t,e,n){e=="__proto__"&&mM?mM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var MNe=DNe,$Ne=MNe,LNe=iU,VNe=$i;function FNe(t,e){var n={};return e=VNe(e),LNe(t,function(r,i,s){$Ne(n,i,e(r,i,s))}),n}var BNe=FNe;const UNe=qe(BNe);function zNe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var WNe=zNe,qNe=xP;function HNe(t,e){var n=!0;return qNe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var KNe=HNe,GNe=WNe,YNe=KNe,XNe=$i,QNe=er,JNe=vx;function ZNe(t,e,n){var r=QNe(t)?GNe:YNe;return n&&JNe(t,e,n)&&(e=void 0),r(t,XNe(e))}var eke=ZNe;const Q9=qe(eke);var tke=["x","y"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GS.apply(this,arguments)}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){nke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nke(t,e,n){return e=rke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rke(t){var e=ike(t,"string");return Hf(e)=="symbol"?e:e+""}function ike(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ske(t,e){if(t==null)return{};var n=ake(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ake(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oke(t,e){var n=t.x,r=t.y,i=ske(t,tke),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),h="".concat(e.width||i.width),f=parseInt(h,10);return Dd(Dd(Dd(Dd(Dd({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function yM(t){return $.createElement(W9,GS({shapeType:"rectangle",propTransformer:oke,activeClassName:"recharts-active-bar"},t))}var lke=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||dl(!1),n)}},cke=["value","background"],J9;function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function uke(t,e){if(t==null)return{};var n=dke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(this,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){oa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e8(r.key),r)}}function fke(t,e,n){return e&&xM(t.prototype,e),n&&xM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pke(t,e,n){return e=Rv(e),mke(t,Z9()?Reflect.construct(e,n||[],Rv(t).constructor):e.apply(t,n))}function mke(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gke(t)}function gke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z9=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}function yke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YS(t,e)}function oa(t,e,n){return e=e8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e8(t){var e=vke(t,"string");return mu(e)=="symbol"?e:e+""}function vke(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _s=function(t){function e(){var n;hke(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=pke(this,e,[].concat(i)),oa(n,"state",{isAnimationFinished:!1}),oa(n,"id",zu("recharts-bar-")),oa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),oa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return yke(e,t),fke(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,d=be(this.props,!1);return r&&r.map(function(h,f){var m=f===l,g=m?c:a,y=Ot(Ot(Ot({},d),h),{},{isActive:m,option:g,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(Fe,Cv({className:"recharts-bar-rectangle"},ll(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),$.createElement(yM,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return $.createElement(hl,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=s.map(function(v,w){var b=f&&f[w];if(b){var x=lr(b.x,v.x),A=lr(b.y,v.y),T=lr(b.width,v.width),P=lr(b.height,v.height);return Ot(Ot({},v),{},{x:x(g),y:A(g),width:T(g),height:P(g)})}if(a==="horizontal"){var E=lr(0,v.height),S=E(g);return Ot(Ot({},v),{},{y:v.y+v.height-S,height:S})}var I=lr(0,v.width),k=I(g);return Ot(Ot({},v),{},{width:k})});return $.createElement(Fe,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Cp(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=be(this.props.background,!1);return s.map(function(c,d){c.value;var h=c.background,f=uke(c,cke);if(!h)return null;var m=Ot(Ot(Ot(Ot(Ot({},f),{},{fill:"#eee"},h),l),ll(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(yM,Cv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,h=gr(d,Rp);if(!h)return null;var f=c==="vertical"?a[0].height/2:a[0].width/2,m=function(v,w){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Vt(v,w)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Fe,g,h.map(function(y){return $.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=ke("recharts-bar",a),b=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,A=b||x,T=Ie(y)?this.id:y;return $.createElement(Fe,{className:w},b||x?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:b?c:c-h/2,y:x?d:d-f/2,width:b?h:h*2,height:x?f:f*2}))):null,$.createElement(Fe,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,T),(!m||v)&&ls.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);J9=_s;oa(_s,"displayName","Bar");oa(_s,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oa(_s,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,m=ZSe(r,n);if(!m)return null;var g=e.layout,y=n.type.defaultProps,v=y!==void 0?Ot(Ot({},y),n.props):n.props,w=v.dataKey,b=v.children,x=v.minPointSize,A=g==="horizontal"?a:s,T=c?A.scale.domain():null,P=aTe({numericAxis:A}),E=gr(b,xx),S=h.map(function(I,k){var O,C,R,F,B,H;c?O=eTe(c[d+k],T):(O=Vt(I,w),Array.isArray(O)||(O=[P,O]));var Y=lke(x,J9.defaultProps.minPointSize)(O[1],k);if(g==="horizontal"){var L,q=[a.scale(O[0]),a.scale(O[1])],X=q[0],te=q[1];C=oD({axis:s,ticks:o,bandSize:i,offset:m.offset,entry:I,index:k}),R=(L=te??X)!==null&&L!==void 0?L:void 0,F=m.size;var Z=X-te;if(B=Number.isNaN(Z)?0:Z,H={x:C,y:a.y,width:F,height:a.height},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var ne=Dn(B||Y)*(Math.abs(Y)-Math.abs(B));R-=ne,B+=ne}}else{var G=[s.scale(O[0]),s.scale(O[1])],W=G[0],ce=G[1];if(C=W,R=oD({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:I,index:k}),F=ce-W,B=m.size,H={x:s.x,y:R,width:s.width,height:B},Math.abs(Y)>0&&Math.abs(F)<Math.abs(Y)){var me=Dn(F||Y)*(Math.abs(Y)-Math.abs(F));F+=me}}return Ot(Ot(Ot({},I),{},{x:C,y:R,width:F,height:B,value:c?O:O[1],payload:I,background:H},E&&E[k]&&E[k].props),{},{tooltipPayload:[_9(n,I)],tooltipPosition:{x:C+F/2,y:R+B/2}})});return Ot({data:S,layout:g},f)});function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function xke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t8(r.key),r)}}function bke(t,e,n){return e&&bM(t.prototype,e),n&&bM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Vx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vx(t,e,n){return e=t8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8(t){var e=wke(t,"string");return Kf(e)=="symbol"?e:e+""}function wke(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n8=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!sr(c,_s);return d.reduce(function(m,g){var y=n[g],v=y.orientation,w=y.domain,b=y.padding,x=b===void 0?{}:b,A=y.mirror,T=y.reversed,P="".concat(v).concat(A?"Mirror":""),E,S,I,k,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var C=w[1]-w[0],R=1/0,F=y.categoricalDomain.sort(Fue);if(F.forEach(function(G,W){W>0&&(R=Math.min((G||0)-(F[W-1]||0),R))}),Number.isFinite(R)){var B=R/C,H=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(E=B*H/2),y.padding==="no-gap"){var Y=Mn(e.barCategoryGap,B*H),L=B*H/2;E=L-Y-(L-Y)/H*Y}}}i==="xAxis"?S=[r.left+(x.left||0)+(E||0),r.left+r.width-(x.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(E||0),r.top+r.height-(x.bottom||0)-(E||0)]:S=y.range,T&&(S=[S[1],S[0]]);var q=v9(y,s,f),X=q.scale,te=q.realScaleType;X.domain(w).range(S),x9(X);var Z=b9(X,ni(ni({},y),{},{realScaleType:te}));i==="xAxis"?(O=v==="top"&&!A||v==="bottom"&&A,I=r.left,k=h[P]-O*y.height):i==="yAxis"&&(O=v==="left"&&!A||v==="right"&&A,I=h[P]-O*y.width,k=r.top);var ne=ni(ni(ni({},y),Z),{},{realScaleType:te,x:I,y:k,scale:X,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ne.bandSize=yv(ne,Z),!y.hide&&i==="xAxis"?h[P]+=(O?-1:1)*ne.height:y.hide||(h[P]+=(O?-1:1)*ne.width),ni(ni({},m),{},Vx({},g,ne))},{})},r8=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},_ke=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return r8({x:n,y:r},{x:i,y:s})},i8=function(){function t(e){xke(this,t),this.scale=e}return bke(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Vx(i8,"EPS",1e-4);var GP=function(e){var n=Object.keys(e).reduce(function(r,i){return ni(ni({},r),{},Vx({},i,i8.create(e[i])))},{});return ni(ni({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return UNe(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return Q9(i,function(s,a){return n[a].isInRange(s)})}})};function Ske(t){return(t%180+180)%180}var Tke=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ske(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Eke=$i,Ake=Ip,Pke=gx;function Ike(t){return function(e,n,r){var i=Object(e);if(!Ake(e)){var s=Eke(n);e=Pke(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var Nke=Ike,kke=K9;function Oke(t){var e=kke(t),n=e%1;return e===e?n?e-n:e:0}var jke=Oke,Cke=JB,Rke=$i,Dke=jke,Mke=Math.max;function $ke(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Dke(n);return i<0&&(i=Mke(r+i,0)),Cke(t,Rke(e),i)}var Lke=$ke,Vke=Nke,Fke=Lke,Bke=Vke(Fke),Uke=Bke;const zke=qe(Uke);var Wke=Uce(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),YP=j.createContext(void 0),XP=j.createContext(void 0),s8=j.createContext(void 0),a8=j.createContext({}),o8=j.createContext(void 0),l8=j.createContext(0),c8=j.createContext(0),_M=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,d=Wke(s);return $.createElement(YP.Provider,{value:r},$.createElement(XP.Provider,{value:i},$.createElement(a8.Provider,{value:s},$.createElement(s8.Provider,{value:d},$.createElement(o8.Provider,{value:a},$.createElement(l8.Provider,{value:c},$.createElement(c8.Provider,{value:l},o)))))))},qke=function(){return j.useContext(o8)},u8=function(e){var n=j.useContext(YP);n==null&&dl(!1);var r=n[e];return r==null&&dl(!1),r},Hke=function(){var e=j.useContext(YP);return na(e)},Kke=function(){var e=j.useContext(XP),n=zke(e,function(r){return Q9(r.domain,Number.isFinite)});return n||na(e)},d8=function(e){var n=j.useContext(XP);n==null&&dl(!1);var r=n[e];return r==null&&dl(!1),r},Gke=function(){var e=j.useContext(s8);return e},Yke=function(){return j.useContext(a8)},QP=function(){return j.useContext(c8)},JP=function(){return j.useContext(l8)};function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Xke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f8(r.key),r)}}function Qke(t,e,n){return e&&SM(t.prototype,e),n&&SM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jke(t,e,n){return e=Dv(e),Zke(t,h8()?Reflect.construct(e,n||[],Dv(t).constructor):e.apply(t,n))}function Zke(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eOe(t)}function eOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h8=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(t)}function tOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XS(t,e)}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){ZP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZP(t,e,n){return e=f8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f8(t){var e=nOe(t,"string");return gu(e)=="symbol"?e:e+""}function nOe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rOe(t,e){return oOe(t)||aOe(t,e)||sOe(t,e)||iOe()}function iOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sOe(t,e){if(t){if(typeof t=="string")return AM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AM(t,e)}}function AM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function oOe(t){if(Array.isArray(t))return t}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}var lOe=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Ae(e)?r=e(n):r=$.createElement("line",QS({},n,{className:"recharts-reference-line-line"})),r},cOe=function(e,n,r,i,s,a,o,l,c){var d=s.x,h=s.y,f=s.width,m=s.height;if(r){var g=c.y,y=e.y.apply(g,{position:a});if(Ni(c,"discard")&&!e.y.isInRange(y))return null;var v=[{x:d+f,y},{x:d,y}];return l==="left"?v.reverse():v}if(n){var w=c.x,b=e.x.apply(w,{position:a});if(Ni(c,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:h+m},{x:b,y:h}];return o==="top"?x.reverse():x}if(i){var A=c.segment,T=A.map(function(P){return e.apply(P,{position:a})});return Ni(c,"discard")&&RNe(T,function(P){return!e.isInRange(P)})?null:T}return null};function uOe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=qke(),d=u8(i),h=d8(s),f=Gke();if(!c||!f)return null;di(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=GP({x:d.scale,y:h.scale}),g=Bt(e),y=Bt(n),v=r&&r.length===2,w=cOe(m,g,y,v,f,t.position,d.orientation,h.orientation,t);if(!w)return null;var b=rOe(w,2),x=b[0],A=x.x,T=x.y,P=b[1],E=P.x,S=P.y,I=Ni(t,"hidden")?"url(#".concat(c,")"):void 0,k=EM(EM({clipPath:I},be(t,!0)),{},{x1:A,y1:T,x2:E,y2:S});return $.createElement(Fe,{className:ke("recharts-reference-line",o)},lOe(a,k),Gt.renderCallByParent(t,_ke({x1:A,y1:T,x2:E,y2:S})))}var eI=function(t){function e(){return Xke(this,e),Jke(this,e,arguments)}return tOe(e,t),Qke(e,[{key:"render",value:function(){return $.createElement(uOe,this.props)}}])}($.Component);ZP(eI,"displayName","ReferenceLine");ZP(eI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){Fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m8(r.key),r)}}function hOe(t,e,n){return e&&NM(t.prototype,e),n&&NM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fOe(t,e,n){return e=Mv(e),pOe(t,p8()?Reflect.construct(e,n||[],Mv(t).constructor):e.apply(t,n))}function pOe(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mOe(t)}function mOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}function gOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZS(t,e)}function Fx(t,e,n){return e=m8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8(t){var e=yOe(t,"string");return yu(e)=="symbol"?e:e+""}function yOe(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vOe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=GP({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Ni(e,"discard")&&!a.isInRange(o)?null:o},Bx=function(t){function e(){return dOe(this,e),fOe(this,e,arguments)}return gOe(e,t),hOe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=Bt(i),d=Bt(s);if(di(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var h=vOe(this.props);if(!h)return null;var f=h.x,m=h.y,g=this.props,y=g.shape,v=g.className,w=Ni(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=IM(IM({clipPath:w},be(this.props,!0)),{},{cx:f,cy:m});return $.createElement(Fe,{className:ke("recharts-reference-dot",v)},e.renderDot(y,b),Gt.renderCallByParent(this.props,{x:f-a,y:m-a,width:2*a,height:2*a}))}}])}($.Component);Fx(Bx,"displayName","ReferenceDot");Fx(Bx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fx(Bx,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ae(t)?n=t(e):n=$.createElement(jx,JS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(this,arguments)}function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y8(r.key),r)}}function bOe(t,e,n){return e&&jM(t.prototype,e),n&&jM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wOe(t,e,n){return e=$v(e),_Oe(t,g8()?Reflect.construct(e,n||[],$v(t).constructor):e.apply(t,n))}function _Oe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SOe(t)}function SOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g8=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}function TOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tT(t,e)}function tT(t,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tT(t,e)}function Ux(t,e,n){return e=y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y8(t){var e=EOe(t,"string");return vu(e)=="symbol"?e:e+""}function EOe(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AOe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var f=GP({x:d.scale,y:h.scale}),m={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return Ni(s,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:r8(m,g)},zx=function(t){function e(){return xOe(this,e),wOe(this,e,arguments)}return TOe(e,t),bOe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;di(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Bt(i),f=Bt(s),m=Bt(a),g=Bt(o),y=this.props.shape;if(!h&&!f&&!m&&!g&&!y)return null;var v=AOe(h,f,m,g,this.props);if(!v&&!y)return null;var w=Ni(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(Fe,{className:ke("recharts-reference-area",l)},e.renderRect(y,OM(OM({clipPath:w},be(this.props,!0)),v)),Gt.renderCallByParent(this.props,v))}}])}($.Component);Ux(zx,"displayName","ReferenceArea");Ux(zx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ux(zx,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Ae(t)?n=t(e):n=$.createElement(KP,eT({},e,{className:"recharts-reference-area-rect"})),n});function v8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function POe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Tke(r,n)}function IOe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Lv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function NOe(t,e){return v8(t,e+1)}function kOe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,d=a,h=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:v8(r,c)};var y=l,v,w=function(){return v===void 0&&(v=n(g,y)),v},b=g.coordinate,x=l===0||Lv(t,b,w,d,o);x||(l=0,d=a,c+=1),x&&(d=b+t*(w()/2+i),l+=c)},f;c<=s.length;)if(f=h(),f)return f.v;return[]}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){OOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OOe(t,e,n){return e=jOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jOe(t){var e=COe(t,"string");return Gf(e)=="symbol"?e:e+""}function COe(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ROe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(f){var m=s[f],g,y=function(){return g===void 0&&(g=n(m,f)),g};if(f===a-1){var v=t*(m.coordinate+t*y()/2-l);s[f]=m=vn(vn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else s[f]=m=vn(vn({},m),{},{tickCoord:m.coordinate});var w=Lv(t,m.tickCoord,y,o,l);w&&(l=m.tickCoord-t*(y()/2+i),s[f]=vn(vn({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function DOe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var d=r[o-1],h=n(d,o-1),f=t*(d.coordinate+t*h/2-c);a[o-1]=d=vn(vn({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var m=Lv(t,d.tickCoord,function(){return h},l,c);m&&(c=d.tickCoord-t*(h/2+i),a[o-1]=vn(vn({},d),{},{isShow:!0}))}for(var g=s?o-1:o,y=function(b){var x=a[b],A,T=function(){return A===void 0&&(A=n(x,b)),A};if(b===0){var P=t*(x.coordinate-t*T()/2-l);a[b]=x=vn(vn({},x),{},{tickCoord:P<0?x.coordinate-P*t:x.coordinate})}else a[b]=x=vn(vn({},x),{},{tickCoord:x.coordinate});var E=Lv(t,x.tickCoord,T,l,c);E&&(l=x.tickCoord+t*(T()/2+i),a[b]=vn(vn({},x),{},{isShow:!0}))},v=0;v<g;v++)y(v);return a}function tI(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ae(l)||Pi.isSsr)return NOe(i,typeof l=="number"&&ae(l)?l:0);var f=[],m=o==="top"||o==="bottom"?"width":"height",g=d&&m==="width"?_h(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(x,A){var T=Ae(c)?c(x.value,A):x.value;return m==="width"?POe(_h(T,{fontSize:e,letterSpacing:n}),g,h):_h(T,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?Dn(i[1].coordinate-i[0].coordinate):1,w=IOe(s,v,m);return l==="equidistantPreserveStart"?kOe(v,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=DOe(v,w,y,i,a,l==="preserveStartEnd"):f=ROe(v,w,y,i,a),f.filter(function(b){return b.isShow}))}var MOe=["viewBox"],$Oe=["viewBox"],LOe=["ticks"];function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){nI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lw(t,e){if(t==null)return{};var n=VOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b8(r.key),r)}}function BOe(t,e,n){return e&&DM(t.prototype,e),n&&DM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UOe(t,e,n){return e=Vv(e),zOe(t,x8()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function zOe(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WOe(t)}function WOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function qOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nT(t,e)}function nI(t,e,n){return e=b8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b8(t){var e=HOe(t,"string");return xu(e)=="symbol"?e:e+""}function HOe(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xu=function(t){function e(n){var r;return FOe(this,e),r=UOe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return qOe(e,t),BOe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=Lw(r,MOe),o=this.props,l=o.viewBox,c=Lw(o,$Oe);return!Ac(s,l)||!Ac(a,c)||!Ac(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,m,g,y,v,w,b,x=h?-1:1,A=r.tickSize||d,T=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=g=r.coordinate,v=a+ +!h*l,y=v-x*A,b=y-x*f,w=T;break;case"left":y=v=r.coordinate,g=s+ +!h*o,m=g-x*A,w=m-x*f,b=T;break;case"right":y=v=r.coordinate,g=s+ +h*o,m=g+x*A,w=m+x*f,b=T;break;default:m=g=r.coordinate,v=a+ +h*l,y=v+x*A,b=y+x*f,w=T;break}return{line:{x1:m,y1:y,x2:g,y2:v},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,h=Nn(Nn(Nn({},be(this.props,!1)),be(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);h=Nn(Nn({},h),{},{x1:i,y1:s+f*o,x2:i+a,y2:s+f*o})}else{var m=+(l==="left"&&!c||l==="right"&&c);h=Nn(Nn({},h),{},{x1:i+m*a,y1:s,x2:i+m*a,y2:s+o})}return $.createElement("line",pc({},h,{className:ke("recharts-cartesian-axis-line",mr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,h=o.tickFormatter,f=o.unit,m=tI(Nn(Nn({},this.props),{},{ticks:r}),i,s),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=be(this.props,!1),w=be(d,!1),b=Nn(Nn({},v),{},{fill:"none"},be(l,!1)),x=m.map(function(A,T){var P=a.getTickLineCoord(A),E=P.line,S=P.tick,I=Nn(Nn(Nn(Nn({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:c},w),S),{},{index:T,payload:A,visibleTicksCount:m.length,tickFormatter:h});return $.createElement(Fe,pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},ll(a.props,A,T)),l&&$.createElement("line",pc({},b,E,{className:ke("recharts-cartesian-axis-tick-line",mr(l,"className"))})),d&&e.renderTickItem(d,I,"".concat(Ae(h)?h(A.value,T):A.value).concat(f||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,m=Lw(h,LOe),g=f;return Ae(l)&&(g=f&&f.length>0?l(this.props):l(m)),a<=0||o<=0||!g||!g.length?null:$.createElement(Fe,{className:ke("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Gt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return $.isValidElement(r)?a=$.cloneElement(r,i):Ae(r)?a=r(i):a=$.createElement(cl,pc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(j.Component);nI(Xu,"displayName","CartesianAxis");nI(Xu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KOe=["x1","y1","x2","y2","key"],GOe=["offset"];function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){YOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YOe(t,e,n){return e=XOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XOe(t){var e=QOe(t,"string");return fl(e)=="symbol"?e:e+""}function QOe(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(this,arguments)}function $M(t,e){if(t==null)return{};var n=JOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZOe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return $.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function w8(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Ae(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=$M(e,KOe),c=be(l,!1);c.offset;var d=$M(c,GOe);n=$.createElement("line",jo({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function eje(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=wn(wn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return w8(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function tje(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=wn(wn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return w8(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function nje(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],y=g?i+a-f:d[m+1]-f;if(y<=0)return null;var v=m%e.length;return $.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:y,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function rje(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],y=g?s+o-f:d[m+1]-f;if(y<=0)return null;var v=m%r.length;return $.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ije=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return y9(tI(wn(wn(wn({},Xu.defaultProps),r),{},{ticks:es(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},sje=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return y9(tI(wn(wn(wn({},Xu.defaultProps),r),{},{ticks:es(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Ul={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Fv(t){var e,n,r,i,s,a,o=QP(),l=JP(),c=Yke(),d=wn(wn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ul.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ul.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ul.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ul.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Ul.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ul.verticalFill,x:ae(t.x)?t.x:c.left,y:ae(t.y)?t.y:c.top,width:ae(t.width)?t.width:c.width,height:ae(t.height)?t.height:c.height}),h=d.x,f=d.y,m=d.width,g=d.height,y=d.syncWithTicks,v=d.horizontalValues,w=d.verticalValues,b=Hke(),x=Kke();if(!ae(m)||m<=0||!ae(g)||g<=0||!ae(h)||h!==+h||!ae(f)||f!==+f)return null;var A=d.verticalCoordinatesGenerator||ije,T=d.horizontalCoordinatesGenerator||sje,P=d.horizontalPoints,E=d.verticalPoints;if((!P||!P.length)&&Ae(T)){var S=v&&v.length,I=T({yAxis:x?wn(wn({},x),{},{ticks:S?v:x.ticks}):void 0,width:o,height:l,offset:c},S?!0:y);di(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fl(I),"]")),Array.isArray(I)&&(P=I)}if((!E||!E.length)&&Ae(A)){var k=w&&w.length,O=A({xAxis:b?wn(wn({},b),{},{ticks:k?w:b.ticks}):void 0,width:o,height:l,offset:c},k?!0:y);di(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fl(O),"]")),Array.isArray(O)&&(E=O)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(ZOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(eje,jo({},d,{offset:c,horizontalPoints:P,xAxis:b,yAxis:x})),$.createElement(tje,jo({},d,{offset:c,verticalPoints:E,xAxis:b,yAxis:x})),$.createElement(nje,jo({},d,{horizontalPoints:P})),$.createElement(rje,jo({},d,{verticalPoints:E})))}Fv.displayName="CartesianGrid";var aje=["type","layout","connectNulls","ref"],oje=["key"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function LM(t,e){if(t==null)return{};var n=lje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ih.apply(this,arguments)}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zl(t){return hje(t)||dje(t)||uje(t)||cje()}function cje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uje(t,e){if(t){if(typeof t=="string")return rT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(t,e)}}function dje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hje(t){if(Array.isArray(t))return rT(t)}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S8(r.key),r)}}function pje(t,e,n){return e&&FM(t.prototype,e),n&&FM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mje(t,e,n){return e=Bv(e),gje(t,_8()?Reflect.construct(e,n||[],Bv(t).constructor):e.apply(t,n))}function gje(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yje(t)}function yje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_8=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(t)}function vje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(t,e)}function ri(t,e,n){return e=S8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S8(t){var e=xje(t,"string");return bu(e)=="symbol"?e:e+""}function xje(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dp=function(t){function e(){var n;fje(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=mje(this,e,[].concat(i)),ri(n,"state",{isAnimationFinished:!0,totalLength:0}),ri(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),ri(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(w,b){return w+b});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/c),h=a%c,f=o-a,m=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>h){m=[].concat(zl(l.slice(0,g)),[h-y]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(zl(e.repeat(l,d)),zl(m),v).map(function(w){return"".concat(w,"px")}).join(", ")}),ri(n,"id",zu("recharts-line-")),ri(n,"pathRef",function(a){n.mainCurve=a}),ri(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ri(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return vje(e,t),pje(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,h=gr(d,Rp);if(!h)return null;var f=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:Vt(y.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Fe,m,h.map(function(g){return $.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,h=be(this.props,!1),f=be(l,!0),m=c.map(function(y,v){var w=nr(nr(nr({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:c});return e.renderDotItem(l,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return $.createElement(Fe,Ih({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var h=LM(o,aje),f=nr(nr(nr({},be(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return $.createElement(bv,Ih({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,f=a.animationEasing,m=a.animationId,g=a.animateNewValues,y=a.width,v=a.height,w=this.state,b=w.prevPoints,x=w.totalLength;return $.createElement(hl,{begin:d,duration:h,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var T=A.t;if(b){var P=b.length/o.length,E=o.map(function(C,R){var F=Math.floor(R*P);if(b[F]){var B=b[F],H=lr(B.x,C.x),Y=lr(B.y,C.y);return nr(nr({},C),{},{x:H(T),y:Y(T)})}if(g){var L=lr(y*2,C.x),q=lr(v/2,C.y);return nr(nr({},C),{},{x:L(T),y:q(T)})}return nr(nr({},C),{},{x:C.x,y:C.y})});return s.renderCurveStatically(E,r,i)}var S=lr(0,x),I=S(T),k;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});k=s.getStrokeDasharray(I,x,O)}else k=s.generateSimpleStrokeDasharray(x,I);return s.renderCurveStatically(o,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&a&&a.length&&(!c&&d>0||!Cp(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,h=i.top,f=i.left,m=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var w=this.state.isAnimationFinished,b=o.length===1,x=ke("recharts-line",l),A=c&&c.allowDataOverflow,T=d&&d.allowDataOverflow,P=A||T,E=Ie(v)?this.id:v,S=(r=be(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=S.r,k=I===void 0?3:I,O=S.strokeWidth,C=O===void 0?2:O,R=Yue(a)?a:{},F=R.clipDot,B=F===void 0?!0:F,H=k*2+C;return $.createElement(Fe,{className:x},A||T?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:A?f:f-m/2,y:T?h:h-g/2,width:A?m:m*2,height:T?g:g*2})),!B&&$.createElement("clipPath",{id:"clipPath-dots-".concat(E)},$.createElement("rect",{x:f-H/2,y:h-H/2,width:m+H,height:g+H}))):null,!b&&this.renderCurve(P,E),this.renderErrorBar(P,E),(b||a)&&this.renderDots(P,B,E),(!y||w)&&ls.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(zl(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(zl(a),zl(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if($.isValidElement(r))s=$.cloneElement(r,i);else if(Ae(r))s=r(i);else{var a=i.key,o=LM(i,oje),l=ke("recharts-line-dot",typeof r!="boolean"?r.className:"");s=$.createElement(jx,Ih({key:a},o,{className:l}))}return s}}])}(j.PureComponent);ri(Dp,"displayName","Line");ri(Dp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ri(Dp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,h=l.map(function(f,m){var g=Vt(f,a);return d==="horizontal"?{x:aD({axis:n,ticks:i,bandSize:o,entry:f,index:m}),y:Ie(g)?null:r.scale(g),value:g,payload:f}:{x:Ie(g)?null:n.scale(g),y:aD({axis:r,ticks:s,bandSize:o,entry:f,index:m}),value:g,payload:f}});return nr({points:h,layout:d},c)});function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function bje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A8(r.key),r)}}function wje(t,e,n){return e&&BM(t.prototype,e),n&&BM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _je(t,e,n){return e=Uv(e),Sje(t,T8()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function Sje(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tje(t)}function Tje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function Eje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sT(t,e)}function E8(t,e,n){return e=A8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=Aje(t,"string");return wu(e)=="symbol"?e:e+""}function Aje(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(this,arguments)}function Pje(t){var e=t.xAxisId,n=QP(),r=JP(),i=u8(e);return i==null?null:$.createElement(Xu,aT({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return es(a,!0)}}))}var pl=function(t){function e(){return bje(this,e),_je(this,e,arguments)}return Eje(e,t),wje(e,[{key:"render",value:function(){return $.createElement(Pje,this.props)}}])}($.Component);E8(pl,"displayName","XAxis");E8(pl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function Ije(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N8(r.key),r)}}function Nje(t,e,n){return e&&UM(t.prototype,e),n&&UM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kje(t,e,n){return e=zv(e),Oje(t,P8()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function Oje(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(t)}function jje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P8=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function Cje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}function oT(t,e){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oT(t,e)}function I8(t,e,n){return e=N8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N8(t){var e=Rje(t,"string");return _u(e)=="symbol"?e:e+""}function Rje(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(this,arguments)}var Dje=function(e){var n=e.yAxisId,r=QP(),i=JP(),s=d8(n);return s==null?null:$.createElement(Xu,lT({},s,{className:ke("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return es(o,!0)}}))},Ca=function(t){function e(){return Ije(this,e),kje(this,e,arguments)}return Cje(e,t),Nje(e,[{key:"render",value:function(){return $.createElement(Dje,this.props)}}])}($.Component);I8(Ca,"displayName","YAxis");I8(Ca,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zM(t){return Vje(t)||Lje(t)||$je(t)||Mje()}function Mje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $je(t,e){if(t){if(typeof t=="string")return cT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(t,e)}}function Lje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vje(t){if(Array.isArray(t))return cT(t)}function cT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uT=function(e,n,r,i,s){var a=gr(e,eI),o=gr(e,Bx),l=[].concat(zM(a),zM(o)),c=gr(e,zx),d="".concat(i,"Id"),h=i[0],f=n;if(l.length&&(f=l.reduce(function(y,v){if(v.props[d]===r&&Ni(v.props,"extendDomain")&&ae(v.props[h])){var w=v.props[h];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},f)),c.length){var m="".concat(h,"1"),g="".concat(h,"2");f=c.reduce(function(y,v){if(v.props[d]===r&&Ni(v.props,"extendDomain")&&ae(v.props[m])&&ae(v.props[g])){var w=v.props[m],b=v.props[g];return[Math.min(y[0],w,b),Math.max(y[1],w,b)]}return y},f)}return s&&s.length&&(f=s.reduce(function(y,v){return ae(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},f)),f},k8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,d,h,f,m,g){var y=n?n+c:c;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,g),!0}for(x=1,b=new Array(w-1);x<w;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var A=v.length,T;for(x=0;x<A;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),w){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,h);break;case 4:v[x].fn.call(v[x].context,d,h,f);break;default:if(!b)for(T=1,b=new Array(w-1);T<w;T++)b[T-1]=arguments[T];v[x].fn.apply(v[x].context,b)}}return!0},o.prototype.on=function(c,d,h){return s(this,c,d,h,!1)},o.prototype.once=function(c,d,h){return s(this,c,d,h,!0)},o.prototype.removeListener=function(c,d,h,f){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&a(this,m);else{for(var y=0,v=[],w=g.length;y<w;y++)(g[y].fn!==d||f&&!g[y].once||h&&g[y].context!==h)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(k8);var Fje=k8.exports;const Bje=qe(Fje);var Vw=new Bje,Fw="recharts.syncMouseEvents";function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function Uje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O8(r.key),r)}}function zje(t,e,n){return e&&WM(t.prototype,e),n&&WM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bw(t,e,n){return e=O8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O8(t){var e=Wje(t,"string");return Yf(e)=="symbol"?e:e+""}function Wje(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qje=function(){function t(){Uje(this,t),Bw(this,"activeIndex",0),Bw(this,"coordinateList",[]),Bw(this,"layout","horizontal")}return zje(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+l+c,f=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Hje(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function Kje(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function j8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=st(e,n,r,i),o=st(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Gje(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,h=e.angle,f=st(o,l,c,h),m=st(o,l,d,h);r=f.x,i=f.y,s=m.x,a=m.y}else return j8(e);return[{x:r,y:i},{x:s,y:a}]}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Yje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yje(t,e,n){return e=Xje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xje(t){var e=Qje(t,"string");return Xf(e)=="symbol"?e:e+""}function Qje(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jje(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!s||!a||f!=="ScatterChart"&&i!=="axis")return null;var g,y=bv;if(f==="ScatterChart")g=a,y=_Pe;else if(f==="BarChart")g=Kje(h,a,l,d),y=KP;else if(h==="radial"){var v=j8(a),w=v.cx,b=v.cy,x=v.radius,A=v.startAngle,T=v.endAngle;g={cx:w,cy:b,startAngle:A,endAngle:T,innerRadius:x,outerRadius:x},y=I9}else g={points:Gje(h,a,l)},y=bv;var P=Wm(Wm(Wm(Wm({stroke:"#ccc",pointerEvents:"none"},l),g),be(m,!1)),{},{payload:o,payloadIndex:c,className:ke("recharts-tooltip-cursor",m.className)});return j.isValidElement(m)?j.cloneElement(m,P):j.createElement(y,P)}var Zje=["item"],eCe=["children","className","width","height","style","compact","title","desc"];function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function HM(t,e){return rCe(t)||nCe(t,e)||R8(t,e)||tCe()}function tCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function rCe(t){if(Array.isArray(t))return t}function KM(t,e){if(t==null)return{};var n=iCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D8(r.key),r)}}function aCe(t,e,n){return e&&GM(t.prototype,e),n&&GM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oCe(t,e,n){return e=Wv(e),lCe(t,C8()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function lCe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cCe(t)}function cCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C8=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function uCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(t,e)}function Tu(t){return fCe(t)||hCe(t)||R8(t)||dCe()}function dCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function hCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fCe(t){if(Array.isArray(t))return hT(t)}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,e,n){return e=D8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=pCe(t,"string");return Su(e)=="symbol"?e:e+""}function pCe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mCe={xAxis:["bottom","top"],yAxis:["left","right"]},gCe={width:"100%",height:"100%"},M8={x:0,y:0};function qm(t){return t}var yCe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},vCe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Q(Q(Q({},i),st(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return Q(Q(Q({},i),st(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return M8},Wx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Tu(o),Tu(c)):o},[]);return a.length>0?a:e&&e.length&&ae(i)&&ae(s)?e.slice(i,s+1):[]};function $8(t){return t==="number"?[0,"auto"]:void 0}var fT=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=Wx(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var d,h=(d=c.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var m=h===void 0?o:h;f=zy(m,a.dataKey,i)}else f=h&&h[r]||o[r];return f?[].concat(Tu(l),[_9(c,f)]):l},[])},XM=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=yCe(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=KSe(a,o,c,l);if(d>=0&&c){var h=c[d]&&c[d].value,f=fT(e,n,d,h),m=vCe(r,o,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},xCe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,m=g9(d,s);return r.reduce(function(g,y){var v,w=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,b=w.type,x=w.dataKey,A=w.allowDataOverflow,T=w.allowDuplicatedCategory,P=w.scale,E=w.ticks,S=w.includeHidden,I=w[a];if(g[I])return g;var k=Wx(e.data,{graphicalItems:i.filter(function(Z){var ne,G=a in Z.props?Z.props[a]:(ne=Z.type.defaultProps)===null||ne===void 0?void 0:ne[a];return G===I}),dataStartIndex:l,dataEndIndex:c}),O=k.length,C,R,F;Hje(w.domain,A,b)&&(C=PS(w.domain,null,A),m&&(b==="number"||P!=="auto")&&(F=Th(k,x,"category")));var B=$8(b);if(!C||C.length===0){var H,Y=(H=w.domain)!==null&&H!==void 0?H:B;if(x){if(C=Th(k,x,b),b==="category"&&m){var L=Vue(C);T&&L?(R=C,C=kv(0,O)):T||(C=uD(Y,C,y).reduce(function(Z,ne){return Z.indexOf(ne)>=0?Z:[].concat(Tu(Z),[ne])},[]))}else if(b==="category")T?C=C.filter(function(Z){return Z!==""&&!Ie(Z)}):C=uD(Y,C,y).reduce(function(Z,ne){return Z.indexOf(ne)>=0||ne===""||Ie(ne)?Z:[].concat(Tu(Z),[ne])},[]);else if(b==="number"){var q=JSe(k,i.filter(function(Z){var ne,G,W=a in Z.props?Z.props[a]:(ne=Z.type.defaultProps)===null||ne===void 0?void 0:ne[a],ce="hide"in Z.props?Z.props.hide:(G=Z.type.defaultProps)===null||G===void 0?void 0:G.hide;return W===I&&(S||!ce)}),x,s,d);q&&(C=q)}m&&(b==="number"||P!=="auto")&&(F=Th(k,x,"category"))}else m?C=kv(0,O):o&&o[I]&&o[I].hasStack&&b==="number"?C=f==="expand"?[0,1]:w9(o[I].stackGroups,l,c):C=m9(k,i.filter(function(Z){var ne=a in Z.props?Z.props[a]:Z.type.defaultProps[a],G="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ne===I&&(S||!G)}),b,d,!0);if(b==="number")C=uT(h,C,I,s,E),Y&&(C=PS(Y,C,A));else if(b==="category"&&Y){var X=Y,te=C.every(function(Z){return X.indexOf(Z)>=0});te&&(C=X)}}return Q(Q({},g),{},Se({},I,Q(Q({},w),{},{axisType:s,domain:C,categoricalDomain:F,duplicateDomain:R,originalDomain:(v=w.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},bCe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,h=e.children,f=Wx(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=f.length,g=g9(d,s),y=-1;return r.reduce(function(v,w){var b=w.type.defaultProps!==void 0?Q(Q({},w.type.defaultProps),w.props):w.props,x=b[a],A=$8("number");if(!v[x]){y++;var T;return g?T=kv(0,m):o&&o[x]&&o[x].hasStack?(T=w9(o[x].stackGroups,l,c),T=uT(h,T,x,s)):(T=PS(A,m9(f,r.filter(function(P){var E,S,I=a in P.props?P.props[a]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[a],k="hide"in P.props?P.props.hide:(S=P.type.defaultProps)===null||S===void 0?void 0:S.hide;return I===x&&!k}),"number",d),i.defaultProps.allowDataOverflow),T=uT(h,T,x,s)),Q(Q({},v),{},Se({},x,Q(Q({axisType:s},i.defaultProps),{},{hide:!0,orientation:mr(mCe,"".concat(s,".").concat(y%2),null),domain:T,originalDomain:A,isCategorical:g,layout:d})))}return v},{})},wCe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=gr(d,s),m={};return f&&f.length?m=xCe(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=bCe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),m},_Ce=function(e){var n=na(e),r=es(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:bP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yv(n,r)}},QM=function(e){var n=e.children,r=e.defaultShowTooltip,i=sr(n,pu),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},SCe=function(e){return!e||!e.length?!1:e.some(function(n){var r=as(n&&n.type);return r&&r.indexOf("Bar")>=0})},JM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},TCe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,h=r.children,f=r.margin||{},m=sr(h,pu),g=sr(h,Fo),y=Object.keys(l).reduce(function(T,P){var E=l[P],S=E.orientation;return!E.mirror&&!E.hide?Q(Q({},T),{},Se({},S,T[S]+E.width)):T},{left:f.left||0,right:f.right||0}),v=Object.keys(a).reduce(function(T,P){var E=a[P],S=E.orientation;return!E.mirror&&!E.hide?Q(Q({},T),{},Se({},S,mr(T,"".concat(S))+E.height)):T},{top:f.top||0,bottom:f.bottom||0}),w=Q(Q({},v),y),b=w.bottom;m&&(w.bottom+=m.props.height||pu.defaultProps.height),g&&n&&(w=XSe(w,i,r,n));var x=c-w.left-w.right,A=d-w.top-w.bottom;return Q(Q({brushBottom:b},w),{},{width:Math.max(x,0),height:Math.max(A,0)})},ECe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},rI=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(w,b){var x=b.graphicalItems,A=b.stackGroups,T=b.offset,P=b.updateId,E=b.dataStartIndex,S=b.dataEndIndex,I=w.barSize,k=w.layout,O=w.barGap,C=w.barCategoryGap,R=w.maxBarSize,F=JM(k),B=F.numericAxisName,H=F.cateAxisName,Y=SCe(x),L=[];return x.forEach(function(q,X){var te=Wx(w.data,{graphicalItems:[q],dataStartIndex:E,dataEndIndex:S}),Z=q.type.defaultProps!==void 0?Q(Q({},q.type.defaultProps),q.props):q.props,ne=Z.dataKey,G=Z.maxBarSize,W=Z["".concat(B,"Id")],ce=Z["".concat(H,"Id")],me={},$e=l.reduce(function(cn,Jt){var pi=b["".concat(Jt.axisType,"Map")],Ds=Z["".concat(Jt.axisType,"Id")];pi&&pi[Ds]||Jt.axisType==="zAxis"||dl(!1);var Il=pi[Ds];return Q(Q({},cn),{},Se(Se({},Jt.axisType,Il),"".concat(Jt.axisType,"Ticks"),es(Il)))},me),se=$e[H],de=$e["".concat(H,"Ticks")],V=A&&A[W]&&A[W].hasStack&&oTe(q,A[W].stackGroups),M=as(q.type).indexOf("Bar")>=0,we=yv(se,de),ye=[],je=Y&&GSe({barSize:I,stackGroups:A,totalSize:ECe($e,H)});if(M){var He,gt,ln=Ie(G)?R:G,zn=(He=(gt=yv(se,de,!0))!==null&&gt!==void 0?gt:ln)!==null&&He!==void 0?He:0;ye=YSe({barGap:O,barCategoryGap:C,bandSize:zn!==we?zn:we,sizeList:je[ce],maxBarSize:ln}),zn!==we&&(ye=ye.map(function(cn){return Q(Q({},cn),{},{position:Q(Q({},cn.position),{},{offset:cn.position.offset-zn/2})})}))}var Tr=q&&q.type&&q.type.getComposedData;Tr&&L.push({props:Q(Q({},Tr(Q(Q({},$e),{},{displayedData:te,props:w,dataKey:ne,item:q,bandSize:we,barPosition:ye,offset:T,stackedData:V,layout:k,dataStartIndex:E,dataEndIndex:S}))),{},Se(Se(Se({key:q.key||"item-".concat(X)},B,$e[B]),H,$e[H]),"animationId",P)),childIndex:Jue(q,w.children),item:q})}),L},m=function(w,b){var x=w.props,A=w.dataStartIndex,T=w.dataEndIndex,P=w.updateId;if(!ZC({props:x}))return null;var E=x.children,S=x.layout,I=x.stackOffset,k=x.data,O=x.reverseStackOrder,C=JM(S),R=C.numericAxisName,F=C.cateAxisName,B=gr(E,r),H=sTe(k,B,"".concat(R,"Id"),"".concat(F,"Id"),I,O),Y=l.reduce(function(Z,ne){var G="".concat(ne.axisType,"Map");return Q(Q({},Z),{},Se({},G,wCe(x,Q(Q({},ne),{},{graphicalItems:B,stackGroups:ne.axisType===R&&H,dataStartIndex:A,dataEndIndex:T}))))},{}),L=TCe(Q(Q({},Y),{},{props:x,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(Y).forEach(function(Z){Y[Z]=d(x,Y[Z],L,Z.replace("Map",""),n)});var q=Y["".concat(F,"Map")],X=_Ce(q),te=f(x,Q(Q({},Y),{},{dataStartIndex:A,dataEndIndex:T,updateId:P,graphicalItems:B,stackGroups:H,offset:L}));return Q(Q({formattedGraphicalItems:te,graphicalItems:B,offset:L,stackGroups:H},X),Y)},g=function(v){function w(b){var x,A,T;return sCe(this,w),T=oCe(this,w,[b]),Se(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(T,"accessibilityManager",new qje),Se(T,"handleLegendBBoxUpdate",function(P){if(P){var E=T.state,S=E.dataStartIndex,I=E.dataEndIndex,k=E.updateId;T.setState(Q({legendBBox:P},m({props:T.props,dataStartIndex:S,dataEndIndex:I,updateId:k},Q(Q({},T.state),{},{legendBBox:P}))))}}),Se(T,"handleReceiveSyncEvent",function(P,E,S){if(T.props.syncId===P){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),Se(T,"handleBrushChange",function(P){var E=P.startIndex,S=P.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return Q({dataStartIndex:E,dataEndIndex:S},m({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),Se(T,"handleMouseEnter",function(P){var E=T.getMouseInfo(P);if(E){var S=Q(Q({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseEnter;Ae(I)&&I(S,P)}}),Se(T,"triggeredAfterMouseMove",function(P){var E=T.getMouseInfo(P),S=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseMove;Ae(I)&&I(S,P)}),Se(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Se(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Se(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),Se(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;Ae(S)&&S(E,P)}),Se(T,"handleOuterEvent",function(P){var E=Que(P),S=mr(T.props,"".concat(E));if(E&&Ae(S)){var I,k;/.*touch.*/i.test(E)?k=T.getMouseInfo(P.changedTouches[0]):k=T.getMouseInfo(P),S((I=k)!==null&&I!==void 0?I:{},P)}}),Se(T,"handleClick",function(P){var E=T.getMouseInfo(P);if(E){var S=Q(Q({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onClick;Ae(I)&&I(S,P)}}),Se(T,"handleMouseDown",function(P){var E=T.props.onMouseDown;if(Ae(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"handleMouseUp",function(P){var E=T.props.onMouseUp;if(Ae(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Se(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),Se(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),Se(T,"handleDoubleClick",function(P){var E=T.props.onDoubleClick;if(Ae(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"handleContextMenu",function(P){var E=T.props.onContextMenu;if(Ae(E)){var S=T.getMouseInfo(P);E(S,P)}}),Se(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&Vw.emit(Fw,T.props.syncId,P,T.eventEmitterSymbol)}),Se(T,"applySyncEvent",function(P){var E=T.props,S=E.layout,I=E.syncMethod,k=T.state.updateId,O=P.dataStartIndex,C=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(Q({dataStartIndex:O,dataEndIndex:C},m({props:T.props,dataStartIndex:O,dataEndIndex:C,updateId:k},T.state)));else if(P.activeTooltipIndex!==void 0){var R=P.chartX,F=P.chartY,B=P.activeTooltipIndex,H=T.state,Y=H.offset,L=H.tooltipTicks;if(!Y)return;if(typeof I=="function")B=I(L,P);else if(I==="value"){B=-1;for(var q=0;q<L.length;q++)if(L[q].value===P.activeLabel){B=q;break}}var X=Q(Q({},Y),{},{x:Y.left,y:Y.top}),te=Math.min(R,X.x+X.width),Z=Math.min(F,X.y+X.height),ne=L[B]&&L[B].value,G=fT(T.state,T.props.data,B),W=L[B]?{x:S==="horizontal"?L[B].coordinate:te,y:S==="horizontal"?Z:L[B].coordinate}:M8;T.setState(Q(Q({},P),{},{activeLabel:ne,activeCoordinate:W,activePayload:G,activeTooltipIndex:B}))}else T.setState(P)}),Se(T,"renderCursor",function(P){var E,S=T.state,I=S.isTooltipActive,k=S.activeCoordinate,O=S.activePayload,C=S.offset,R=S.activeTooltipIndex,F=S.tooltipAxisBandSize,B=T.getTooltipEventType(),H=(E=P.props.active)!==null&&E!==void 0?E:I,Y=T.props.layout,L=P.key||"_recharts-cursor";return $.createElement(Jje,{key:L,activeCoordinate:k,activePayload:O,activeTooltipIndex:R,chartName:n,element:P,isActive:H,layout:Y,offset:C,tooltipAxisBandSize:F,tooltipEventType:B})}),Se(T,"renderPolarAxis",function(P,E,S){var I=mr(P,"type.axisType"),k=mr(T.state,"".concat(I,"Map")),O=P.type.defaultProps,C=O!==void 0?Q(Q({},O),P.props):P.props,R=k&&k[C["".concat(I,"Id")]];return j.cloneElement(P,Q(Q({},R),{},{className:ke(I,R.className),key:P.key||"".concat(E,"-").concat(S),ticks:es(R,!0)}))}),Se(T,"renderPolarGrid",function(P){var E=P.props,S=E.radialLines,I=E.polarAngles,k=E.polarRadius,O=T.state,C=O.radiusAxisMap,R=O.angleAxisMap,F=na(C),B=na(R),H=B.cx,Y=B.cy,L=B.innerRadius,q=B.outerRadius;return j.cloneElement(P,{polarAngles:Array.isArray(I)?I:es(B,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:es(F,!0).map(function(X){return X.coordinate}),cx:H,cy:Y,innerRadius:L,outerRadius:q,key:P.key||"polar-grid",radialLines:S})}),Se(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,E=T.props,S=E.children,I=E.width,k=E.height,O=T.props.margin||{},C=I-(O.left||0)-(O.right||0),R=f9({children:S,formattedGraphicalItems:P,legendWidth:C,legendContent:c});if(!R)return null;var F=R.item,B=KM(R,Zje);return j.cloneElement(F,Q(Q({},B),{},{chartWidth:I,chartHeight:k,margin:O,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Se(T,"renderTooltip",function(){var P,E=T.props,S=E.children,I=E.accessibilityLayer,k=sr(S,or);if(!k)return null;var O=T.state,C=O.isTooltipActive,R=O.activeCoordinate,F=O.activePayload,B=O.activeLabel,H=O.offset,Y=(P=k.props.active)!==null&&P!==void 0?P:C;return j.cloneElement(k,{viewBox:Q(Q({},H),{},{x:H.left,y:H.top}),active:Y,label:B,payload:Y?F:[],coordinate:R,accessibilityLayer:I})}),Se(T,"renderBrush",function(P){var E=T.props,S=E.margin,I=E.data,k=T.state,O=k.offset,C=k.dataStartIndex,R=k.dataEndIndex,F=k.updateId;return j.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Fm(T.handleBrushChange,P.props.onChange),data:I,x:ae(P.props.x)?P.props.x:O.left,y:ae(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:ae(P.props.width)?P.props.width:O.width,startIndex:C,endIndex:R,updateId:"brush-".concat(F)})}),Se(T,"renderReferenceElement",function(P,E,S){if(!P)return null;var I=T,k=I.clipPathId,O=T.state,C=O.xAxisMap,R=O.yAxisMap,F=O.offset,B=P.type.defaultProps||{},H=P.props,Y=H.xAxisId,L=Y===void 0?B.xAxisId:Y,q=H.yAxisId,X=q===void 0?B.yAxisId:q;return j.cloneElement(P,{key:P.key||"".concat(E,"-").concat(S),xAxis:C[L],yAxis:R[X],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:k})}),Se(T,"renderActivePoints",function(P){var E=P.item,S=P.activePoint,I=P.basePoint,k=P.childIndex,O=P.isRange,C=[],R=E.props.key,F=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,B=F.activeDot,H=F.dataKey,Y=Q(Q({index:k,dataKey:H,cx:S.x,cy:S.y,r:4,fill:HP(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},be(B,!1)),Wy(B));return C.push(w.renderActiveDot(B,Y,"".concat(R,"-activePoint-").concat(k))),I?C.push(w.renderActiveDot(B,Q(Q({},Y),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(k))):O&&C.push(null),C}),Se(T,"renderGraphicChild",function(P,E,S){var I=T.filterFormatItem(P,E,S);if(!I)return null;var k=T.getTooltipEventType(),O=T.state,C=O.isTooltipActive,R=O.tooltipAxis,F=O.activeTooltipIndex,B=O.activeLabel,H=T.props.children,Y=sr(H,or),L=I.props,q=L.points,X=L.isRange,te=L.baseLine,Z=I.item.type.defaultProps!==void 0?Q(Q({},I.item.type.defaultProps),I.item.props):I.item.props,ne=Z.activeDot,G=Z.hide,W=Z.activeBar,ce=Z.activeShape,me=!!(!G&&C&&Y&&(ne||W||ce)),$e={};k!=="axis"&&Y&&Y.props.trigger==="click"?$e={onClick:Fm(T.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&($e={onMouseLeave:Fm(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Fm(T.handleItemMouseEnter,P.props.onMouseEnter)});var se=j.cloneElement(P,Q(Q({},I.props),$e));function de(Jt){return typeof R.dataKey=="function"?R.dataKey(Jt.payload):null}if(me)if(F>=0){var V,M;if(R.dataKey&&!R.allowDuplicatedCategory){var we=typeof R.dataKey=="function"?de:"payload.".concat(R.dataKey.toString());V=zy(q,we,B),M=X&&te&&zy(te,we,B)}else V=q==null?void 0:q[F],M=X&&te&&te[F];if(ce||W){var ye=P.props.activeIndex!==void 0?P.props.activeIndex:F;return[j.cloneElement(P,Q(Q(Q({},I.props),$e),{},{activeIndex:ye})),null,null]}if(!Ie(V))return[se].concat(Tu(T.renderActivePoints({item:I,activePoint:V,basePoint:M,childIndex:F,isRange:X})))}else{var je,He=(je=T.getItemByXY(T.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:se},gt=He.graphicalItem,ln=gt.item,zn=ln===void 0?P:ln,Tr=gt.childIndex,cn=Q(Q(Q({},I.props),$e),{},{activeIndex:Tr});return[j.cloneElement(zn,cn),null,null]}return X?[se,null,null]:[se,null]}),Se(T,"renderCustomized",function(P,E,S){return j.cloneElement(P,Q(Q({key:"recharts-customized-".concat(S)},T.props),T.state))}),Se(T,"renderMap",{CartesianGrid:{handler:qm,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:qm},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:qm},YAxis:{handler:qm},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:zu("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=hU(T.triggeredAfterMouseMove,(A=b.throttleDelay)!==null&&A!==void 0?A:1e3/60),T.state={},T}return uCe(w,v),aCe(w,[{key:"componentDidMount",value:function(){var x,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,A=x.children,T=x.data,P=x.height,E=x.layout,S=sr(A,or);if(S){var I=S.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=fT(this.state,T,I,k),C=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+P)/2,F=E==="horizontal",B=F?{x:C,y:R}:{y:C,x:R},H=this.state.formattedGraphicalItems.find(function(L){var q=L.item;return q.type.name==="Scatter"});H&&(B=Q(Q({},B),H.props.points[I].tooltipPosition),O=H.props.points[I].tooltipPayload);var Y={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:k,activePayload:O,activeCoordinate:B};this.setState(Y),this.renderCursor(S),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){U_([sr(x.children,or)],[sr(this.props.children,or)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=sr(this.props.children,or);if(x&&typeof x.props.shared=="boolean"){var A=x.props.shared?"axis":"item";return o.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var A=this.container,T=A.getBoundingClientRect(),P=wbe(T),E={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},S=T.width/A.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,S);if(!I)return null;var k=this.state,O=k.xAxisMap,C=k.yAxisMap,R=this.getTooltipEventType(),F=XM(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&O&&C){var B=na(O).scale,H=na(C).scale,Y=B&&B.invert?B.invert(E.chartX):null,L=H&&H.invert?H.invert(E.chartY):null;return Q(Q({},E),{},{xValue:Y,yValue:L},F)}return F?Q(Q({},E),F):null}},{key:"inRange",value:function(x,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=x/T,S=A/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,k=E>=I.left&&E<=I.left+I.width&&S>=I.top&&S<=I.top+I.height;return k?{x:E,y:S}:null}var O=this.state,C=O.angleAxisMap,R=O.radiusAxisMap;if(C&&R){var F=na(C);return fD({x:E,y:S},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,A=this.getTooltipEventType(),T=sr(x,or),P={};T&&A==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Wy(this.props,this.handleOuterEvent);return Q(Q({},E),P)}},{key:"addListener",value:function(){Vw.on(Fw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vw.removeListener(Fw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,A,T){for(var P=this.state.formattedGraphicalItems,E=0,S=P.length;E<S;E++){var I=P[E];if(I.item===x||I.props.key===x.key||A===as(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,A=this.state.offset,T=A.left,P=A.top,E=A.height,S=A.width;return $.createElement("defs",null,$.createElement("clipPath",{id:x},$.createElement("rect",{x:T,y:P,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(A,T){var P=HM(T,2),E=P[0],S=P[1];return Q(Q({},A),{},Se({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(A,T){var P=HM(T,2),E=P[0],S=P[1];return Q(Q({},A),{},Se({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[x])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(x){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[x])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(x){var A=this.state,T=A.formattedGraphicalItems,P=A.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var I=T[E],k=I.props,O=I.item,C=O.type.defaultProps!==void 0?Q(Q({},O.type.defaultProps),O.props):O.props,R=as(O.type);if(R==="Bar"){var F=(k.data||[]).find(function(L){return nPe(x,L)});if(F)return{graphicalItem:I,payload:F}}else if(R==="RadialBar"){var B=(k.data||[]).find(function(L){return fD(x,L)});if(B)return{graphicalItem:I,payload:B}}else if($x(I,P)||Lx(I,P)||Wf(I,P)){var H=WIe({graphicalItem:I,activeTooltipItem:P,itemData:C.data}),Y=C.activeIndex===void 0?H:C.activeIndex;return{graphicalItem:Q(Q({},I),{},{childIndex:Y}),payload:Wf(I,P)?C.data[H]:I.props.data[H]}}}return null}},{key:"render",value:function(){var x=this;if(!ZC(this))return null;var A=this.props,T=A.children,P=A.className,E=A.width,S=A.height,I=A.style,k=A.compact,O=A.title,C=A.desc,R=KM(A,eCe),F=be(R,!1);if(k)return $.createElement(_M,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(W_,mc({},F,{width:E,height:S,title:O,desc:C}),this.renderClipPath(),t2(T,this.renderMap)));if(this.props.accessibilityLayer){var B,H;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(H=this.props.role)!==null&&H!==void 0?H:"application",F.onKeyDown=function(L){x.accessibilityManager.keyboardEvent(L)},F.onFocus=function(){x.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return $.createElement(_M,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",mc({className:ke("recharts-wrapper",P),style:Q({position:"relative",cursor:"default",width:E,height:S},I)},Y,{ref:function(q){x.container=q}}),$.createElement(W_,mc({},F,{width:E,height:S,title:O,desc:C,style:gCe}),this.renderClipPath(),t2(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Se(g,"displayName",n),Se(g,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Se(g,"getDerivedStateFromProps",function(v,w){var b=v.dataKey,x=v.data,A=v.children,T=v.width,P=v.height,E=v.layout,S=v.stackOffset,I=v.margin,k=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var C=QM(v);return Q(Q(Q({},C),{},{updateId:0},m(Q(Q({props:v},C),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:x,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:A})}if(b!==w.prevDataKey||x!==w.prevData||T!==w.prevWidth||P!==w.prevHeight||E!==w.prevLayout||S!==w.prevStackOffset||!Ac(I,w.prevMargin)){var R=QM(v),F={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},B=Q(Q({},XM(w,x,E)),{},{updateId:w.updateId+1}),H=Q(Q(Q({},R),F),B);return Q(Q(Q({},H),m(Q({props:v},H),w)),{},{prevDataKey:b,prevData:x,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:A})}if(!U_(A,w.prevChildren)){var Y,L,q,X,te=sr(A,pu),Z=te&&(Y=(L=te.props)===null||L===void 0?void 0:L.startIndex)!==null&&Y!==void 0?Y:k,ne=te&&(q=(X=te.props)===null||X===void 0?void 0:X.endIndex)!==null&&q!==void 0?q:O,G=Z!==k||ne!==O,W=!Ie(x),ce=W&&!G?w.updateId:w.updateId+1;return Q(Q({updateId:ce},m(Q(Q({props:v},w),{},{updateId:ce,dataStartIndex:Z,dataEndIndex:ne}),w)),{},{prevChildren:A,dataStartIndex:Z,dataEndIndex:ne})}return null}),Se(g,"renderActiveDot",function(v,w,b){var x;return j.isValidElement(v)?x=j.cloneElement(v,w):Ae(v)?x=v(w):x=$.createElement(jx,w),$.createElement(Fe,{className:"recharts-active-dot",key:b},x)});var y=j.forwardRef(function(w,b){return $.createElement(g,mc({},w,{ref:b}))});return y.displayName=g.displayName,y},ACe=rI({chartName:"LineChart",GraphicalChild:Dp,axisComponents:[{axisType:"xAxis",AxisComp:pl},{axisType:"yAxis",AxisComp:Ca}],formatAxisMap:n8}),L8=rI({chartName:"BarChart",GraphicalChild:_s,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pl},{axisType:"yAxis",AxisComp:Ca}],formatAxisMap:n8}),PCe=rI({chartName:"PieChart",GraphicalChild:Rs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Mx},{axisType:"radiusAxis",AxisComp:Rx}],formatAxisMap:yTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ICe=()=>{const[t,e]=j.useState("daily"),[n,r]=j.useState(""),[i,s]=j.useState(""),a=[{date:"Mon",revenue:1200,orders:15},{date:"Tue",revenue:1500,orders:18},{date:"Wed",revenue:1800,orders:22},{date:"Thu",revenue:1400,orders:17},{date:"Fri",revenue:2e3,orders:25},{date:"Sat",revenue:2200,orders:28},{date:"Sun",revenue:1600,orders:20}],o=[{date:"Week 1",revenue:8500,orders:105},{date:"Week 2",revenue:9200,orders:115},{date:"Week 3",revenue:8800,orders:110},{date:"Week 4",revenue:9500,orders:120}],l=[{date:"Jan",revenue:32e3,orders:400},{date:"Feb",revenue:35e3,orders:440},{date:"Mar",revenue:38e3,orders:480},{date:"Apr",revenue:36e3,orders:450},{date:"May",revenue:39e3,orders:490},{date:"Jun",revenue:42e3,orders:520}],c=(g,y)=>{const v=new Date(g),w=new Date(y),b=[];let x=new Date(v);for(;x<=w;){const A=Math.floor(Math.random()*2e3)+1e3,T=Math.floor(Math.random()*20)+10;b.push({date:x.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:A,orders:T}),x.setDate(x.getDate()+1)}return b},d=()=>{switch(t){case"daily":return a;case"weekly":return o;case"monthly":return l;case"custom":return n&&i?c(n,i):a;default:return a}},h=()=>d().reduce((g,y)=>g+y.revenue,0),f=()=>d().reduce((g,y)=>g+y.orders,0),m=()=>{e("custom")};return u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Revenue Reports"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>e("daily"),className:`px-4 py-2 rounded-md ${t==="daily"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Daily"}),u.jsx("button",{onClick:()=>e("weekly"),className:`px-4 py-2 rounded-md ${t==="weekly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Weekly"}),u.jsx("button",{onClick:()=>e("monthly"),className:`px-4 py-2 rounded-md ${t==="monthly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Monthly"}),u.jsx("button",{onClick:m,className:`px-4 py-2 rounded-md ${t==="custom"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Custom Range"})]})]}),t==="custom"&&u.jsxs("div",{className:"flex space-x-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),u.jsx("input",{type:"date",id:"startDate",value:n,onChange:g=>r(g.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),u.jsx("input",{type:"date",id:"endDate",value:i,onChange:g=>s(g.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(j4,{className:"h-5 w-5 text-blue-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Revenue"})]}),u.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:["",h().toLocaleString()]})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(IH,{className:"h-5 w-5 text-green-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Orders"})]}),u.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:f().toLocaleString()})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(R4,{className:"h-5 w-5 text-purple-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Average Order Value"})]}),u.jsxs("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:["",(h()/f()).toFixed(2)]})]})]}),u.jsx("div",{className:"h-[400px]",children:u.jsx(Ag,{width:"100%",height:"100%",children:u.jsxs(L8,{data:d(),children:[u.jsx(Fv,{strokeDasharray:"3 3"}),u.jsx(pl,{dataKey:"date"}),u.jsx(Ca,{yAxisId:"left",orientation:"left",stroke:"#3B82F6"}),u.jsx(Ca,{yAxisId:"right",orientation:"right",stroke:"#10B981"}),u.jsx(or,{}),u.jsx(Fo,{}),u.jsx(_s,{yAxisId:"left",dataKey:"revenue",name:"Revenue ()",fill:"#3B82F6",radius:[4,4,0,0]}),u.jsx(_s,{yAxisId:"right",dataKey:"orders",name:"Orders",fill:"#10B981",radius:[4,4,0,0]})]})})})]})},NCe=({orders:t,onStatusChange:e})=>{const[n,r]=j.useState("time"),[i,s]=j.useState("all"),a=new Date().toISOString().split("T")[0],c=[...t.filter(f=>f.timestamp.startsWith(a)).filter(f=>i==="all"?!0:f.status===i)].sort((f,m)=>n==="time"?new Date(m.timestamp).getTime()-new Date(f.timestamp).getTime():m.total-f.total),d=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=f=>{switch(f){case"pending":return u.jsx(zr,{className:"h-4 w-4"});case"processing":return u.jsx(Gh,{className:"h-4 w-4"});case"completed":return u.jsx(Lr,{className:"h-4 w-4"});default:return u.jsx(D4,{className:"h-4 w-4"})}};return u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Today's Orders"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs("select",{value:i,onChange:f=>s(f.target.value),className:"border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter orders by status",children:[u.jsx("option",{value:"all",children:"All Orders"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"processing",children:"Processing"}),u.jsx("option",{value:"completed",children:"Completed"})]}),u.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Sort orders by",children:[u.jsx("option",{value:"time",children:"Sort by Time"}),u.jsx("option",{value:"amount",children:"Sort by Amount"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(f=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",f.id]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.customerName}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.timestamp).toLocaleTimeString()}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",f.total.toFixed(2)]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(f.status)}`,children:[h(f.status),u.jsx("span",{className:"ml-1",children:f.status})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.jsxs("select",{value:f.status,onChange:m=>e(f.id,m.target.value),className:"border border-gray-300 rounded-md shadow-sm py-1 px-2 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":`Change status for order ${f.id}`,children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"processing",children:"Processing"}),u.jsx("option",{value:"completed",children:"Completed"})]})})]},f.id))})]})}),c.length===0&&u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-gray-500",children:"No orders found for today"})})]})},kCe=()=>{var Z,ne;const t=Zn(),[e,n]=j.useState([{id:"ORD-001",customerName:"John Doe",customerPhone:"+91 98765 43210",sellerPhone:"+91 87654 32109",items:[{id:"1",fileName:"document.pdf",copies:2,isColor:!0,pages:5}],total:25,status:"processing",timestamp:new Date().toISOString(),shopId:1,isPaid:!0,otpVerified:!1,otpGeneratedAt:new Date().toISOString()},{id:"ORD-002",customerName:"Jane Smith",customerPhone:"+91 91234 56789",sellerPhone:"+91 87654 32109",items:[{id:"2",fileName:"presentation.pdf",copies:1,isColor:!1,pages:10}],total:15,status:"pending",timestamp:new Date().toISOString(),shopId:1,isPaid:!1,otpVerified:!1}]),[r,i]=j.useState("all"),[s,a]=j.useState(!1),[o,l]=j.useState(!1),c=e.filter(G=>r==="all"?!0:G.status===r);j.useState({name:"QuickPrint Pro",address:"Gitam University, State",mobile:"9876543210",email:"",bankDetails:{accountNumber:"123456789012",bankName:"State Bank of India",ifscCode:"SBIN0001234"}});const[d,h]=j.useState(!1),[f,m]=j.useState(!1),[g,y]=j.useState({accountNumber:"",bankName:"",ifscCode:"",accountHolderName:"",branchName:"",accountType:"savings",mobileNumber:"",isVerified:!1}),[v,w]=j.useState("view"),[b,x]=j.useState(""),[A,T]=j.useState({shop:{name:"QuickPrint Pro",ownerName:"",address:"Gitam University, State",mobile:"9876543210",email:"",description:"",gstNumber:"",timezone:"Asia/Kolkata",perPageCostAdjustment:0,shopPictureUrl:""},notifications:{newOrders:!0,dailyReport:!0,paymentReceived:!0,orderStatusUpdates:!0,emailNotifications:!0,smsNotifications:!1},businessHours:{isShopOpen:!0,monday:{open:!0,start:"09:00",end:"18:00"},tuesday:{open:!0,start:"09:00",end:"18:00"},wednesday:{open:!0,start:"09:00",end:"18:00"},thursday:{open:!0,start:"09:00",end:"18:00"},friday:{open:!0,start:"09:00",end:"18:00"},saturday:{open:!0,start:"10:00",end:"15:00"},sunday:{open:!1,start:"09:00",end:"18:00"}},preferences:{autoAcceptOrders:!1,requireCustomerConfirmation:!0,allowPreOrders:!0,maxOrderSize:100,minOrderAmount:10,currency:"INR",timezone:"Asia/Kolkata",perPageCostAdjustment:0},security:{allowedIpRanges:[]}}),[P,E]=j.useState("shop"),[S,I]=j.useState(A),[k,O]=j.useState("Fetching location..."),C=async G=>{const W=Rt(We,"shopOwners",G),ce=await fr(W);if(ce.exists()){const me=ce.data();me.bankDetails?y(me.bankDetails):y({accountNumber:"",bankName:"",ifscCode:"",accountHolderName:"",branchName:"",accountType:"savings",mobileNumber:"",isVerified:!1}),me.settings&&(T(me.settings),console.log("Fetched seller settings:",me.settings))}else localStorage.removeItem("isSellerAuthenticated"),localStorage.removeItem("sellerId"),localStorage.removeItem("sellerBankDetails"),localStorage.removeItem("sellerSettings"),t("/seller/login",{replace:!0}),ee.error("Seller profile not found. Please log in again.")};j.useEffect(()=>{const G=localStorage.getItem("sellerSettings");G&&T(JSON.parse(G));const W=JZ(Je,ce=>{ce?C(ce.uid):(localStorage.removeItem("isSellerAuthenticated"),localStorage.removeItem("sellerId"),localStorage.removeItem("sellerBankDetails"),localStorage.removeItem("sellerSettings"),t("/seller/login",{replace:!0}),ee.error("You must be logged in to view the seller dashboard."))});return"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async ce=>{const me=ce.coords.latitude,$e=ce.coords.longitude;try{const V=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${me}&lon=${$e}`)).json()).address||{},M=V.city||V.town||V.village||V.hamlet||V.county||"Unknown location";O(M)}catch{O("Unknown location")}},ce=>{O("Location permission denied")}):O("Geolocation not supported"),()=>W()},[t]);const R=()=>!g.accountNumber||g.accountNumber.length<9?(x("Please enter a valid account number"),!1):g.bankName?!g.ifscCode||g.ifscCode.length!==11?(x("Please enter a valid IFSC code"),!1):g.accountHolderName?g.branchName?!g.mobileNumber||!/^\d{10}$/.test(g.mobileNumber)?(x("Please enter a valid 10-digit mobile number"),!1):(x(""),!0):(x("Please enter branch name"),!1):(x("Please enter account holder name"),!1):(x("Please enter bank name"),!1),F=async()=>{if(R()){const G=Je.currentUser;if(G)try{const W=Rt(We,"shopOwners",G.uid);await Vo(W,{bankDetails:g},{merge:!0}),localStorage.setItem("sellerBankDetails",JSON.stringify(g)),w("view"),ee.success("Bank details updated successfully!")}catch(W){console.error("Error saving bank details to Firebase:",W),x("Failed to save bank details. Please try again.")}else x("No authenticated user found. Please log in again.")}},B=(G,W)=>{n(e.map(ce=>ce.id===G?{...ce,status:W}:ce))},H=G=>{n(e.map(W=>W.id===G?{...W,otpVerified:!0,status:"completed"}:W)),ee.success("Order verified and completed successfully!")},Y=G=>{i(G.target.value)},L=()=>{localStorage.removeItem("isSellerAuthenticated"),localStorage.removeItem("sellerId"),localStorage.removeItem("sellerBankDetails"),localStorage.removeItem("sellerSettings"),t("/seller/login")},q=async()=>{const G=Je.currentUser;if(G){if(!S.shop.name.trim()){ee.error("Shop Name is required.");return}if(!S.shop.mobile||S.shop.mobile.length!==10){ee.error("Mobile Number must be 10 digits.");return}try{const W=Rt(We,"shopOwners",G.uid);console.log("Saving settings to Firebase:",S),await Vo(W,{settings:S},{merge:!0}),T(S),ee.success("Settings updated successfully!"),h(!1)}catch(W){console.error("Error saving settings to Firebase:",W),ee.error("Failed to save settings. Please try again.")}}else ee.error("No authenticated user found. Please log in again to save settings.")},X=(G,W,ce)=>{I(G==="isShopOpen"?me=>({...me,businessHours:{...me.businessHours,isShopOpen:ce}}):me=>({...me,businessHours:{...me.businessHours,[G]:{...me.businessHours[G],[W]:ce}}}))},te=()=>{const G=["Order ID","Customer Name","Items","Total Amount","Status","Date","Payment Status"],W=e.map(de=>[de.id,de.customerName,de.items.map(V=>`${V.fileName} (${V.copies} copies)`).join(", "),`${de.total.toFixed(2)}`,de.status,new Date(de.timestamp).toLocaleString(),de.isPaid?"Paid":"Unpaid"]),ce=[G.join(","),...W.map(de=>de.join(","))].join(`
`),me=new Blob([ce],{type:"text/csv;charset=utf-8;"}),$e=document.createElement("a"),se=URL.createObjectURL(me);$e.setAttribute("href",se),$e.setAttribute("download",`orders_export_${new Date().toISOString().split("T")[0]}.csv`),$e.style.visibility="hidden",document.body.appendChild($e),$e.click(),document.body.removeChild($e)};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx(ki,{className:"h-7 w-7 sm:h-8 sm:w-8 text-blue-600"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Print Shop Dashboard"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:A.shop.name}),u.jsxs("span",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[u.jsx(jn,{className:"h-4 w-4 mr-1 text-gray-400"}),k]})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[u.jsxs("button",{className:"relative p-1 sm:p-2 text-gray-400 hover:text-gray-500",title:"Notifications","aria-label":"View notifications",children:[u.jsx(ey,{className:"h-5 w-5 sm:h-6 sm:w-6"}),u.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]}),u.jsx("button",{className:"p-1 sm:p-2 text-gray-400 hover:text-gray-500",title:"Settings","aria-label":"Open settings",onClick:()=>{I(JSON.parse(JSON.stringify(A))),h(!0)},children:u.jsx(B1,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),u.jsxs("button",{onClick:L,className:"flex items-center space-x-1 sm:space-x-2 px-2 py-1 sm:px-4 sm:py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[u.jsx(uE,{className:"h-4 w-4 sm:h-5 sm:w-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[u.jsxs("div",{className:"mb-6 sm:mb-8 grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[u.jsxs("button",{onClick:()=>{w("view"),m(!0)},className:"flex items-center justify-center space-x-2 p-3 sm:p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[u.jsx(cE,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"}),u.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Bank Account"})]}),u.jsxs("button",{onClick:()=>l(!o),className:"flex items-center justify-center space-x-2 p-3 sm:p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[u.jsx(B1,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"}),u.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Today Orders"})]}),u.jsxs("button",{onClick:()=>a(!s),className:"flex items-center justify-center space-x-2 p-3 sm:p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[u.jsx(k4,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"}),u.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"View Reports"})]})]}),o&&u.jsx("div",{className:"mb-8",children:u.jsx(NCe,{orders:e,onStatusChange:B})}),s&&u.jsx("div",{className:"mb-8",children:u.jsx(ICe,{})}),u.jsx(soe,{orders:e}),u.jsxs("div",{className:"mt-6 sm:mt-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 sm:mb-6 space-y-2 sm:space-y-0",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Recent Orders"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("select",{value:r,onChange:Y,className:"border border-gray-300 rounded-md shadow-sm py-1.5 px-2 bg-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter orders by status",title:"Filter orders",children:[u.jsx("option",{value:"all",children:"All Orders"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"processing",children:"Processing"}),u.jsx("option",{value:"completed",children:"Completed"})]}),u.jsx("button",{onClick:te,className:"bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md hover:bg-blue-700 transition-colors text-xs sm:text-sm",title:"Export orders to CSV","aria-label":"Export orders to CSV",children:"Export"})]})]}),u.jsx(ioe,{orders:c,onStatusChange:B,onOTPVerificationComplete:H})]})]}),d&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg w-full max-w-full sm:max-w-4xl max-h-[95vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Settings"}),u.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 p-1","aria-label":"Close settings",children:u.jsx(vr,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),u.jsxs("div",{className:"flex flex-wrap space-x-2 sm:space-x-4 mb-4 sm:mb-6 border-b",children:[u.jsxs("button",{onClick:()=>E("shop"),className:`pb-2 px-2 sm:px-4 text-sm sm:text-base ${P==="shop"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(jH,{className:"h-5 w-5 inline-block mr-2"}),"Shop Details"]}),u.jsxs("button",{onClick:()=>E("notifications"),className:`pb-2 px-2 sm:px-4 text-sm sm:text-base ${P==="notifications"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(Fd,{className:"h-5 w-5 inline-block mr-2"}),"Notifications"]}),u.jsxs("button",{onClick:()=>E("hours"),className:`pb-2 px-2 sm:px-4 text-sm sm:text-base ${P==="hours"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(zr,{className:"h-5 w-5 inline-block mr-2"}),"Business Hours"]}),u.jsxs("button",{onClick:()=>E("preferences"),className:`pb-2 px-2 sm:px-4 text-sm sm:text-base ${P==="preferences"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(Rr,{className:"h-5 w-5 inline-block mr-2"}),"Preferences"]}),u.jsxs("button",{onClick:()=>E("security"),className:`pb-2 px-2 sm:px-4 text-sm sm:text-base ${P==="security"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(Rr,{className:"h-5 w-5 inline-block mr-2"}),"Security"]})]}),P==="shop"&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Shop Name"}),u.jsx("input",{type:"text",value:S.shop.name,onChange:G=>I(W=>({...W,shop:{...W.shop,name:G.target.value}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",placeholder:"Enter shop name","aria-label":"Shop name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"GST Number"}),u.jsx("input",{type:"text",value:S.shop.gstNumber,onChange:G=>I(W=>({...W,shop:{...W.shop,gstNumber:G.target.value}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",placeholder:"Enter GST number","aria-label":"GST number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Mobile Number"}),u.jsx("input",{type:"tel",value:S.shop.mobile,onChange:G=>{const W=G.target.value.replace(/\D/g,"").slice(0,10);I(ce=>({...ce,shop:{...ce.shop,mobile:W}}))},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",placeholder:"Enter 10-digit mobile number","aria-label":"Shop mobile number",maxLength:10,pattern:"[0-9]{10}",title:"Please enter a valid 10-digit mobile number",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Shop Owner Name"}),u.jsx("input",{type:"text",value:S.shop.ownerName,onChange:G=>I(W=>({...W,shop:{...W.shop,ownerName:G.target.value}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",placeholder:"Enter shop owner's name","aria-label":"Shop owner name"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{value:S.shop.description,onChange:G=>I(W=>({...W,shop:{...W.shop,description:G.target.value}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",rows:3,placeholder:"Enter shop description","aria-label":"Shop description"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Shop Picture URL"}),u.jsx("input",{type:"url",value:S.shop.shopPictureUrl,onChange:G=>I(W=>({...W,shop:{...W.shop,shopPictureUrl:G.target.value}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",placeholder:"https://example.com/shop-image.jpg","aria-label":"Shop picture URL"}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter a URL to an image of your shop. This will be displayed to customers."})]})]}),P==="notifications"&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"checkbox",id:"newOrders",checked:S.notifications.newOrders,onChange:G=>I(W=>({...W,notifications:{...W.notifications,newOrders:G.target.checked}})),className:"h-4 w-4 text-blue-600"}),u.jsx("label",{htmlFor:"newOrders",className:"text-xs sm:text-sm font-medium text-gray-700",children:"New Order Notifications"})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"checkbox",id:"dailyReport",checked:S.notifications.dailyReport,onChange:G=>I(W=>({...W,notifications:{...W.notifications,dailyReport:G.target.checked}})),className:"h-4 w-4 text-blue-600"}),u.jsx("label",{htmlFor:"dailyReport",className:"text-xs sm:text-sm font-medium text-gray-700",children:"Daily Sales Report"})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"checkbox",id:"paymentReceived",checked:S.notifications.paymentReceived,onChange:G=>I(W=>({...W,notifications:{...W.notifications,paymentReceived:G.target.checked}})),className:"h-4 w-4 text-blue-600"}),u.jsx("label",{htmlFor:"paymentReceived",className:"text-xs sm:text-sm font-medium text-gray-700",children:"Payment Received Notifications"})]})]}),u.jsxs("div",{className:"border-t pt-3 sm:pt-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Notification Channels"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"checkbox",id:"emailNotifications",checked:S.notifications.emailNotifications,onChange:G=>I(W=>({...W,notifications:{...W.notifications,emailNotifications:G.target.checked}})),className:"h-4 w-4 text-blue-600"}),u.jsx("label",{htmlFor:"emailNotifications",className:"text-xs sm:text-sm font-medium text-gray-700",children:"Email Notifications"})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"checkbox",id:"smsNotifications",checked:S.notifications.smsNotifications,onChange:G=>I(W=>({...W,notifications:{...W.notifications,smsNotifications:G.target.checked}})),className:"h-4 w-4 text-blue-600"}),u.jsx("label",{htmlFor:"smsNotifications",className:"text-xs sm:text-sm font-medium text-gray-700",children:"SMS Notifications"})]})]})]})]}),P==="hours"&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg mb-4 sm:mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Shop Status"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:S.businessHours.isShopOpen?"Currently Open":"Currently Closed"})]}),u.jsx("div",{className:"flex items-center mt-2 sm:mt-0",children:u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:S.businessHours.isShopOpen,onChange:G=>I(W=>({...W,businessHours:{...W.businessHours,isShopOpen:G.target.checked}})),className:"sr-only peer","aria-label":"Toggle shop open status"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})})]}),u.jsxs("div",{className:"border-t pt-3 sm:pt-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Business Hours"}),Object.entries(S.businessHours).map(([G,W])=>{if(G==="isShopOpen")return null;const ce=W;return u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 mb-3 sm:mb-4",children:[u.jsx("div",{className:"w-20 sm:w-32",children:u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 capitalize",children:G})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:ce.open,onChange:me=>X(G,"open",me.target.checked),disabled:!S.businessHours.isShopOpen,className:"h-4 w-4 text-blue-600 disabled:opacity-50","aria-label":`${G} open`}),u.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"Open"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"time",value:ce.start,onChange:me=>X(G,"start",me.target.value),disabled:!ce.open||!S.businessHours.isShopOpen,className:"border border-gray-300 rounded-md shadow-sm px-2 py-1.5 text-sm disabled:bg-gray-100","aria-label":`${G} start time`}),u.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"to"}),u.jsx("input",{type:"time",value:ce.end,onChange:me=>X(G,"end",me.target.value),disabled:!ce.open||!S.businessHours.isShopOpen,className:"border border-gray-300 rounded-md shadow-sm px-2 py-1.5 text-sm disabled:bg-gray-100","aria-label":`${G} end time`})]})]},G)})]})]}),P==="preferences"&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"checkbox",id:"autoAcceptOrders",checked:S.preferences.autoAcceptOrders,onChange:G=>I(W=>({...W,preferences:{...W.preferences,autoAcceptOrders:G.target.checked}})),className:"h-4 w-4 text-blue-600"}),u.jsx("label",{htmlFor:"autoAcceptOrders",className:"text-xs sm:text-sm font-medium text-gray-700",children:"Auto-accept Orders"})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("input",{type:"checkbox",id:"requireCustomerConfirmation",checked:S.preferences.requireCustomerConfirmation,onChange:G=>I(W=>({...W,preferences:{...W.preferences,requireCustomerConfirmation:G.target.checked}})),className:"h-4 w-4 text-blue-600"}),u.jsx("label",{htmlFor:"requireCustomerConfirmation",className:"text-xs sm:text-sm font-medium text-gray-700",children:"Require Customer Confirmation"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Maximum Order Size"}),u.jsx("input",{type:"number",value:S.preferences.maxOrderSize,onChange:G=>I(W=>({...W,preferences:{...W.preferences,maxOrderSize:Number(G.target.value)}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm","aria-label":"Maximum order size"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Minimum Order Amount ()"}),u.jsx("input",{type:"number",value:S.preferences.minOrderAmount,onChange:G=>I(W=>({...W,preferences:{...W.preferences,minOrderAmount:Number(G.target.value)}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm","aria-label":"Minimum order amount"})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Per Page Cost Adjustment ()"}),u.jsx("input",{type:"number",step:"0.01",value:S.preferences.perPageCostAdjustment,onChange:G=>I(W=>({...W,preferences:{...W.preferences,perPageCostAdjustment:Number(G.target.value)}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",placeholder:"e.g., 0.50","aria-label":"Per page cost adjustment"})]})}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Currency"}),u.jsxs("select",{value:S.preferences.currency,onChange:G=>I(W=>({...W,preferences:{...W.preferences,currency:G.target.value}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm","aria-label":"Currency",children:[u.jsx("option",{value:"INR",children:"Indian Rupee ()"}),u.jsx("option",{value:"USD",children:"US Dollar ($)"}),u.jsx("option",{value:"EUR",children:"Euro ()"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Timezone"}),u.jsxs("select",{value:S.preferences.timezone,onChange:G=>I(W=>({...W,preferences:{...W.preferences,timezone:G.target.value}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm","aria-label":"Timezone",children:[u.jsx("option",{value:"Asia/Kolkata",children:"India (IST)"}),u.jsx("option",{value:"UTC",children:"UTC"}),u.jsx("option",{value:"America/New_York",children:"Eastern Time"})]})]})]})]}),P==="security"&&u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Allowed IP ranges (CIDR, comma separated)"}),u.jsx("input",{type:"text",value:((ne=(Z=S.security)==null?void 0:Z.allowedIpRanges)==null?void 0:ne.join(", "))||"",onChange:G=>I(W=>({...W,security:{...W.security,allowedIpRanges:G.target.value.split(",").map(ce=>ce.trim()).filter(Boolean)}})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm",placeholder:"203.0.113.0/24, 198.51.100.12/32","aria-label":"Allowed IP ranges",title:"Allowed IP ranges"}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Only requests coming from these IPs will be allowed for seller APIs (if enforced server-side)."})]})}),u.jsxs("div",{className:"flex justify-end space-x-2 sm:space-x-4 mt-4 sm:mt-6",children:[u.jsx("button",{onClick:()=>h(!1),className:"bg-gray-300 text-gray-700 px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-sm",children:"Cancel"}),u.jsx("button",{onClick:q,className:"bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-sm",children:"Save Changes"})]})]})}),f&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-lg w-full max-w-full sm:max-w-lg max-h-[95vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:"Bank Account Details"}),v==="view"&&u.jsx("button",{onClick:()=>w("edit"),className:"text-blue-600 hover:text-blue-800 text-sm px-2 py-1","aria-label":"Edit bank details",children:"Edit"})]}),b&&u.jsx("div",{className:"mb-3 sm:mb-4 p-2 bg-red-50 text-red-600 rounded-md text-sm",children:b}),u.jsxs("form",{children:[u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Account Holder Name"}),u.jsx("input",{type:"text",value:g.accountHolderName,onChange:G=>y({...g,accountHolderName:G.target.value}),disabled:v==="view",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm disabled:bg-gray-100",placeholder:"Enter account holder name","aria-label":"Account holder name"})]}),u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Mobile Number"}),u.jsx("input",{type:"tel",value:g.mobileNumber,onChange:G=>{const W=G.target.value.replace(/\D/g,"").slice(0,10);y({...g,mobileNumber:W})},disabled:v==="view",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm disabled:bg-gray-100",placeholder:"Enter 10-digit mobile number","aria-label":"Mobile number",maxLength:10,pattern:"[0-9]{10}"})]}),u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Account Number"}),u.jsx("input",{type:"text",value:g.accountNumber,onChange:G=>y({...g,accountNumber:G.target.value}),disabled:v==="view",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm disabled:bg-gray-100",placeholder:"Enter account number","aria-label":"Bank account number"})]}),u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Bank Name"}),u.jsx("input",{type:"text",value:g.bankName,onChange:G=>y({...g,bankName:G.target.value}),disabled:v==="view",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm disabled:bg-gray-100",placeholder:"Enter bank name","aria-label":"Bank name"})]}),u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Branch Name"}),u.jsx("input",{type:"text",value:g.branchName,onChange:G=>y({...g,branchName:G.target.value}),disabled:v==="view",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm disabled:bg-gray-100",placeholder:"Enter branch name","aria-label":"Branch name"})]}),u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"IFSC Code"}),u.jsx("input",{type:"text",value:g.ifscCode,onChange:G=>y({...g,ifscCode:G.target.value.toUpperCase()}),disabled:v==="view",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm disabled:bg-gray-100",placeholder:"Enter IFSC code","aria-label":"IFSC code"})]}),u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Account Type"}),u.jsxs("select",{value:g.accountType,onChange:G=>y({...g,accountType:G.target.value}),disabled:v==="view",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-1.5 sm:py-2 text-sm disabled:bg-gray-100","aria-label":"Account type",children:[u.jsx("option",{value:"savings",children:"Savings Account"}),u.jsx("option",{value:"current",children:"Current Account"})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-2 sm:space-x-4 mt-4 sm:mt-6",children:[u.jsx("button",{onClick:()=>{m(!1),w("view"),x("")},className:"bg-gray-300 text-gray-700 px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-sm",children:v==="view"?"Close":"Cancel"}),v==="edit"&&u.jsx("button",{onClick:F,className:"bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-sm",children:"Save"})]})]})})]})},OCe=()=>{const t=Zn(),[e,n]=j.useState(!0),[r,i]=j.useState(""),[s,a]=j.useState(""),[o,l]=j.useState(""),[c,d]=j.useState(!1),[h,f]=j.useState(!1),[m,g]=j.useState(!1),[y,v]=j.useState(""),[w,b]=j.useState(0),[x,A]=j.useState(null),[T,P]=j.useState(!1),[E,S]=j.useState("");j.useEffect(()=>{const C=localStorage.getItem("rememberedEmail"),R=localStorage.getItem("rememberedName");C&&(i(C),f(!0)),R&&l(R)},[]);const I=async C=>{if(C.preventDefault(),!r||!s){ee.error("Please enter both email and password.");return}if(w>=3&&x){const R=new Date().getTime()-x.getTime();if(R<3e5){const F=Math.ceil((3e5-R)/6e4);ee.error(`Too many attempts. Please try again in ${F} minutes.`);return}b(0)}g(!0),v("Authenticating...");try{if(e){const F=(await wA(Je,r,s)).user;if(!F.emailVerified){v("Sending verification email..."),await Yb(F),ee.error("Please verify your email address before logging in. A new verification email has been sent."),g(!1),v("");return}v("Loading profile..."),localStorage.setItem("isAuthenticated","true");const B=Rt(We,"users",F.uid),[H]=await Promise.all([fr(B),Vo(B,{lastLogin:new Date().toISOString()},{merge:!0})]);if(H.exists()){const Y=H.data(),L={userProfile:JSON.stringify(Y),userName:Y.name,userEmail:Y.email};Object.entries(L).forEach(([q,X])=>{sessionStorage.setItem(q,X)}),h?localStorage.setItem("rememberedEmail",r):localStorage.removeItem("rememberedEmail"),ee.success(" Welcome back! Login successful!"),t("/customerdashboard",{replace:!0})}else ee.error("User profile not found. Please try again."),g(!1)}else{if(!o.trim()){ee.error("Please enter your name.");return}const F=(await H6(Je,r,s)).user;localStorage.setItem("isAuthenticated","true");const B={name:o,email:r,mobile:"",address:"",city:"",state:"",pincode:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Vo(Rt(We,"users",F.uid),{...B,role:"customer",lastLogin:new Date().toISOString(),isActive:!0}),sessionStorage.setItem("userProfile",JSON.stringify(B)),sessionStorage.setItem("userName",o),sessionStorage.setItem("userEmail",r),await Yb(F),ee.success(" Verification email sent! Please check your inbox and verify your email address before logging in."),h&&(localStorage.setItem("rememberedEmail",r),localStorage.setItem("rememberedName",o)),ee.success(" Account created successfully! Please verify your email to log in."),g(!1);return}}catch(R){console.error("Authentication error:",R);let F="Authentication failed. Please try again.";R.code==="auth/user-not-found"?F="No account found with this email.":R.code==="auth/wrong-password"?F="Incorrect password.":R.code==="auth/email-already-in-use"?F="An account already exists with this email.":R.code==="auth/invalid-email"?F="Please enter a valid email address.":R.code==="auth/weak-password"&&(F="Password should be at least 6 characters long."),ee.error(F),b(B=>B+1),A(new Date),g(!1)}},k=async()=>{try{g(!0),v("Connecting to Google...");const R=(await vee(Je,A5)).user;if(!R.emailVerified){v("Sending verification email..."),await Yb(R),ee.error("Please verify your email address before logging in. A new verification email has been sent."),g(!1),v("");return}v("Loading profile...");const F=Rt(We,"users",R.uid),B=await fr(F);let H;if(B.exists()){const L=B.data();H={name:R.displayName||L.name||"",email:R.email||"",mobile:L.mobile||"",address:L.address||"",city:L.city||"",state:L.state||"",pincode:L.pincode||"",createdAt:L.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}}else H={name:R.displayName||"",email:R.email||"",mobile:"",address:"",city:"",state:"",pincode:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};const Y={userName:H.name,userEmail:H.email,userProfile:JSON.stringify(H)};await Promise.all([Vo(F,{...H,role:"customer",lastLogin:new Date().toISOString(),isActive:!0},{merge:!0}),Promise.resolve(localStorage.setItem("isAuthenticated","true")),...Object.entries(Y).map(([L,q])=>Promise.resolve(sessionStorage.setItem(L,q)))]),ee.success(" Welcome! Google login successful!"),t("/customerdashboard",{replace:!0})}catch(C){console.error("Google login error:",C);let R="Google login failed. Please try again.";C.code==="auth/popup-closed-by-user"?R="Login cancelled. Please try again.":C.code==="auth/popup-blocked"?R="Popup was blocked. Please allow popups for this site.":C.code==="auth/network-request-failed"&&(R="Network error. Please check your internet connection."),ee.error(R)}finally{g(!1)}},O=async C=>{if(C.preventDefault(),!E){ee.error("Please enter your email address.");return}g(!0);try{await YZ(Je,E),ee.success("Password reset email sent! Please check your inbox."),P(!1),S("")}catch(R){console.error("Password reset error:",R);let F="Failed to send reset email. Please try again.";R.code==="auth/user-not-found"?F="No account found with this email address.":R.code==="auth/invalid-email"?F="Please enter a valid email address.":R.code==="auth/too-many-requests"&&(F="Too many attempts. Please try again later."),ee.error(F)}finally{g(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-8 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md bg-white p-8 rounded-2xl shadow-xl transform transition-all duration-300 hover:scale-[1.01]",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(ki,{className:"h-14 w-14 text-blue-600 animate-pulse-slow"})}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight",children:"QuickXerox"})}),u.jsx("p",{className:"text-center text-base sm:text-lg text-gray-600 mb-8",children:e?"Welcome back! Please sign in.":"Join us! Create your account."}),u.jsxs("form",{className:"space-y-6",onSubmit:I,children:[!e&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsxs("div",{className:"mt-1 relative rounded-lg shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(dE,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"name",type:"text",required:!0,value:o,onChange:C=>l(C.target.value),className:"pl-10 block w-full px-3 py-2 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors duration-200",placeholder:"John Doe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsxs("div",{className:"mt-1 relative rounded-lg shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Vr,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:C=>i(C.target.value),className:"pl-10 block w-full px-3 py-2 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors duration-200",placeholder:"you@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsxs("div",{className:"mt-1 relative rounded-lg shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",type:c?"text":"password",required:!0,value:s,onChange:C=>a(C.target.value),className:"pl-10 block w-full px-3 py-2 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors duration-200",placeholder:""}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200",children:c?u.jsx(ku,{className:"h-5 w-5"}):u.jsx(Go,{className:"h-5 w-5"})})]}),e&&u.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",type:"checkbox",checked:h,onChange:C=>f(C.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors duration-200"}),u.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),u.jsx("button",{type:"button",onClick:()=>P(!0),className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200",children:"Forgot password?"})]})]}),u.jsx("div",{children:u.jsxs("button",{type:"submit",disabled:m,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200 transform hover:-translate-y-0.5",children:[m?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y||(e?"Signing in...":"Creating account...")]}):e?"Sign in":"Create account",!m&&u.jsx(N4,{className:"ml-2 h-5 w-5"})]})})]}),u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-3 bg-white text-gray-500 font-medium",children:"Or continue with"})})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:k,disabled:m,type:"button",className:"w-full flex items-center justify-center gap-2 py-3 px-4 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-100 shadow-sm transition-colors duration-200 disabled:opacity-60 disabled:cursor-not-allowed transform hover:-translate-y-0.5",children:m?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-6 w-6 text-gray-600",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{className:"text-base font-medium",children:y||"Connecting..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),u.jsx("span",{className:"text-base font-medium",children:"Continue with Google"})]})})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>{n(!e),a("")},disabled:m,type:"button",className:"text-blue-600 hover:text-blue-700 text-base font-medium transition-colors duration-200 disabled:opacity-60 disabled:cursor-not-allowed",children:e?"Create new account":"Sign in with existing account"})})]}),T&&u.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center p-4 z-50 animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-xl p-6 sm:p-8 max-w-md w-full shadow-2xl transform scale-95 animate-scale-in",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-5 text-center",children:"Reset Password"}),u.jsxs("form",{onSubmit:O,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),u.jsxs("div",{className:"mt-1 relative rounded-lg shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Vr,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"reset-email",type:"email",required:!0,value:E,onChange:C=>S(C.target.value),className:"pl-10 block w-full px-3 py-2 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors duration-200",placeholder:"you@example.com"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{P(!1),S("")},className:"px-4 py-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:m,className:"px-4 py-3 text-base font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-60 disabled:cursor-not-allowed transition-colors duration-200",children:m?u.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Send Reset Link"})]})]})]})})]})},jCe=()=>{const t=Zn(),[e,n]=j.useState(""),[r,i]=j.useState(""),[s,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(0),[h,f]=j.useState(null),[m,g]=j.useState(!1);j.useEffect(()=>{const w=localStorage.getItem("sellerRememberedEmail");w&&(n(w),g(!0))},[]);const y=async w=>{if(w.preventDefault(),c>=3&&h){const b=new Date().getTime()-h.getTime();if(b<3e5){const x=Math.ceil((3e5-b)/6e4);ee.error(`Too many attempts. Please try again in ${x} minutes.`);return}d(0)}l(!0);try{const x=(await wA(Je,e,r)).user;if((await fr(Rt(We,"shopOwners",x.uid))).exists())localStorage.setItem("isSellerAuthenticated","true"),localStorage.setItem("sellerId",x.uid),m?localStorage.setItem("sellerRememberedEmail",e):localStorage.removeItem("sellerRememberedEmail"),ee.success(" Welcome back! Seller login successful!"),t("/seller/dashboard");else throw await Je.signOut(),new Error("Not authorized as a shop owner")}catch(b){console.error(b),ee.error(b.message||"Invalid email or password"),d(x=>x+1),f(new Date)}finally{l(!1)}},v=()=>{a(!s)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex flex-col justify-center py-8 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"})]}),u.jsx("div",{className:"relative z-10 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-white/20 transform transition-all duration-300 hover:scale-[1.02]",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(ki,{className:"h-14 w-14 text-blue-600 animate-pulse-slow"})}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"QuickXerox Partner"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Sign in to your print shop dashboard"}),u.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-2 text-sm text-gray-500",children:[u.jsx(vk,{className:"h-4 w-4"}),u.jsx("span",{children:"Business Partner Portal"})]})]}),u.jsxs("form",{className:"space-y-6",onSubmit:y,autoComplete:"on",method:"post",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email address"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(Vr,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:w=>n(w.target.value),className:"pl-12 w-full px-4 py-3 text-base border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"shop@example.com",disabled:o,autoComplete:"username"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:r,onChange:w=>i(w.target.value),className:"pl-12 w-full px-4 py-3 text-base border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"",disabled:o,autoComplete:"current-password"}),u.jsx("button",{type:"button",onClick:v,className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200",title:s?"Hide password":"Show password",disabled:o,children:s?u.jsx(ku,{className:"h-5 w-5"}):u.jsx(Go,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:m,onChange:w=>g(w.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors duration-200",disabled:o}),u.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-sm text-gray-700 font-medium",children:"Remember me"})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Rr,{className:"h-4 w-4 mr-1"}),u.jsx("span",{children:"Secure login"})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center items-center py-3 px-6 border border-transparent rounded-xl shadow-lg text-base font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 transform hover:-translate-y-0.5",children:o?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):u.jsxs(u.Fragment,{children:["Sign in",u.jsx(N4,{className:"ml-2 h-5 w-5"})]})})})]}),u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-white/80 text-gray-500 font-medium",children:"Want to become a partner?"})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("a",{href:"mailto:workwithquickxerox@gmail.com",className:"inline-flex items-center px-6 py-3 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white/50 backdrop-blur-sm hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[u.jsx(vk,{className:"h-4 w-4 mr-2"}),"Contact our partnership team"]})})]})]})})]})},CCe=({profile:t,onEdit:e})=>(console.log("AccountDetails received profile:",t),console.log("AccountDetails profile keys:",Object.keys(t||{})),u.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Account Details"}),u.jsx("button",{onClick:e,className:"px-3 py-1 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium text-blue-600 hover:text-blue-700",children:"Edit Profile"})]}),u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(dE,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name||"Not provided"})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(F1,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Mobile"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.mobile||"Not provided"})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Vr,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.email||"Not provided"})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(jn,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),u.jsx("div",{className:"font-medium text-gray-900",children:t.address||t.city||t.state||t.pincode?u.jsxs(u.Fragment,{children:[t.address&&u.jsx("p",{children:t.address}),(t.city||t.state||t.pincode)&&u.jsx("p",{className:"text-sm text-gray-600",children:[t.city,t.state,t.pincode].filter(Boolean).join(", ")})]}):u.jsx("p",{className:"text-gray-500",children:"Not provided"})})]})]})]})]})),RCe=({orders:t})=>{const[e,n]=j.useState({}),r=o=>{n(l=>({...l,[o]:!l[o]}))},i=o=>localStorage.getItem(`otp_${o}`)||"",s=o=>{navigator.clipboard.writeText(o),ee.success("OTP copied to clipboard!")},a=o=>{const l={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return l[o]||l.pending};return u.jsxs("div",{className:"bg-white rounded-lg shadow",children:[u.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Order History"})}),u.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?u.jsx("div",{className:"p-4 sm:p-6 text-center text-gray-500",children:"No orders yet"}):t.map(o=>u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx(ki,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Order #",o.id]}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:new Date(o.timestamp).toLocaleDateString()})]})]}),u.jsx("span",{className:`px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium ${a(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),u.jsx("div",{className:"space-y-2 sm:space-y-3",children:o.items.map(l=>u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx(ny,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:l.fileName}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[l.copies," ",l.copies===1?"copy":"copies"," ",l.isColor?" Color":" B&W"," ",l.pages," pages"]})]})]},l.id))}),u.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(zr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:[o.status==="completed"?"Completed":"Expected"," in 15-20 mins"]})]}),u.jsxs("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["",o.total.toFixed(2)]})]}),o.status==="processing"&&o.isPaid&&i(o.id)&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Rr,{className:"h-4 w-4 text-blue-600"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Your Verification Code"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>r(o.id),className:"text-blue-600 hover:text-blue-800 transition-colors",title:e[o.id]?"Hide OTP":"Show OTP",children:e[o.id]?u.jsx(ku,{className:"h-4 w-4"}):u.jsx(Go,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>s(i(o.id)),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Copy OTP",children:u.jsx(O4,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"flex justify-center space-x-2 mb-3",children:i(o.id).split("").map((l,c)=>u.jsx("div",{className:"w-10 h-10 border-2 border-blue-300 bg-white rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-bold text-blue-600",children:e[o.id]?l:""})},c))}),u.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Show this code to the seller when collecting your prints"})]})]},o.id))})]})},DCe=({isOpen:t,onClose:e,title:n,children:r})=>(j.useEffect(()=>{const i=s=>{s.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[t,e]),t?u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),u.jsx("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:u.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:n}),u.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:e,children:[u.jsx("span",{className:"sr-only",children:"Close"}),u.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})]}),u.jsx("div",{className:"mt-2",children:r})]})})]})}):null);class MCe{constructor(){this.cache=new Map,this.DEFAULT_TTL=5*60*1e3}set(e,n,r=this.DEFAULT_TTL){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r})}get(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}has(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),!1):!0:!1}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}size(){return this.cache.size}}const Hm=new MCe,$Ce={USER_PROFILE:"user_profile",USER_SETTINGS:"user_settings",SHOP_DATA:"shop_data"},V8=()=>{const[t,e]=j.useState(()=>{const d=Je.currentUser;console.log("useProfile init: currentUser?.phoneNumber",d==null?void 0:d.phoneNumber),console.log("useProfile init: sessionStorage.getItem('userPhone')",sessionStorage.getItem("userPhone")),console.log("useProfile init: currentUser",d);const h={name:(d==null?void 0:d.displayName)||sessionStorage.getItem("userName")||"",mobile:(d==null?void 0:d.phoneNumber)||sessionStorage.getItem("userPhone")||"",email:(d==null?void 0:d.email)||sessionStorage.getItem("userEmail")||"",address:"",city:"",state:"",pincode:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return console.log("useProfile initial profile:",h),h}),[n,r]=j.useState(!1),[i,s]=j.useState(null),[a,o]=j.useState(!1),l=j.useCallback(async d=>{var g,y,v,w,b;if(!d)return null;const h=`${$Ce.USER_PROFILE}_${d}`,f=Hm.get(h);if(f&&!n)return e(f),f;const m=sessionStorage.getItem("userProfile");if(m&&!n)try{const x=JSON.parse(m);return e(x),Hm.set(h,x),x}catch{}try{r(!0),s(null);const x=Rt(We,"users",d),A=await fr(x);if(A.exists()){const T=A.data(),P=((g=Je.currentUser)==null?void 0:g.email)||"",E={name:T.name||"",mobile:((y=Je.currentUser)==null?void 0:y.phoneNumber)||T.mobile||"",email:P||T.email||"",address:T.address||"",city:T.city||"",state:T.state||"",pincode:T.pincode||"",createdAt:T.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};e(E),Hm.set(h,E);const S={userProfile:JSON.stringify(E),userName:E.name,userPhone:E.mobile,userEmail:E.email};return Object.entries(S).forEach(([I,k])=>{sessionStorage.setItem(I,k)}),E}else{const T={name:((v=Je.currentUser)==null?void 0:v.displayName)||"",mobile:((w=Je.currentUser)==null?void 0:w.phoneNumber)||"",email:((b=Je.currentUser)==null?void 0:b.email)||"",address:"",city:"",state:"",pincode:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await Promise.all([Vo(x,T,{merge:!0}),Promise.resolve(Object.entries({userProfile:JSON.stringify(T),userName:T.name,userPhone:T.mobile,userEmail:T.email}).forEach(([P,E])=>sessionStorage.setItem(P,E)))]),Hm.set(h,T),e(T),T}}catch(x){console.error("Error fetching or creating profile:",x);const A=x instanceof Error?x.message:"Failed to fetch or create profile";return s(A),ee.error(A),null}finally{r(!1)}},[n]);return j.useEffect(()=>{const d=Je.onAuthStateChanged(h=>{h?(!a||!t.email||!t.mobile)&&(l(h.uid),o(!0)):(e({name:"",mobile:"",email:"",address:"",city:"",state:"",pincode:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),sessionStorage.removeItem("userProfile"),sessionStorage.removeItem("userName"),sessionStorage.removeItem("userPhone"),sessionStorage.removeItem("userEmail"),o(!0))});return()=>d()},[l,a,t.email,t.mobile]),{profile:t,isLoading:n,error:i,updateProfile:async d=>{try{r(!0),s(null);const h=Je.currentUser;if(!h)throw new Error("No authenticated user to update profile.");const f={...t,...d,mobile:d.mobile||t.mobile||"",email:d.email||t.email||"",updatedAt:new Date().toISOString()},m=Rt(We,"users",h.uid),g=Rt(We,"profiles",h.uid),y=GJ(We);y.set(m,{...f,role:"customer",lastLogin:new Date().toISOString(),isActive:!0,updatedAt:__()},{merge:!0}),y.set(g,{...f,updatedAt:__()},{merge:!0}),await y.commit();const[v,w]=await Promise.all([fr(m),fr(g)]),x={...(w.exists()?w.data():v.data())||f};return e(x),sessionStorage.setItem("userProfile",JSON.stringify(x)),sessionStorage.setItem("userName",x.name),sessionStorage.setItem("userPhone",x.mobile),sessionStorage.setItem("userEmail",x.email),console.log("Profile updated successfully:",f),ee.success("Profile updated successfully"),f}catch(h){console.error("Error updating profile:",h);const f=h instanceof Error?h.message:"Failed to update profile";throw s(f),ee.error(f),h}finally{r(!1)}},refreshProfile:async d=>{const h=Je.currentUser;h&&(d||h.uid)?await l(d||h.uid):(e({name:"",mobile:"",email:"",address:"",city:"",state:"",pincode:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),sessionStorage.removeItem("userProfile"),sessionStorage.removeItem("userName"),sessionStorage.removeItem("userPhone"),sessionStorage.removeItem("userEmail"))}}},no=({label:t,type:e="text",name:n,value:r,onChange:i,required:s=!1,error:a,disabled:o=!1,maxLength:l,placeholder:c,icon:d})=>u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:[t,s&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"relative",children:[d&&u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(d,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:e,name:n,id:n,value:r,onChange:i,required:s,disabled:o,maxLength:l,placeholder:c,className:`
            block w-full rounded-md shadow-sm
            ${d?"pl-10":"pl-3"}
            ${a?"border-red-300":"border-gray-300"}
            ${o?"bg-gray-100":"bg-white"}
            focus:ring-blue-500 focus:border-blue-500 sm:text-sm
          `})]}),a&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a})]}),LCe=({onClose:t})=>{const{profile:e,updateProfile:n,refreshProfile:r}=V8(),[i,s]=j.useState({name:"",email:"",address:"",city:"",state:"",pincode:"",mobile:""});j.useEffect(()=>{console.log("Profile updated in EditProfileForm:",e),console.log("Profile keys:",Object.keys(e||{})),console.log("Profile values:",e),s({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",address:(e==null?void 0:e.address)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",pincode:(e==null?void 0:e.pincode)||"",mobile:(e==null?void 0:e.mobile)||""})},[e]);const a=()=>{var f;const h={};return(f=i.name)!=null&&f.trim()||(h.name="Name is required"),(!i.mobile||!/^\d{10}$/.test(i.mobile))&&(h.mobile="Mobile number must be 10 digits"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(h.email="Invalid email format"),i.pincode&&!/^\d{6}$/.test(i.pincode)&&(h.pincode="Pincode must be 6 digits"),l(h),Object.keys(h).length===0},[o,l]=j.useState({}),c=async h=>{if(h.preventDefault(),!!a())try{const f={...i,mobile:i.mobile||e.mobile||"",createdAt:e.createdAt};console.log("Submitting profile update:",f),await n(f),await r(),t()}catch(f){console.error("Error updating profile:",f),ee.error("Failed to update profile")}},d=h=>{const{name:f,value:m}=h.target,g=f==="mobile"?m.replace(/[^0-9]/g,"").slice(0,10):m;s(y=>({...y,[f]:g})),o[f]&&l(y=>({...y,[f]:""}))};return u.jsxs("form",{onSubmit:c,className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2",children:[u.jsx(no,{label:"Name",type:"text",name:"name",value:i.name||"",onChange:d,required:!0,error:o.name,maxLength:50}),u.jsx(no,{label:"Mobile Number",type:"tel",name:"mobile",value:i.mobile||"",onChange:d,required:!0,error:o.mobile,maxLength:10,placeholder:"10-digit number"}),u.jsx(no,{label:"Email",type:"email",name:"email",value:i.email||"",onChange:d,error:o.email,maxLength:100}),u.jsx(no,{label:"Address",type:"text",name:"address",value:i.address||"",onChange:d,maxLength:200}),u.jsx(no,{label:"City",type:"text",name:"city",value:i.city||"",onChange:d,maxLength:50}),u.jsx(no,{label:"State",type:"text",name:"state",value:i.state||"",onChange:d,maxLength:50}),u.jsx(no,{label:"Pincode",type:"text",name:"pincode",value:i.pincode||"",onChange:d,error:o.pincode,maxLength:6})]}),u.jsxs("div",{className:"mt-4 flex justify-end space-x-2 sm:mt-6 sm:space-x-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Changes"})]})]})},VCe=({isOpen:t,onClose:e,profile:n,onSave:r})=>u.jsx(DCe,{isOpen:t,onClose:e,title:"Edit Profile",children:u.jsx(LCe,{onClose:e})}),FCe=()=>[{id:"ORD-001",customerName:"John Doe",customerPhone:"+91 98765 43210",sellerPhone:"+91 87654 32109",items:[{id:"item-1",fileName:"document.pdf",copies:2,isColor:!1,pages:5}],total:25,status:"processing",timestamp:new Date().toISOString(),shopId:1,isPaid:!0,otpVerified:!1,otpGeneratedAt:new Date().toISOString()},{id:"ORD-002",customerName:"Jane Smith",customerPhone:"+91 91234 56789",sellerPhone:"+91 87654 32109",items:[{id:"item-2",fileName:"presentation.pptx",copies:1,isColor:!0,pages:10}],total:50,status:"completed",timestamp:new Date(Date.now()-36e5).toISOString(),shopId:2,isPaid:!0,otpVerified:!0,otpGeneratedAt:new Date(Date.now()-36e5).toISOString()},{id:"ORD-003",customerName:"Mike Johnson",customerPhone:"+91 99887 76655",sellerPhone:"+91 87654 32109",items:[{id:"item-3",fileName:"report.docx",copies:3,isColor:!1,pages:8},{id:"item-4",fileName:"invoice.pdf",copies:1,isColor:!0,pages:2}],total:35,status:"pending",timestamp:new Date(Date.now()-18e5).toISOString(),shopId:1,isPaid:!1,otpVerified:!1}],BCe=()=>{const t=Zn(),{profile:e,updateProfile:n}=V8(),[r,i]=j.useState(!1);j.useEffect(()=>{if(!localStorage.getItem("isAuthenticated")){t("/login",{replace:!0});return}},[t]);const[s]=j.useState(FCe());j.useEffect(()=>{const l="7918";localStorage.setItem("otp_ORD-001",l),localStorage.setItem("otp_ORD-001_timestamp",Date.now().toString()),localStorage.setItem("otp_ORD-001_customer_phone","+91 98765 43210"),localStorage.setItem("otp_ORD-001_seller_phone","+91 87654 32109")},[]);const a=l=>{n(l),ee.success("Profile updated successfully!")},o=()=>{t("/customerdashboard",{replace:!0})};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:u.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[u.jsx("button",{onClick:o,className:"text-gray-600 hover:text-gray-900 p-1 sm:p-0 flex items-center justify-center",title:"Back to Dashboard","aria-label":"Back to Dashboard",children:u.jsx(c0,{className:"h-6 w-6"})}),u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"My Account"})]})})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsx(CCe,{profile:e,onEdit:()=>i(!0)})}),u.jsx("div",{className:"lg:col-span-2",children:u.jsx(RCe,{orders:s})})]})}),u.jsx(VCe,{isOpen:r,onClose:()=>i(!1),profile:e,onSave:a})]})},UCe=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(!1),[a,o]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const d=Je.currentUser;if(!d){ee.error("Please log in as an admin");return}const h=await fr(Rt(We,"admins",d.uid));o(h.exists()),h.exists()||ee.error("You do not have admin privileges")}catch(d){console.error("Error checking admin status:",d),ee.error("Error checking admin status")}})()},[]);const l=async c=>{if(c.preventDefault(),!a){ee.error("Only admins can send invitations");return}s(!0);try{const d=Je.currentUser;console.log("Current user:",d==null?void 0:d.uid),console.log("Current user email:",d==null?void 0:d.email);const h=await HJ(ns(We,"sellerInvitations"),{email:t,shopName:n,status:"pending",createdAt:__(),expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdBy:d==null?void 0:d.uid});console.log("Invitation created with ID:",h.id),ee.success(`Invitation sent to ${t}`),e(""),r("")}catch(d){console.error("Error sending invitation:",d),d.code==="permission-denied"?ee.error("Permission denied. Please make sure you are logged in as an admin."):ee.error(d.message||"Failed to send invitation")}finally{s(!1)}};return a?u.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Invite New Seller"}),u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),u.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Vr,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),className:"pl-10 block w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"seller@example.com",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"shopName",className:"block text-sm font-medium text-gray-700",children:"Shop Name"}),u.jsx("input",{type:"text",id:"shopName",value:n,onChange:c=>r(c.target.value),className:"mt-1 block w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter shop name",required:!0})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Sending...":u.jsxs(u.Fragment,{children:[u.jsx(LH,{className:"h-5 w-5 mr-2"}),"Send Invitation"]})})]})]}):u.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Access Denied"}),u.jsx("p",{className:"text-red-600",children:"You need to be logged in as an admin to access this page."})]})},zCe=()=>{const t=Zn(),[e]=TH(),n=e.get("id"),[r,i]=j.useState(""),[s,a]=j.useState(""),[o,l]=j.useState(""),[c,d]=j.useState(!1),[h,f]=j.useState(!1),[m,g]=j.useState(null);j.useEffect(()=>{(async()=>{if(!n){ee.error("Invalid invitation link"),t("/");return}try{const w=await fr(Rt(We,"sellerInvitations",n));if(!w.exists()){ee.error("Invitation not found"),t("/");return}const b=w.data();if(b.status!=="pending"){ee.error("This invitation has already been used"),t("/");return}if(b.expiresAt.toDate()<new Date){ee.error("This invitation has expired"),t("/");return}g(b),i(b.email)}catch(w){console.error("Error fetching invitation:",w),ee.error("Failed to load invitation"),t("/")}})()},[n,t]);const y=async v=>{if(v.preventDefault(),s!==o){ee.error("Passwords do not match");return}if(s.length<6){ee.error("Password must be at least 6 characters long");return}f(!0);try{const b=(await H6(Je,r,s)).user;await lj(Rt(We,"sellerInvitations",n),{status:"accepted",acceptedAt:new Date,userId:b.uid}),await lj(Rt(We,"shopOwners",b.uid),{email:r,shopName:m.shopName,createdAt:new Date,status:"active"}),ee.success("Account created successfully!"),t("/seller")}catch(w){console.error("Error creating account:",w),ee.error(w.message||"Failed to create account")}finally{f(!1)}};return m?u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Complete Your Registration"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Set up your account for ",m.shopName]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:u.jsxs("form",{className:"space-y-6",onSubmit:y,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Vr,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",type:"email",value:r,disabled:!0,className:"pl-10 block w-full border-gray-300 rounded-md bg-gray-50"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",type:c?"text":"password",value:s,onChange:v=>a(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c?u.jsx(ku,{className:"h-5 w-5 text-gray-400"}):u.jsx(Go,{className:"h-5 w-5 text-gray-400"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),u.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"confirmPassword",type:c?"text":"password",value:o,onChange:v=>l(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:h?"Creating Account...":"Create Account"})})]})})})]}):u.jsx("div",{children:"Loading..."})},WCe=()=>{const t=Zn(),[e,n]=j.useState(""),[r,i]=j.useState(""),[s,a]=j.useState(!1),[o,l]=j.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const f=(await wA(Je,e,r)).user;if((await fr(Rt(We,"admins",f.uid))).exists())localStorage.setItem("isAdminAuthenticated","true"),localStorage.setItem("adminId",f.uid),ee.success(" Welcome back! Admin login successful!"),t("/admin/dashboard");else throw await Je.signOut(),new Error("Not authorized as an admin")}catch(h){console.error(h),ee.error(h.message||"Invalid email or password")}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex flex-col justify-center py-8 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm py-8 px-6 shadow-xl rounded-2xl border border-white/20",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(ki,{className:"h-14 w-14 text-blue-600 animate-pulse-slow"})}),u.jsx("h2",{className:"mt-2 text-center text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:"QuickXerox"}),u.jsx("p",{className:"text-center text-base sm:text-lg text-gray-600 mb-8",children:"Admin Portal - Secure Access"}),u.jsxs("form",{className:"space-y-6",onSubmit:c,autoComplete:"on",method:"post",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(Vr,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:d=>n(d.target.value),className:"pl-12 pr-4 py-3 block w-full border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"admin@example.com",disabled:o,autoComplete:"username"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:u.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:r,onChange:d=>i(d.target.value),className:"pl-12 pr-12 py-3 block w-full border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm transition-all duration-200 bg-white/50 backdrop-blur-sm",placeholder:"",disabled:o,autoComplete:"current-password"}),u.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",title:s?"Hide password":"Show password",disabled:o,children:s?u.jsx(ku,{className:"h-5 w-5"}):u.jsx(Go,{className:"h-5 w-5"})})]})]}),u.jsx("div",{className:"pt-2",children:u.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-lg text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:o?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Signing in..."})]}):"Sign In to Admin Portal"})})]}),u.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:u.jsx("p",{className:"text-xs text-center text-gray-500",children:" Secure admin authentication required"})})]})})})},qCe=({onManageUsers:t,onManageShops:e,onViewOrders:n})=>{const[r,i]=j.useState(null),[s,a]=j.useState("30d"),[o,l]=j.useState(!0),[c,d]=j.useState([]),[h,f]=j.useState([]);j.useEffect(()=>{l(!0);const A=[];try{const T=ns(We,"users"),P=xg(T,O=>{const C=O.size,R=O.docs.filter(F=>{var B;return((B=F.data())==null?void 0:B.isActive)===!0}).length;i(F=>{var B;return{revenue:(F==null?void 0:F.revenue)||{daily:0,weekly:0,monthly:0,growth:0},orders:(F==null?void 0:F.orders)||{total:0,pending:0,completed:0,cancelled:0,growth:0},users:{total:C,active:R||C,new:0,growth:((B=F==null?void 0:F.users)==null?void 0:B.growth)??0},shops:(F==null?void 0:F.shops)||{total:0,active:0,pending:0,growth:0}}})});A.push(P);const E=ns(We,"shopOwners"),S=xg(E,O=>{const C=O.size,R=O.docs.filter(F=>{var B,H,Y;return((Y=(H=(B=F.data())==null?void 0:B.settings)==null?void 0:H.businessHours)==null?void 0:Y.isShopOpen)===!0}).length;i(F=>{var B;return{revenue:(F==null?void 0:F.revenue)||{daily:0,weekly:0,monthly:0,growth:0},orders:(F==null?void 0:F.orders)||{total:0,pending:0,completed:0,cancelled:0,growth:0},users:(F==null?void 0:F.users)||{total:0,active:0,new:0,growth:0},shops:{total:C,active:R||C,pending:Math.max(C-(R||0),0),growth:((B=F==null?void 0:F.shops)==null?void 0:B.growth)??0}}})});A.push(S);const I=ns(We,"orders"),k=xg(Ey(I,w_("timestamp","desc")),O=>{const C=O.docs.map(W=>({id:W.id,...W.data()})),R=C.length,F=C.filter(W=>(W.status||"").toLowerCase()==="pending").length,B=C.filter(W=>(W.status||"").toLowerCase()==="completed").length,H=C.filter(W=>(W.status||"").toLowerCase()==="cancelled").length,Y=new Date,L=s==="7d"?7:s==="30d"?30:90,q=new Date(Y.getTime()-L*24*60*60*1e3),X=C.filter(W=>{const ce=W.timestamp?new Date(W.timestamp):null;return ce&&ce>=q&&ce<=Y}),te=X.reduce((W,ce)=>W+(Number(ce.total)||Number(ce.amount)||0),0),Z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ne={};for(let W=6;W>=0;W--){const ce=new Date(Y.getTime()-W*24*60*60*1e3);ne[Z[ce.getDay()]]={revenue:0,orders:0}}X.forEach(W=>{const ce=W.timestamp?new Date(W.timestamp):null;if(!ce)return;const me=Z[ce.getDay()];ne[me]||(ne[me]={revenue:0,orders:0}),ne[me].revenue+=Number(W.total)||Number(W.amount)||0,ne[me].orders+=1});const G=Object.keys(ne).map(W=>({name:W,revenue:ne[W].revenue,orders:ne[W].orders}));d(G),f([{name:"Completed",value:B,color:"#10B981"},{name:"Pending",value:F,color:"#F59E0B"},{name:"Cancelled",value:H,color:"#EF4444"}]),i(W=>{var ce,me;return{revenue:{daily:0,weekly:0,monthly:te,growth:((ce=W==null?void 0:W.revenue)==null?void 0:ce.growth)??0},orders:{total:R,pending:F,completed:B,cancelled:H,growth:((me=W==null?void 0:W.orders)==null?void 0:me.growth)??0},users:(W==null?void 0:W.users)||{total:0,active:0,new:0,growth:0},shops:(W==null?void 0:W.shops)||{total:0,active:0,pending:0,growth:0}}})},O=>{console.warn("Orders snapshot failed or collection missing:",(O==null?void 0:O.message)||O),d([{name:"Mon",revenue:0,orders:0},{name:"Tue",revenue:0,orders:0},{name:"Wed",revenue:0,orders:0},{name:"Thu",revenue:0,orders:0},{name:"Fri",revenue:0,orders:0},{name:"Sat",revenue:0,orders:0},{name:"Sun",revenue:0,orders:0}]),f([{name:"Completed",value:0,color:"#10B981"},{name:"Pending",value:0,color:"#F59E0B"},{name:"Cancelled",value:0,color:"#EF4444"}])});A.push(k)}finally{l(!1)}return()=>A.forEach(T=>T())},[s]);const m=c.length?c:[{name:"Mon",revenue:0,orders:0},{name:"Tue",revenue:0,orders:0},{name:"Wed",revenue:0,orders:0},{name:"Thu",revenue:0,orders:0},{name:"Fri",revenue:0,orders:0},{name:"Sat",revenue:0,orders:0},{name:"Sun",revenue:0,orders:0}],g=h.length?h:[{name:"Completed",value:0,color:"#10B981"},{name:"Pending",value:0,color:"#F59E0B"},{name:"Cancelled",value:0,color:"#EF4444"}],y=[{name:"PrintPro Hub",orders:234,revenue:45e3},{name:"QuickPrint Center",orders:189,revenue:38e3},{name:"Digital Print Shop",orders:156,revenue:32e3},{name:"Express Print",orders:134,revenue:28e3},{name:"City Printers",orders:98,revenue:21e3}],v=({title:A,value:T,growth:P,icon:E,color:S})=>u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:A}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx(R4,{className:"h-4 w-4 text-green-500 mr-1"}),u.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["+",P,"%"]}),u.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last period"})]})]}),u.jsx("div",{className:`p-3 rounded-lg ${S}`,children:u.jsx(E,{className:"h-6 w-6 text-white"})})]})});if(o)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!r)return u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-gray-500",children:"Failed to load analytics data"})});const w=()=>r?s==="7d"?r.revenue.weekly:s==="30d"?r.revenue.monthly:Math.round(r.revenue.monthly*3):0,b=()=>r?s==="7d"?Math.round(r.orders.total*.25):s==="30d"?r.orders.total:Math.round(r.orders.total*3):0,x=()=>r?s==="7d"?Math.round(r.users.active*.6):s==="30d"?r.users.active:Math.round(r.users.active*1.2):0;return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-end",children:u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs("select",{value:s,onChange:A=>a(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",title:"Select time period","aria-label":"Select time period for analytics",children:[u.jsx("option",{value:"7d",children:"Last 7 days"}),u.jsx("option",{value:"30d",children:"Last 30 days"}),u.jsx("option",{value:"90d",children:"Last 90 days"})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(v,{title:"Total Revenue",value:`${w().toLocaleString()}`,growth:r.revenue.growth,icon:kH,color:"bg-green-500"}),u.jsx(v,{title:"Total Orders",value:b().toLocaleString(),growth:r.orders.growth,icon:U1,color:"bg-blue-500"}),u.jsx(v,{title:"Active Users",value:x().toLocaleString(),growth:r.users.growth,icon:Yh,color:"bg-purple-500"}),u.jsx(v,{title:"Print Shops",value:r.shops.total,growth:r.shops.growth,icon:jn,color:"bg-orange-500"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),u.jsx(Ag,{width:"100%",height:300,children:u.jsxs(ACe,{data:m,children:[u.jsx(Fv,{strokeDasharray:"3 3"}),u.jsx(pl,{dataKey:"name"}),u.jsx(Ca,{}),u.jsx(or,{formatter:A=>[`${A.toLocaleString()}`,"Revenue"]}),u.jsx(Dp,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status Distribution"}),u.jsx(Ag,{width:"100%",height:300,children:u.jsxs(PCe,{children:[u.jsx(Rs,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:g.map((A,T)=>u.jsx(xx,{fill:A.color},`cell-${T}`))}),u.jsx(or,{})]})}),u.jsx("div",{className:"flex justify-center space-x-6 mt-4",children:g.map(A=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:A.color}}),u.jsx("span",{className:"text-sm text-gray-600",children:A.name})]},A.name))})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Print Shops"}),u.jsx(Ag,{width:"100%",height:300,children:u.jsxs(L8,{data:y,children:[u.jsx(Fv,{strokeDasharray:"3 3"}),u.jsx(pl,{dataKey:"name"}),u.jsx(Ca,{}),u.jsx(or,{formatter:A=>[`${A.toLocaleString()}`,"Revenue"]}),u.jsx(_s,{dataKey:"revenue",fill:"#3B82F6"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("button",{onClick:t,className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Manage users",title:"Manage users",children:[u.jsx(Yh,{className:"h-6 w-6 text-blue-600"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-gray-900",children:"Manage Users"}),u.jsx("p",{className:"text-sm text-gray-600",children:"View and manage user accounts"})]})]}),u.jsxs("button",{onClick:e,className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Manage shops",title:"Manage shops",children:[u.jsx(jn,{className:"h-6 w-6 text-green-600"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-gray-900",children:"Manage Shops"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Approve and manage print shops"})]})]}),u.jsxs("button",{onClick:n,className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"View orders",title:"View orders",children:[u.jsx(U1,{className:"h-6 w-6 text-purple-600"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-gray-900",children:"View Orders"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Monitor all orders and status"})]})]})]})]})]})},HCe=()=>{var ne,G,W,ce,me,$e,se,de;const t=Zn(),[e,n]=j.useState(null),[r,i]=j.useState(!0),[s,a]=j.useState(null),[o,l]=j.useState([]),[c,d]=j.useState(!1),[h,f]=j.useState(()=>localStorage.getItem("theme")||"light"),[m,g]=j.useState(!1),[y,v]=j.useState({branding:{appName:"QuickXerox"},auth:{requireEmailVerification:!0,sessionTimeoutMinutes:30,idleLogoutMinutes:15,rememberMeDays:14,passwordPolicy:{minLength:8,requireNumber:!0,requireUppercase:!1,requireLowercase:!0,requireSpecialChar:!1},twoFactor:{enabled:!1},allowedAdminIpRanges:[]},payments:{defaultGateway:"cashfree",platformFeePercent:5},notifications:{emailOnOrderCreated:!0,emailOnOrderCompleted:!0,smsOnOrderCreated:!1,pushOnOrderCompleted:!1},analytics:{defaultRange:"30d"},pwa:{enable:!0},roles:{admin:{allowExport:!0,allowImpersonate:!1},seller:{allowExport:!0},viewer:{allowExport:!1}},shopsOrders:{autoApproveShops:!1,unpaidAutoCancelMins:30,otpExpiryMins:10,maxFilesPerOrder:10,maxPagesPerFile:200},dataCompliance:{ordersRetentionDays:365,logsRetentionDays:90,piiMasking:!0},webhooks:{enabled:!1,endpointUrl:"",signingSecret:""},featureFlags:{aiAnalyzerEnabled:!0,biometricEnabled:!1,newCheckoutEnabled:!0}}),[w,b]=j.useState(!1),[x,A]=j.useState(null),[T,P]=j.useState(!1),E=(V,M)=>{var ye,je,He,gt,ln,zn,Tr,cn,Jt;return{branding:{...V.branding,...M.branding||{}},auth:{...V.auth,...M.auth||{},passwordPolicy:{...V.auth.passwordPolicy,...((ye=M.auth)==null?void 0:ye.passwordPolicy)||{}},twoFactor:((je=M.auth)==null?void 0:je.twoFactor)??V.auth.twoFactor,allowedAdminIpRanges:((He=M.auth)==null?void 0:He.allowedAdminIpRanges)??V.auth.allowedAdminIpRanges},payments:{...V.payments,...M.payments||{}},notifications:{...V.notifications,...M.notifications||{}},analytics:{...V.analytics,...M.analytics||{}},pwa:{...V.pwa,...M.pwa||{}},roles:{admin:{...(gt=V.roles)==null?void 0:gt.admin,...(ln=M.roles)==null?void 0:ln.admin},seller:{...(zn=V.roles)==null?void 0:zn.seller,...(Tr=M.roles)==null?void 0:Tr.seller},viewer:{...(cn=V.roles)==null?void 0:cn.viewer,...(Jt=M.roles)==null?void 0:Jt.viewer}},shopsOrders:{...V.shopsOrders,...M.shopsOrders||{}},dataCompliance:{...V.dataCompliance,...M.dataCompliance||{}},webhooks:{...V.webhooks,...M.webhooks||{}},featureFlags:{...V.featureFlags,...M.featureFlags||{}}}},[S,I]=j.useState(!1),[k,O]=j.useState([]),[C,R]=j.useState(!1),[F,B]=j.useState(null),[H,Y]=j.useState("");j.useState(null),k.filter(V=>{const M=H.trim().toLowerCase();return M?[V.name??"",V.email??"",V.mobile??"",V.city??"",V.state??"",V.pincode??"",V.id].join(" ").toLowerCase().includes(M):!0});const[L,q]=j.useState(null),[X,te]=j.useState([]);j.useEffect(()=>{const V=document.documentElement;h==="dark"?V.classList.add("dark"):V.classList.remove("dark"),localStorage.setItem("theme",h)},[h]),j.useEffect(()=>{(async()=>{let M=!1;const we=1e4;try{await new Promise(He=>{const gt=Je.onAuthStateChanged(ln=>{gt(),He()})});const ye=Je.currentUser;if(!ye){t("/admin/login");return}const je=await fr(Rt(We,"admins",ye.uid));if(je.exists()&&je.data().role==="admin"){n({email:ye.email||"",role:je.data().role});const He=Ey(ns(We,"shopOwners"),w_("createdAt","desc"),zJ(5)),ln=(await mh(He)).docs.map(pi=>({id:pi.id,name:pi.data().name||"N/A",shopName:pi.data().shopName||"N/A"}));l(ln);const zn=new Promise((pi,Ds)=>setTimeout(()=>{M=!0,Ds(new Error("Dashboard loading timed out. Please try again."))},we)),Tr=async()=>({sellers:1,orders:2,revenue:75,pendingSellers:1}),cn=async()=>[{timestamp:"2025-09-17 10:00",adminEmail:"admin@quickxerox.com",action:"Approved Seller",details:"Seller: Alice"},{timestamp:"2025-09-17 11:00",adminEmail:"admin@quickxerox.com",action:"Exported Sellers",details:"CSV Download"}],Jt=await Promise.race([Promise.all([Tr(),cn()]),zn]);!M&&Array.isArray(Jt)&&(q(Jt[0]),te(Jt[1]))}else await Je.signOut(),t("/admin/login"),ee.error("Not authorized as an admin.")}catch(ye){const je=ye instanceof Error?ye.message:"Failed to load dashboard data.";a(je),ee.error("Failed to load dashboard data.")}finally{i(!1)}})()},[t]);const Z=async()=>{try{await Je.signOut(),localStorage.removeItem("isAdminAuthenticated"),localStorage.removeItem("adminId"),ee.success("Logged out successfully!"),t("/admin/login")}catch{ee.error("Failed to log out.")}};return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("p",{className:"text-lg text-gray-700",children:["Loading Admin Dashboard...",u.jsx("br",{}),u.jsx("span",{className:"text-sm text-gray-400",children:"If this takes too long, please check your network or reload."})]})}):s?u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[u.jsxs("p",{className:"text-lg text-red-600",children:["Error: ",s]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reload Dashboard"})]}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx(ki,{className:"h-7 w-7 sm:h-8 sm:w-8 text-blue-600"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Admin Dashboard"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Manage QuickPrint Pro"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>f(h==="dark"?"light":"dark"),className:"px-2 py-1 rounded-md border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Toggle dark mode",title:"Toggle dark/light",children:h==="dark"?u.jsx(BH,{className:"h-5 w-5"}):u.jsx(DH,{className:"h-5 w-5"})}),u.jsxs("button",{onClick:Z,className:"flex items-center space-x-1 sm:space-x-2 px-2 py-1 sm:px-4 sm:py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white",children:[u.jsx(uE,{className:"h-4 w-4 sm:h-5 sm:w-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 animate-page",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col items-start space-y-3",children:[u.jsx(Yh,{className:"h-6 w-6 sm:h-7 sm:w-7 text-purple-600"}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Manage Sellers"}),u.jsx("p",{className:"text-sm text-gray-500",children:"View, add, and manage print shop partners."}),u.jsxs("div",{className:"w-full space-y-2 mt-3",children:[u.jsx("button",{onClick:()=>t("/admin/sellers"),className:"w-full bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"View All Sellers"}),u.jsx("button",{onClick:()=>t("/admin/invite-seller"),className:"w-full bg-purple-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md hover:bg-purple-700 transition-colors text-sm",children:"Invite New Seller"})]}),o.length>0?u.jsxs("div",{className:"w-full mt-3 border-t pt-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Recent Sellers:"}),u.jsx("div",{className:"max-h-24 overflow-y-auto space-y-1 text-sm",children:o.map(V=>u.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[u.jsx("span",{children:V.name}),u.jsx("span",{className:"text-gray-500 text-xs",children:V.shopName})]},V.id))})]}):u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No recent sellers found."})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col items-start space-y-3",children:[u.jsx(VH,{className:"h-6 w-6 sm:h-7 sm:w-7 text-green-600"}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Review Orders"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Monitor customer orders across all shops."}),u.jsx("button",{onClick:()=>t("/admin/orders"),className:"mt-auto bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"View All Orders"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col items-start space-y-3",children:[u.jsx(B1,{className:"h-6 w-6 sm:h-7 sm:w-7 text-gray-600"}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"System Settings"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Configure global application settings."}),u.jsx("button",{onClick:async()=>{try{const V=await fr(Rt(We,"systemSettings","global"));if(V.exists()){const M=V.data();v(we=>E(we,M))}}catch(V){console.warn("Failed to load system settings",V)}finally{g(!0)}},className:"mt-auto bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Configure Settings"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col items-start space-y-3",children:[u.jsx(k4,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Analytics & Reports"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Access detailed performance reports."}),u.jsx("button",{onClick:()=>d(!0),className:"mt-auto bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"View Analytics"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col items-start space-y-3",children:[u.jsx(Yh,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-600"}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Customer Management"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Oversee all customer accounts."}),u.jsx("button",{onClick:async()=>{I(!0),R(!0),B(null);try{const V=ns(We,"users");let M;try{const ye=Ey(V,w_("createdAt","desc"));M=await mh(ye)}catch{M=await mh(V)}const we=M.docs.map(ye=>({id:ye.id,...ye.data()}));O(we)}catch(V){console.error("Failed to fetch customers",V),B((V==null?void 0:V.message)||"Failed to fetch customers"),ee.error("Failed to fetch customers")}finally{R(!1)}},className:"mt-auto bg-blue-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"View All Customers"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col items-start space-y-3",children:[u.jsx(Vr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-red-600"}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Email & Notifications"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Configure communication settings."}),u.jsx("button",{onClick:()=>ee("Email settings functionality coming soon!"),className:"mt-auto bg-gray-200 text-gray-700 px-3 py-1.5 sm:px-4 sm:py-2 rounded-md cursor-not-allowed text-sm",disabled:!0,children:"Manage Communications"})]})]}),u.jsxs("div",{className:"mt-10 mb-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dashboard Metrics"}),L?u.jsxs("div",{className:"flex gap-8 flex-wrap",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 text-center",children:[u.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Total Sellers"}),u.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(L==null?void 0:L.sellers)??0})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 text-center",children:[u.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Total Orders"}),u.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(L==null?void 0:L.orders)??0})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 text-center",children:[u.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Total Revenue"}),u.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["",(L==null?void 0:L.revenue)??0]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 text-center",children:[u.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Pending Sellers"}),u.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(L==null?void 0:L.pendingSellers)??0})]})]}):u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 text-center text-gray-500 dark:text-gray-400",children:"Loading metrics..."})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Audit Logs"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b dark:border-gray-700",children:[u.jsx("th",{className:"px-4 py-2 text-left text-gray-600 dark:text-gray-300",children:"Timestamp"}),u.jsx("th",{className:"px-4 py-2 text-left text-gray-600 dark:text-gray-300",children:"Admin"}),u.jsx("th",{className:"px-4 py-2 text-left text-gray-600 dark:text-gray-300",children:"Action"}),u.jsx("th",{className:"px-4 py-2 text-left text-gray-600 dark:text-gray-300",children:"Details"})]})}),u.jsx("tbody",{children:X&&X.length>0?X.map((V,M)=>u.jsxs("tr",{className:"border-t dark:border-gray-700",children:[u.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:V.timestamp}),u.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:V.adminEmail}),u.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:V.action}),u.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:V.details})]},M)):u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400",children:"No audit logs found."})})})]})})]})]}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),u.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Close analytics",title:"Close analytics",children:u.jsx(vr,{className:"h-6 w-6"})})]}),u.jsx(qCe,{onManageUsers:()=>I(!0),onManageShops:()=>t("/admin/sellers"),onViewOrders:()=>t("/admin/orders")})]})})}),m&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"System Settings"}),u.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Close system settings",title:"Close system settings",children:u.jsx(vr,{className:"h-6 w-6"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Branding"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"App Name"}),u.jsx("input",{type:"text",value:y.branding.appName,onChange:V=>v(M=>({...M,branding:{...M.branding,appName:V.target.value}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2",placeholder:"QuickXerox","aria-label":"Application name",title:"Application name"})]})})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Authentication & Security"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.auth.requireEmailVerification,onChange:V=>v(M=>({...M,auth:{...M.auth,requireEmailVerification:V.target.checked}}))}),"Require email verification"]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Session timeout (minutes)"}),u.jsx("input",{type:"number",min:5,value:y.auth.sessionTimeoutMinutes,onChange:V=>v(M=>({...M,auth:{...M.auth,sessionTimeoutMinutes:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Session timeout in minutes",title:"Session timeout in minutes"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Idle logout (minutes)"}),u.jsx("input",{type:"number",min:5,value:y.auth.idleLogoutMinutes,onChange:V=>v(M=>({...M,auth:{...M.auth,idleLogoutMinutes:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Idle logout minutes",title:"Idle logout minutes"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Remember me (days)"}),u.jsx("input",{type:"number",min:1,value:y.auth.rememberMeDays,onChange:V=>v(M=>({...M,auth:{...M.auth,rememberMeDays:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Remember me days",title:"Remember me days"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 mt-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Min length"}),u.jsx("input",{type:"number",min:6,value:y.auth.passwordPolicy.minLength,onChange:V=>v(M=>({...M,auth:{...M.auth,passwordPolicy:{...M.auth.passwordPolicy,minLength:Number(V.target.value)}}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Password min length",title:"Password min length"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:!!y.auth.passwordPolicy.requireNumber,onChange:V=>v(M=>({...M,auth:{...M.auth,passwordPolicy:{...M.auth.passwordPolicy,requireNumber:V.target.checked}}}))}),"Number"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:!!y.auth.passwordPolicy.requireUppercase,onChange:V=>v(M=>({...M,auth:{...M.auth,passwordPolicy:{...M.auth.passwordPolicy,requireUppercase:V.target.checked}}}))}),"Uppercase"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:!!y.auth.passwordPolicy.requireLowercase,onChange:V=>v(M=>({...M,auth:{...M.auth,passwordPolicy:{...M.auth.passwordPolicy,requireLowercase:V.target.checked}}}))}),"Lowercase"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:!!y.auth.passwordPolicy.requireSpecialChar,onChange:V=>v(M=>({...M,auth:{...M.auth,passwordPolicy:{...M.auth.passwordPolicy,requireSpecialChar:V.target.checked}}}))}),"Special char"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.auth.twoFactor.enabled,onChange:V=>v(M=>({...M,auth:{...M.auth,twoFactor:V.target.checked?{enabled:!0,enforceForAdmins:!0,enforceForSellers:!1}:{enabled:!1}}}))}),"2FA enabled"]}),y.auth.twoFactor.enabled&&u.jsxs(u.Fragment,{children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.auth.twoFactor.enforceForAdmins,onChange:V=>v(M=>({...M,auth:{...M.auth,twoFactor:{...M.auth.twoFactor,enabled:!0,enforceForAdmins:V.target.checked}}}))})," Enforce for admins"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.auth.twoFactor.enforceForSellers,onChange:V=>v(M=>({...M,auth:{...M.auth,twoFactor:{...M.auth.twoFactor,enabled:!0,enforceForSellers:V.target.checked}}}))})," Enforce for sellers"]})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Allowed admin IP ranges (exact IP or CIDR notation)"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Examples: 203.0.113.42 (exact IP) or 203.0.113.0/24 (range). Leave empty to allow all IPs."}),u.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:async()=>{P(!0);try{const V=await fetch("https://api64.ipify.org?format=json");if(!V.ok)throw new Error("Failed to fetch IP");const M=await V.json();A(M.ip),ee.success(`Your public IP: ${M.ip}`)}catch{try{const M=await fetch("https://api.ipify.org?format=json");if(!M.ok)throw new Error("Failed to fetch IP");const we=await M.json();A(we.ip),ee.success(`Your public IP: ${we.ip}`)}catch{ee.error("Failed to fetch your IP")}}finally{P(!1)}},disabled:T,className:"text-xs bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-3 py-1 rounded hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:T?"Fetching...":"Show My Public IP"}),x&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs font-mono bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:x}),u.jsx("button",{type:"button",onClick:()=>{const V=y.auth.allowedAdminIpRanges||[];V.includes(x)?ee("IP already in the list"):(v(M=>({...M,auth:{...M.auth,allowedAdminIpRanges:[...V,x]}})),ee.success("IP added to allowed list"))},className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Add This IP"})]})]}),u.jsx("input",{type:"text",value:(y.auth.allowedAdminIpRanges||[]).join(", "),onChange:V=>{const M=V.target.value.split(",").map(we=>we.trim()).filter(we=>we.length>0);v(we=>({...we,auth:{...we.auth,allowedAdminIpRanges:M}}))},className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2",placeholder:"203.0.113.42, 203.0.113.0/24","aria-label":"Allowed admin IP ranges",title:"Allowed admin IP ranges"}),y.auth.allowedAdminIpRanges&&y.auth.allowedAdminIpRanges.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:y.auth.allowedAdminIpRanges.map((V,M)=>u.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded flex items-center gap-1",children:[V,u.jsx("button",{type:"button",onClick:()=>v(we=>({...we,auth:{...we.auth,allowedAdminIpRanges:we.auth.allowedAdminIpRanges.filter((ye,je)=>je!==M)}})),className:"text-blue-600 dark:text-blue-300 hover:font-bold",children:""})]},M))})]})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Payments"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Default Gateway"}),u.jsxs("select",{value:y.payments.defaultGateway,onChange:V=>v(M=>({...M,payments:{...M.payments,defaultGateway:V.target.value}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Default payment gateway",title:"Default payment gateway",children:[u.jsx("option",{value:"cashfree",children:"Cashfree"}),u.jsx("option",{value:"razorpay",children:"Razorpay"}),u.jsx("option",{value:"none",children:"None"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Platform Fee (%)"}),u.jsx("input",{type:"number",min:0,max:100,value:y.payments.platformFeePercent,onChange:V=>v(M=>({...M,payments:{...M.payments,platformFeePercent:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Platform fee percentage",title:"Platform fee percentage"})]})]})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Notifications"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.notifications.emailOnOrderCreated,onChange:V=>v(M=>({...M,notifications:{...M.notifications,emailOnOrderCreated:V.target.checked}}))}),"Email on order created"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.notifications.emailOnOrderCompleted,onChange:V=>v(M=>({...M,notifications:{...M.notifications,emailOnOrderCompleted:V.target.checked}}))}),"Email on order completed"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.notifications.smsOnOrderCreated,onChange:V=>v(M=>({...M,notifications:{...M.notifications,smsOnOrderCreated:V.target.checked}}))}),"SMS on order created"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.notifications.pushOnOrderCompleted,onChange:V=>v(M=>({...M,notifications:{...M.notifications,pushOnOrderCompleted:V.target.checked}}))}),"Push on order completed"]})]})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Analytics"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Default Range"}),u.jsxs("select",{value:y.analytics.defaultRange,onChange:V=>v(M=>({...M,analytics:{...M.analytics,defaultRange:V.target.value}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Default analytics range",title:"Default analytics range",children:[u.jsx("option",{value:"7d",children:"Last 7 days"}),u.jsx("option",{value:"30d",children:"Last 30 days"}),u.jsx("option",{value:"90d",children:"Last 90 days"})]})]})})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"PWA Settings"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.pwa.enable,onChange:V=>v(M=>({...M,pwa:{...M.pwa,enable:V.target.checked}}))}),"Enable PWA features"]})})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Roles & Permissions"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Admin role permissions"}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:(G=(ne=y.roles)==null?void 0:ne.admin)==null?void 0:G.allowExport,onChange:V=>v(M=>({...M,roles:{...M.roles,admin:{...M.roles.admin,allowExport:V.target.checked}}}))}),"Allow export data"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:(ce=(W=y.roles)==null?void 0:W.admin)==null?void 0:ce.allowImpersonate,onChange:V=>v(M=>({...M,roles:{...M.roles,admin:{...M.roles.admin,allowImpersonate:V.target.checked}}}))}),"Allow impersonate users"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Seller role permissions"}),u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:($e=(me=y.roles)==null?void 0:me.seller)==null?void 0:$e.allowExport,onChange:V=>v(M=>({...M,roles:{...M.roles,seller:{...M.roles.seller,allowExport:V.target.checked}}}))}),"Allow export data"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Viewer role permissions"}),u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:(de=(se=y.roles)==null?void 0:se.viewer)==null?void 0:de.allowExport,onChange:V=>v(M=>({...M,roles:{...M.roles,viewer:{...M.roles.viewer,allowExport:V.target.checked}}}))}),"Allow export data"]})})]})]})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Shops & Orders"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.shopsOrders.autoApproveShops,onChange:V=>v(M=>({...M,shopsOrders:{...M.shopsOrders,autoApproveShops:V.target.checked}}))}),"Auto-approve new shops"]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Unpaid order auto-cancel (mins)"}),u.jsx("input",{type:"number",min:1,value:y.shopsOrders.unpaidAutoCancelMins,onChange:V=>v(M=>({...M,shopsOrders:{...M.shopsOrders,unpaidAutoCancelMins:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Unpaid order auto-cancel time in minutes",title:"Unpaid order auto-cancel time in minutes"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"OTP expiry (mins)"}),u.jsx("input",{type:"number",min:1,value:y.shopsOrders.otpExpiryMins,onChange:V=>v(M=>({...M,shopsOrders:{...M.shopsOrders,otpExpiryMins:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"OTP expiry time in minutes",title:"OTP expiry time in minutes"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Max files per order"}),u.jsx("input",{type:"number",min:1,value:y.shopsOrders.maxFilesPerOrder,onChange:V=>v(M=>({...M,shopsOrders:{...M.shopsOrders,maxFilesPerOrder:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Maximum files allowed per order",title:"Maximum files allowed per order"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Max pages per file"}),u.jsx("input",{type:"number",min:1,value:y.shopsOrders.maxPagesPerFile,onChange:V=>v(M=>({...M,shopsOrders:{...M.shopsOrders,maxPagesPerFile:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Maximum pages allowed per file",title:"Maximum pages allowed per file"})]})]})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Data & Compliance"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Orders retention (days)"}),u.jsx("input",{type:"number",min:1,value:y.dataCompliance.ordersRetentionDays,onChange:V=>v(M=>({...M,dataCompliance:{...M.dataCompliance,ordersRetentionDays:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Orders retention period in days",title:"Orders retention period in days"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Logs retention (days)"}),u.jsx("input",{type:"number",min:1,value:y.dataCompliance.logsRetentionDays,onChange:V=>v(M=>({...M,dataCompliance:{...M.dataCompliance,logsRetentionDays:Number(V.target.value)}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2","aria-label":"Logs retention period in days",title:"Logs retention period in days"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.dataCompliance.piiMasking,onChange:V=>v(M=>({...M,dataCompliance:{...M.dataCompliance,piiMasking:V.target.checked}}))}),"Enable PII masking"]})]})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Webhooks"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.webhooks.enabled,onChange:V=>v(M=>({...M,webhooks:{...M.webhooks,enabled:V.target.checked}}))}),"Enable webhooks"]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Endpoint URL"}),u.jsx("input",{type:"text",value:y.webhooks.endpointUrl,onChange:V=>v(M=>({...M,webhooks:{...M.webhooks,endpointUrl:V.target.value}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2",placeholder:"https://example.com/webhook","aria-label":"Webhook endpoint URL",title:"Webhook endpoint URL"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Signing Secret"}),u.jsx("input",{type:"text",value:y.webhooks.signingSecret,onChange:V=>v(M=>({...M,webhooks:{...M.webhooks,signingSecret:V.target.value}})),className:"w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-md px-3 py-2",placeholder:"your-signing-secret","aria-label":"Webhook signing secret",title:"Webhook signing secret"})]})]})]}),u.jsxs("section",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Feature Flags"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.featureFlags.aiAnalyzerEnabled,onChange:V=>v(M=>({...M,featureFlags:{...M.featureFlags,aiAnalyzerEnabled:V.target.checked}}))}),"AI Analyzer"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.featureFlags.biometricEnabled,onChange:V=>v(M=>({...M,featureFlags:{...M.featureFlags,biometricEnabled:V.target.checked}}))}),"Biometric login"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:y.featureFlags.newCheckoutEnabled,onChange:V=>v(M=>({...M,featureFlags:{...M.featureFlags,newCheckoutEnabled:V.target.checked}}))}),"New checkout flow"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[u.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:async()=>{b(!0);try{await Vo(Rt(We,"systemSettings","global"),y,{merge:!0}),ee.success("Settings saved successfully!"),g(!1)}catch(V){console.error("Error saving settings",V),ee.error("Failed to save settings")}finally{b(!1)}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",disabled:w,children:[w&&u.jsx("span",{className:"animate-spin",children:""}),"Save Settings"]})]})]})]})})})]})},KCe=()=>{const t=Zn(),[e,n]=j.useState([]),[r,i]=j.useState(!0),[s,a]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState("");return j.useEffect(()=>{(async()=>{try{const f=ns(We,"orders"),g=(await mh(f)).docs.map(y=>{var v;return{id:y.id,userId:y.data().userId||"N/A",totalAmount:y.data().totalAmount||0,status:y.data().status||"Unknown",createdAt:((v=y.data().createdAt)==null?void 0:v.toDate().toLocaleString())||new Date().toLocaleString()}});n(g)}catch(f){console.error("Error fetching orders:",f),a(f.message||"Failed to fetch orders."),ee.error("Failed to load orders.")}finally{i(!1)}})()},[]),r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx("p",{className:"text-lg text-gray-700",children:"Loading Orders..."})}):s?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("p",{className:"text-lg text-red-600",children:["Error: ",s]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 animate-page",children:[u.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4 flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>t("/admin/dashboard"),className:"flex items-center space-x-2 text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white",children:[u.jsx(c0,{className:"h-5 w-5"}),u.jsx("span",{className:"text-lg font-medium",children:"Back to Dashboard"})]}),u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"All Orders"}),u.jsx("div",{})]})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[u.jsx("input",{type:"text",placeholder:"Search by Order ID, Customer ID, Status...",value:c,onChange:h=>d(h.target.value),className:"border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-lg px-4 py-2 w-full sm:w-64 transition-colors"}),u.jsx("button",{onClick:()=>{if(e.length===0)return ee.error("No orders to export!");const h=[["Order ID","Customer ID","Total Amount","Status","Order Date"].join(","),...e.map(y=>[y.id,y.userId,y.totalAmount,y.status,y.createdAt].join(","))].join(`
`),f=new Blob([h],{type:"text/csv"}),m=window.URL.createObjectURL(f),g=document.createElement("a");g.href=m,g.download="orders.csv",g.click(),window.URL.revokeObjectURL(m),ee.success("Orders exported!")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition-transform active:scale-[0.98]",children:"Export CSV"})]}),u.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-sm rounded-lg overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Order ID"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer ID"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Amount"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Order Date"}),u.jsx("th",{scope:"col",className:"relative px-6 py-3",children:u.jsx("span",{className:"sr-only",children:"Actions"})})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800",children:e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 text-center",children:"No orders found."})}):e.filter(h=>{const f=c.toLowerCase();return h.id.toLowerCase().includes(f)||h.userId.toLowerCase().includes(f)||h.status.toLowerCase().includes(f)}).map(h=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:h.id}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:h.userId}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:["",h.totalAmount.toFixed(2)]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h.status==="completed"?"bg-green-100 text-green-800":h.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.status})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:h.createdAt}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsx("button",{onClick:()=>l(h),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},h.id))})]})})}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg max-w-lg w-full p-6 shadow-2xl animate-page",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:"Order Details"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Order ID:"})," ",o.id]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Customer ID:"})," ",o.userId]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Total Amount:"})," ",o.totalAmount.toFixed(2)]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Status:"})," ",o.status]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Order Date:"})," ",o.createdAt]}),o.otp&&u.jsxs("div",{children:[u.jsx("strong",{children:"Customer OTP:"})," ",o.otp]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})})]})})]})]})},GCe=()=>{const t=Zn(),[e,n]=j.useState([]),[r,i]=j.useState(!0),[s,a]=j.useState(null),[o,l]=j.useState(""),[c,d]=j.useState("all"),[h,f]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const g=ns(We,"shopOwners"),y=Ey(g,UJ(DJ(),"!=","bEd6Hz5mX0Vm6lgLu5A7Ak2sEfX2")),w=(await mh(y)).docs.map(b=>{var A,T,P,E,S,I,k,O,C;const x=b.data();return{id:b.id,name:((T=(A=x.settings)==null?void 0:A.shop)==null?void 0:T.name)||x.name||"N/A",email:((E=(P=x.settings)==null?void 0:P.shop)==null?void 0:E.email)||x.email||"N/A",mobile:x.mobile||"",status:x.status||"pending",createdAt:((S=x.createdAt)==null?void 0:S.toDate().toLocaleString())||new Date().toLocaleString(),shopName:((k=(I=x.settings)==null?void 0:I.shop)==null?void 0:k.name)||"N/A",ownerName:((C=(O=x.settings)==null?void 0:O.shop)==null?void 0:C.ownerName)||"N/A",...x}});n(w)}catch(g){console.error("Error fetching sellers:",g),a(g.message||"Failed to fetch sellers."),ee.error("Failed to load sellers.")}finally{i(!1)}})()},[]),r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx("p",{className:"text-lg text-gray-700",children:"Loading Sellers..."})}):s?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("p",{className:"text-lg text-red-600",children:["Error: ",s]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4 flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>t("/admin/dashboard"),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",children:[u.jsx(c0,{className:"h-5 w-5"}),u.jsx("span",{className:"text-lg font-medium",children:"Back to Dashboard"})]}),u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Registered Sellers"}),u.jsx("div",{})]})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-4",children:[u.jsx("input",{type:"text",placeholder:"Search by Seller ID, Owner Name, Email, Shop Name...",value:o,onChange:m=>l(m.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full sm:w-64"}),u.jsxs("select",{value:c,onChange:m=>d(m.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full sm:w-48",children:[u.jsx("option",{value:"all",children:"All Statuses"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"rejected",children:"Rejected"})]}),u.jsx("button",{onClick:()=>{if(e.length===0)return ee.error("No sellers to export!");const m=Array.from(new Set(e.flatMap(A=>Object.keys(A)))),g=m.join(","),y=e.map(A=>m.map(T=>`"${String(A[T]??"").replace(/"/g,'""')}"`).join(",")),v=[g,...y].join(`
`),w=new Blob([v],{type:"text/csv"}),b=window.URL.createObjectURL(w),x=document.createElement("a");x.href=b,x.download="sellers.csv",x.click(),window.URL.revokeObjectURL(b),ee.success("Sellers exported!")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700",children:"Export CSV"})]}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller ID"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shop Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"relative px-6 py-3",children:u.jsx("span",{className:"sr-only",children:"Actions"})})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-4 text-sm text-gray-500 text-center",children:"No sellers found."})}):e.filter(m=>{var v,w;const g=o.toLowerCase();return(c==="all"||m.status===c)&&(m.id.toLowerCase().includes(g)||((v=m.ownerName)==null?void 0:v.toLowerCase().includes(g))||m.email.toLowerCase().includes(g)||((w=m.shopName)==null?void 0:w.toLowerCase().includes(g)))}).map(m=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m.id}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.ownerName||"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.email}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.shopName||"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m.status==="approved"?"bg-green-100 text-green-800":m.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:m.status})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsx("button",{onClick:()=>t(`/admin/sellers/${m.id}`),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},m.id))})]})})}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 shadow-2xl",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Seller"}),u.jsxs("form",{onSubmit:m=>{m.preventDefault(),f(null),ee.success("Seller details updated!")},className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Owner Name"}),u.jsx("input",{type:"text",value:h.ownerName,onChange:m=>f({...h,ownerName:m.target.value}),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Shop Name"}),u.jsx("input",{type:"text",value:h.shopName,onChange:m=>f({...h,shopName:m.target.value}),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>f(null),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]})]})})]})]})},YCe=()=>{var l,c;const{sellerId:t}=rH(),e=Zn(),[n,r]=j.useState(null),[i,s]=j.useState(!0),[a,o]=j.useState(null);return j.useEffect(()=>{(async()=>{var h,f,m,g,y,v,w,b,x,A,T,P,E,S,I;if(!t){o("Seller ID not provided."),s(!1);return}try{const k=Rt(We,"shopOwners",t),O=await fr(k);if(O.exists()){const C=O.data();r({id:O.id,name:((f=(h=C.settings)==null?void 0:h.shop)==null?void 0:f.name)||C.name||"N/A",email:((g=(m=C.settings)==null?void 0:m.shop)==null?void 0:g.email)||C.email||"N/A",mobile:C.mobile||((v=(y=C.settings)==null?void 0:y.shop)==null?void 0:v.mobile)||"N/A",status:C.status||"pending",createdAt:((w=C.createdAt)==null?void 0:w.toDate().toLocaleString())||"N/A",shopName:((x=(b=C.settings)==null?void 0:b.shop)==null?void 0:x.name)||"N/A",address:((T=(A=C.settings)==null?void 0:A.shop)==null?void 0:T.address)||C.address||"N/A",city:C.city||"N/A",state:C.state||"N/A",pincode:C.pincode||"N/A",gstNumber:((E=(P=C.settings)==null?void 0:P.shop)==null?void 0:E.gstNumber)||"N/A",description:((I=(S=C.settings)==null?void 0:S.shop)==null?void 0:I.description)||"N/A",bankDetails:C.bankDetails||{},settings:C.settings||{}})}else o("No such seller found."),ee.error("Seller not found.")}catch(k){console.error("Error fetching seller details:",k),o(k.message||"Failed to load seller details."),ee.error("Failed to load seller details.")}finally{s(!1)}})()},[t]),i?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx("p",{className:"text-lg text-gray-700",children:"Loading Seller Details..."})}):a?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("p",{className:"text-lg text-red-600",children:["Error: ",a]})}):n?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4 flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>e("/admin/sellers"),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",children:[u.jsx(c0,{className:"h-5 w-5"}),u.jsx("span",{className:"text-lg font-medium",children:"Back to Sellers"})]}),u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[n.shopName||n.name," Details"]}),u.jsx("div",{})," "]})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:u.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6 space-y-6",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"General Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Ne,{icon:u.jsx(ag,{className:"text-blue-500"}),label:"Shop Name",value:n.shopName}),u.jsx(Ne,{icon:u.jsx(Vr,{className:"text-blue-500"}),label:"Email",value:n.email}),u.jsx(Ne,{icon:u.jsx(F1,{className:"text-blue-500"}),label:"Mobile",value:n.mobile}),u.jsx(Ne,{icon:u.jsx(Yh,{className:"text-blue-500"}),label:"Contact Person",value:(c=(l=n.settings)==null?void 0:l.shop)==null?void 0:c.ownerName}),u.jsx(Ne,{icon:u.jsx(jn,{className:"text-blue-500"}),label:"Address",value:n.address}),u.jsx(Ne,{icon:u.jsx(jn,{className:"text-blue-500"}),label:"City",value:n.city}),u.jsx(Ne,{icon:u.jsx(jn,{className:"text-blue-500"}),label:"State",value:n.state}),u.jsx(Ne,{icon:u.jsx(jn,{className:"text-blue-500"}),label:"Pincode",value:n.pincode}),u.jsx(Ne,{icon:u.jsx(Rr,{className:"text-blue-500"}),label:"GST Number",value:n.gstNumber}),u.jsx(Ne,{label:"Description",value:n.description,fullWidth:!0}),u.jsx(Ne,{label:"Status",value:n.status}),u.jsx(Ne,{label:"Registered On",value:n.createdAt})]})]}),n.bankDetails&&u.jsxs("section",{className:"border-t pt-6 mt-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Bank Account Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Ne,{icon:u.jsx(ym,{className:"text-green-500"}),label:"Account Holder",value:n.bankDetails.accountHolderName}),u.jsx(Ne,{icon:u.jsx(Vr,{className:"text-green-500"}),label:"Bank Mobile",value:n.bankDetails.mobileNumber}),u.jsx(Ne,{icon:u.jsx(ym,{className:"text-green-500"}),label:"Account Number",value:n.bankDetails.accountNumber}),u.jsx(Ne,{icon:u.jsx(xk,{className:"text-green-500"}),label:"Bank Name",value:n.bankDetails.bankName}),u.jsx(Ne,{icon:u.jsx(xk,{className:"text-green-500"}),label:"Branch Name",value:n.bankDetails.branchName}),u.jsx(Ne,{icon:u.jsx(ym,{className:"text-green-500"}),label:"IFSC Code",value:n.bankDetails.ifscCode}),u.jsx(Ne,{label:"Account Type",value:n.bankDetails.accountType}),u.jsx(Ne,{label:"Verified",value:n.bankDetails.isVerified?"Yes":"No"})]})]}),n.settings&&u.jsxs("section",{className:"border-t pt-6 mt-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Settings Overview"}),n.settings.shop&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Shop Details (from Settings)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Ne,{icon:u.jsx(ag,{className:"text-purple-500"}),label:"Shop Name (Settings)",value:n.settings.shop.name}),u.jsx(Ne,{icon:u.jsx(Vr,{className:"text-purple-500"}),label:"Shop Email (Settings)",value:n.settings.shop.email}),u.jsx(Ne,{icon:u.jsx(F1,{className:"text-purple-500"}),label:"Shop Mobile (Settings)",value:n.settings.shop.mobile}),u.jsx(Ne,{icon:u.jsx(jn,{className:"text-purple-500"}),label:"Shop Address (Settings)",value:n.settings.shop.address}),u.jsx(Ne,{icon:u.jsx(Rr,{className:"text-purple-500"}),label:"GST Number (Settings)",value:n.settings.shop.gstNumber}),u.jsx(Ne,{icon:u.jsx(RH,{className:"text-purple-500"}),label:"Shop Picture URL (Settings)",value:n.settings.shop.shopPictureUrl}),u.jsx(Ne,{label:"Shop Description (Settings)",value:n.settings.shop.description,fullWidth:!0})]})]}),n.settings.notifications&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Notification Preferences"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Ne,{icon:u.jsx(Fd,{className:"text-orange-500"}),label:"New Orders",value:n.settings.notifications.newOrders?"Enabled":"Disabled"}),u.jsx(Ne,{icon:u.jsx(Fd,{className:"text-orange-500"}),label:"Daily Report",value:n.settings.notifications.dailyReport?"Enabled":"Disabled"}),u.jsx(Ne,{icon:u.jsx(Fd,{className:"text-orange-500"}),label:"Payment Received",value:n.settings.notifications.paymentReceived?"Enabled":"Disabled"}),u.jsx(Ne,{icon:u.jsx(Fd,{className:"text-orange-500"}),label:"Order Status Updates",value:n.settings.notifications.orderStatusUpdates?"Enabled":"Disabled"}),u.jsx(Ne,{label:"Email Notifications",value:n.settings.notifications.emailNotifications?"Enabled":"Disabled"}),u.jsx(Ne,{label:"SMS Notifications",value:n.settings.notifications.smsNotifications?"Enabled":"Disabled"})]})]}),n.settings.businessHours&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Business Hours"}),u.jsx(Ne,{label:"Shop Open Status",value:n.settings.businessHours.isShopOpen?"Open":"Closed"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:Object.entries(n.settings.businessHours).map(([d,h])=>{if(d==="isShopOpen")return null;const f=h;return u.jsx(Ne,{label:d.charAt(0).toUpperCase()+d.slice(1),value:f.open?`${f.start} - ${f.end}`:"Closed"},d)})})]}),n.settings.preferences&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Preferences"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Ne,{icon:u.jsx(Rr,{className:"text-gray-500"}),label:"Auto-accept Orders",value:n.settings.preferences.autoAcceptOrders?"Yes":"No"}),u.jsx(Ne,{icon:u.jsx(Rr,{className:"text-gray-500"}),label:"Require Customer Confirmation",value:n.settings.preferences.requireCustomerConfirmation?"Yes":"No"}),u.jsx(Ne,{icon:u.jsx(ag,{className:"text-gray-500"}),label:"Max Order Size",value:n.settings.preferences.maxOrderSize}),u.jsx(Ne,{icon:u.jsx(ym,{className:"text-gray-500"}),label:"Min Order Amount",value:`${n.settings.preferences.minOrderAmount}`}),u.jsx(Ne,{label:"Currency",value:n.settings.preferences.currency}),u.jsx(Ne,{label:"Timezone",value:n.settings.preferences.timezone})]})]})]})]})})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx("p",{className:"text-lg text-gray-700",children:"Seller not found or not loaded."})})},Ne=({icon:t,label:e,value:n,fullWidth:r=!1})=>((n==null||n==="")&&(n="N/A"),u.jsxs("div",{className:`flex items-start space-x-3 ${r?"md:col-span-2":""}`,children:[t&&u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:t}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-500",children:e}),u.jsx("p",{className:"text-sm text-gray-900 break-words",children:String(n)})]})]})),XCe=()=>{const[t,e]=j.useState("Detecting...");return j.useEffect(()=>{(async()=>{try{const r=await fetch("https://api64.ipify.org?format=json");if(!r.ok)throw new Error("Failed to fetch IP");const i=await r.json();e(i.ip||"Unable to detect")}catch{try{const r=await fetch("https://api.ipify.org?format=json");if(!r.ok)throw new Error("Failed to fetch IP");const i=await r.json();e(i.ip||"Unable to detect")}catch{e("Unable to detect")}}})()},[]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-10 max-w-md w-full text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx(Mc,{className:"h-16 w-16 text-red-500"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Your IP address is not authorized to access this area."}),u.jsxs("div",{className:"bg-gray-50 border-l-4 border-red-500 rounded p-4 mb-6 text-left",children:[u.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 font-semibold",children:"Your IP Address"}),u.jsx("div",{className:"font-mono text-xl font-bold text-gray-900 break-all",children:t})]}),u.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"This is an admin-only section. If you believe this is an error, please contact your administrator."}),u.jsx("a",{href:"/",className:"inline-block bg-indigo-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors",children:"Go to Home"}),u.jsx("div",{className:"mt-10 text-xs text-gray-400",children:u.jsx("p",{children:"QuickXerox Admin Panel"})})]})})},QCe=[{icon:u.jsx(Lr,{className:"w-7 h-7 text-blue-500 mb-2"}),title:"No Waiting",description:"Order online, pick up fast."},{icon:u.jsx(jn,{className:"w-7 h-7 text-blue-500 mb-2"}),title:"Nearby Pickup",description:"Find print shops close to you."},{icon:u.jsx(cE,{className:"w-7 h-7 text-blue-500 mb-2"}),title:"Multiple Payments",description:"Pay with cards, UPI, wallets, and more."},{icon:u.jsx(Rr,{className:"w-7 h-7 text-blue-500 mb-2"}),title:"Secure & Private",description:"Your files and payments are always safe."}],JCe=()=>{const t=Zn(),e=()=>{window.location.href="mailto:workwithquickxerox@email.com"},n=r=>{switch(r){case"shipping":alert("Shipping Policy: Orders are typically ready for pickup within 2-4 hours during business hours. Express service available for urgent orders.");break;case"terms":alert("Terms and Conditions: By using QuickXerox, you agree to our terms of service. Users must be 18+ to place orders. We reserve the right to refuse service.");break;case"cancellations":alert("Cancellations and Refunds: Orders can be cancelled within 30 minutes of placement. Refunds are processed within 3-5 business days to the original payment method.");break;case"privacy":alert("Privacy Policy: We collect only necessary information for order processing. Your files are automatically deleted after 24 hours. We never share your personal data with third parties.");break}};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-white to-blue-200 flex flex-col",children:[u.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-2 py-8 sm:px-4 sm:py-16",children:[u.jsxs("div",{className:"bg-white/80 rounded-xl p-4 sm:p-8 max-w-md w-full flex flex-col items-center shadow-sm",children:[u.jsx(ki,{className:"h-12 w-12 sm:h-14 sm:w-14 text-blue-600 animate-pulse-slow mb-3 sm:mb-4"}),u.jsx("span",{className:"text-blue-700 text-2xl sm:text-3xl font-extrabold mb-3 sm:mb-4 tracking-tight",children:"QuickXerox"}),u.jsx("h1",{className:"text-lg sm:text-2xl md:text-3xl font-bold text-gray-800 mb-1 sm:mb-2 text-center",children:"Get Your Prints, Fast and Easy. Anytime. Anywhere."}),u.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 mb-4 sm:mb-6 text-center",children:"Upload your files, choose print settings, and pick them up at a nearby shop."}),u.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 sm:px-8 sm:py-3 rounded-lg shadow transition duration-200 text-sm sm:text-base",onClick:()=>t("/login"),children:"Get Started"})]}),u.jsx("div",{className:"mt-8 sm:mt-12 grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 w-full max-w-md sm:max-w-2xl",children:QCe.map((r,i)=>u.jsxs("div",{className:"bg-white/70 rounded-lg sm:rounded-xl p-4 sm:p-6 flex flex-col items-center shadow-sm",children:[r.icon,u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-700 mb-1",children:r.title}),u.jsx("p",{className:"text-gray-500 text-center text-xs sm:text-sm",children:r.description})]},i))})]}),u.jsx("footer",{className:"bg-white/90 mt-12 sm:mt-16",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"col-span-1 md:col-span-2",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(ki,{className:"h-8 w-8 text-blue-600 mr-3"}),u.jsx("span",{className:"text-xl font-bold text-blue-700",children:"QuickXerox"})]}),u.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Your trusted partner for quick and reliable printing services. Upload, order, and pick up your prints from nearby shops."}),u.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Vr,{className:"h-4 w-4 mr-2"}),u.jsx("a",{href:"mailto:workwithquickxerox@email.com",className:"hover:text-blue-600",children:"workwithquickxerox@email.com"})]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx("button",{onClick:e,className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Contact Us"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>n("shipping"),className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Shipping Policy"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>n("terms"),className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Terms & Conditions"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>n("cancellations"),className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Cancellations & Refunds"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>n("privacy"),className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Privacy Policy"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Services"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"Document Printing"}),u.jsx("li",{children:"Photo Printing"}),u.jsx("li",{children:"Banner Printing"}),u.jsx("li",{children:"Business Cards"}),u.jsx("li",{children:"Express Service"})]})]})]}),u.jsxs("div",{className:"border-t border-gray-200 mt-8 pt-8 flex flex-col sm:flex-row justify-between items-center",children:[u.jsxs("p",{className:"text-sm text-gray-500",children:[" ",new Date().getFullYear()," QuickXerox. All rights reserved."]}),u.jsxs("div",{className:"flex space-x-4 mt-4 sm:mt-0",children:[u.jsx("button",{onClick:()=>n("privacy"),className:"text-xs text-gray-500 hover:text-blue-600",children:"Privacy"}),u.jsx("button",{onClick:()=>n("terms"),className:"text-xs text-gray-500 hover:text-blue-600",children:"Terms"})]})]})]})}),u.jsx("style",{children:`
        @keyframes pulse-slow {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.6; }
        }
        .animate-pulse-slow {
          animation: pulse-slow 2s cubic-bezier(.4,0,.6,1) infinite;
        }
      `})]})},ZCe=()=>{const[t,e]=j.useState(null),[n,r]=j.useState(!1);j.useEffect(()=>{const a=o=>{o.preventDefault(),e(o),r(!0)};return window.addEventListener("beforeinstallprompt",a),()=>{window.removeEventListener("beforeinstallprompt",a)}},[]);const i=async()=>{if(!t)return;t.prompt();const{outcome:a}=await t.userChoice;console.log(a==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),r(!1)},s=()=>{r(!1)};return n?u.jsx("div",{className:"fixed bottom-4 left-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(ty,{className:"h-6 w-6 text-blue-600"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:"Install QuickXerox"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Add to home screen for quick access"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:i,className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Install"}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-1","aria-label":"Dismiss install prompt",children:u.jsx(vr,{className:"h-5 w-5"})})]})]})}):null},ro=({children:t,type:e="customer"})=>{const n=Nu();let r=!1;if(e==="seller"?r=localStorage.getItem("isSellerAuthenticated")==="true":e==="admin"?r=localStorage.getItem("isAdminAuthenticated")==="true":r=localStorage.getItem("isAuthenticated")==="true",!r){let i="/login";return e==="seller"?i="/seller/login":e==="admin"&&(i="/admin/login"),u.jsx(I4,{to:i,state:{from:n},replace:!0})}return u.jsx(u.Fragment,{children:t})};function e2e(){return u.jsxs(SH,{children:[u.jsxs(xH,{children:[u.jsx(gn,{path:"/",element:u.jsx(I4,{to:"/login",replace:!0})}),u.jsx(gn,{path:"/landingpage",element:u.jsx(JCe,{})}),u.jsx(gn,{path:"/login",element:u.jsx(OCe,{})}),u.jsx(gn,{path:"/seller/login",element:u.jsx(jCe,{})}),u.jsx(gn,{path:"/ip-blocked",element:u.jsx(XCe,{})}),u.jsx(gn,{path:"/customerdashboard",element:u.jsx(ro,{children:u.jsx(roe,{})})}),u.jsx(gn,{path:"/account",element:u.jsx(ro,{children:u.jsx(BCe,{})})}),u.jsx(gn,{path:"/seller/dashboard",element:u.jsx(ro,{type:"seller",children:u.jsx(kCe,{})})}),u.jsx(gn,{path:"/admin/invite-seller",element:u.jsx(UCe,{})}),u.jsx(gn,{path:"/seller-invitation",element:u.jsx(zCe,{})}),u.jsx(gn,{path:"/admin/login",element:u.jsx(WCe,{})}),u.jsx(gn,{path:"/admin/dashboard",element:u.jsx(ro,{type:"admin",children:u.jsx(HCe,{})})}),u.jsx(gn,{path:"/admin/orders",element:u.jsx(ro,{type:"admin",children:u.jsx(KCe,{})})}),u.jsx(gn,{path:"/admin/sellers",element:u.jsx(ro,{type:"admin",children:u.jsx(GCe,{})})}),u.jsx(gn,{path:"/admin/sellers/:sellerId",element:u.jsx(ro,{type:"admin",children:u.jsx(YCe,{})})})]}),u.jsx(ZCe,{})]})}Uw.createRoot(document.getElementById("root")).render(u.jsxs($.StrictMode,{children:[u.jsx(e2e,{}),u.jsx(Nq,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",fontSize:"14px",maxWidth:"400px",padding:"16px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},success:{duration:3e3,style:{background:"linear-gradient(135deg, #10b981, #059669)",color:"#ffffff",fontSize:"16px",fontWeight:"600",padding:"20px 24px",borderRadius:"16px",boxShadow:"0 20px 40px rgba(16, 185, 129, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)"},iconTheme:{primary:"#ffffff",secondary:"#10b981"}},error:{duration:4e3,style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"#ffffff",fontSize:"16px",fontWeight:"600",padding:"20px 24px",borderRadius:"16px",boxShadow:"0 20px 40px rgba(239, 68, 68, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)"},iconTheme:{primary:"#ffffff",secondary:"#ef4444"}}}})]}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
